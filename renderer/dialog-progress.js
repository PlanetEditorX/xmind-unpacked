(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[3886],{53502:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>i});var o=t(23645),r=t.n(o)()((function(e){return e[1]}));r.push([e.id,"progress[value][data-v-c6b1f276]::-webkit-progress-bar {\n  background-color: #d8d8d8;\n  border-radius: 5px;\n}\nprogress[value][data-v-c6b1f276]::-webkit-progress-value {\n  border-radius: 5px;\n}\nprogress[value][data-v-c6b1f276] {\n  border-radius: 5px;\n  height: 6px;\n}\n.merging-progress[data-v-c6b1f276] {\n  margin: 0 32px;\n}\n.common-progress[data-v-c6b1f276] {\n  margin-right: 24px;\n}\n.checking-bar[data-v-c6b1f276] {\n  margin: 10px 0;\n  width: 100%;\n  max-width: 500px;\n  height: 8px;\n  border-radius: 4px;\n}\n@keyframes indeterminate-c6b1f276 {\n0% {\n    transform: translateX(-100px);\n}\n100% {\n    transform: translateX(500px);\n}\n}\n.progress-custom-parent[data-v-c6b1f276] {\n  overflow: hidden;\n  position: relative;\n}\n.ui-mprogress[data-v-c6b1f276] {\n  pointer-events: none;\n}\n.indeter-bar[data-v-c6b1f276] {\n  position: absolute;\n  z-index: 1032;\n  top: 0;\n  left: 0;\n  width: 100px;\n  height: 8px;\n  border-radius: 4px;\n  background: #039be5;\n  animation: indeterminate-c6b1f276 1800ms infinite ease-in;\n}\n.bar-bg[data-v-c6b1f276] {\n  position: absolute;\n  z-index: 1031;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n}\n.progress-title[data-v-c6b1f276] {\n  margin-bottom: var(--spacing-margin-s);\n}\n.progress-icon[data-v-c6b1f276] {\n  width: 114px;\n  height: 114px;\n  padding: 8px;\n  box-sizing: border-box;\n}\n",""]);const i=r},23645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);o&&r[d[0]]||(t&&(d[2]?d[2]="".concat(t," and ").concat(d[2]):d[2]=t),n.push(d))}},n}},8547:(e,n,t)=>{"use strict";t.r(n);var o=t(59042),r=t(63477),i=t.n(r),a=t(2954),s=t(18621),d=t(54856),c=t(90435),l=t(63111),u=t(13908),p=t(69931),v=t(87141),m=t(12455),w=t(7710);const f=(0,a.aZ)({__name:"app",setup(e){const n={xlsx:"xlsx",powerpoint:"ppt",markdown:"markdown",opml:"opml",pdf:"pdf",textBundle:"text-bundle",docx:"docx",xmind:"xmind",png:"png",svg:"svg",jpeg:"jpeg"},t=(0,a.Fl)((()=>(0,w.l)().query)),o=(0,a.Fl)((()=>t.value.type)),r=(0,a.Fl)((()=>t.value.fileTotalCount)),i=(0,a.iH)(""),f=(0,a.iH)(0),g=(0,a.iH)(""),h=(0,a.iH)(null),y=(0,v.JE)().T,b=(0,a.Fl)((()=>(0,u.E)().appearance)),k=(0,a.Fl)((()=>{var e;return null===(e=(0,m.A)())||void 0===e?void 0:e.saving})),x=(0,a.Fl)((()=>{var e;return null===(e=(0,m.A)())||void 0===e?void 0:e.exporting})),P=(0,a.Fl)((()=>{var e;return null===(e=(0,m.A)())||void 0===e?void 0:e.mergingCount})),L=(0,a.Fl)((()=>{var e;return null===(e=(0,m.A)())||void 0===e?void 0:e.uploading})),A=(0,a.Fl)((()=>{const e={xmind:{showWindowControlButtonGroup:!0,showPreserveIcon:!0,progressContainerClass:"common-progress",useIndeterBar:!1,mountedHandlerType:"default",text:y("Saving File")},merging:{showWindowControlButtonGroup:!0,showPreserveIcon:!1,progressContainerClass:"merging-progress",useIndeterBar:!1,mountedHandlerType:"merging",text:y("Merging")},"create-theme":{showWindowControlButtonGroup:!1,showPreserveIcon:!1,progressContainerClass:"merging-progress",useIndeterBar:!0,mountedHandlerType:"nothing",text:y("Extracting Theme")},"loading-theme":{showWindowControlButtonGroup:!1,showPreserveIcon:!1,progressContainerClass:"merging-progress",useIndeterBar:!0,mountedHandlerType:"nothing",text:y("Loading Theme")},uploading:{showWindowControlButtonGroup:!1,showPreserveIcon:!1,progressContainerClass:"merging-progress",useIndeterBar:!1,mountedHandlerType:"default",text:y("Uploading File")},default:{showWindowControlButtonGroup:!0,showPreserveIcon:!0,progressContainerClass:"common-progress",useIndeterBar:!1,mountedHandlerType:"default",text:y("Exporting")}};return e[o.value]||e.default}));(0,a.wF)((()=>{let e=!1;f.value=Date.now(),window.addEventListener("beforeunload",(n=>{if(!e){n.preventDefault(),n.returnValue=!1,e=!0;const t=l.DJ-(Date.now()-f.value);setTimeout((()=>{window.close()}),t)}}))})),(0,a.bv)((()=>{switch(g.value=(0,p.ju)(`static/images/progress-icon/${b.value}/${n[o.value]}.svg`),A.value.mountedHandlerType){case"merging":P.value===Number(r.value)?(Z(),C()):E(P.value);break;case"nothing":break;default:Z(),k.value||x.value||L.value||C()}document.addEventListener("keydown",(e=>{27===e.keyCode&&(e.preventDefault(),e.stopPropagation())})),(0,s.L9)({eventCategory:"WorkBench",eventAction:"showProgress",eventName:o.value})})),(0,a.YP)(k,(e=>{e||C()})),(0,a.YP)(x,(e=>{if(!e){const e=l.DJ-(Date.now()-f.value);e>0?setTimeout((()=>{C()}),e-200):C()}})),(0,a.YP)(P,(e=>{E(e)}));const C=()=>{const e=h.value;e&&(e.value=100)},Z=()=>{const e=h.value;if(h.value){let n=null;n=setInterval((()=>{e.value+=Math.random(),e.value>=95&&clearInterval(n)}),300)}},E=e=>{const n=h.value,t=100*Number((e/r.value).toFixed(2));n.value=t,i.value=`${e} / ${r.value}`};return{__sfc:!0,typeDict:n,query:t,type:o,fileTotalCount:r,desc:i,startTime:f,typeIcon:g,progress:h,$T:y,appearance:b,saving:k,exporting:x,mergingCount:P,uploading:L,config:A,completed:C,execFakeProgress:Z,updateMergingProgress:E,handleStopUploading:()=>{c.ZP.fetch((0,d.iM)(window.id),{stopUploading:!0}).then((()=>window.close()))}}}});t(10051);const g=(0,t(51900).Z)(f,(function(){var e=this,n=e._self._c,t=e._self._setupProxy;return n("div",{staticClass:"vk-window-dialog vk-window-secondary",attrs:{id:"app"}},[n("div",{staticClass:"vk-window-title-bar vk-window-title-bar-floating"},[t.config.showWindowControlButtonGroup?n("window-control-button-group"):e._e()],1),e._v(" "),n("div",{staticClass:"vk-window-body uk-flex uk-flex-row uk-flex-middle",staticStyle:{padding:"var(--spacing-padding-m)","padding-right":"32px"}},[t.config.showPreserveIcon?n("div",{staticClass:"uk-background-cover uk-flex uk-flex-center uk-flex-column uk-flex-middle",staticStyle:{"margin-right":"var(--spacing-margin-l)"}},[n("img",{staticClass:"progress-icon",attrs:{src:t.typeIcon,draggable:"false"}})]):e._e(),e._v(" "),n("div",{class:`${t.config.progressContainerClass} uk-panel uk-flex uk-flex-column uk-width-expand`},[n("div",{staticClass:"typography-headline-small progress-title"},[e._v("\n        "+e._s(t.config.text)+" "+e._s(t.$T("..."))+" "+e._s(t.desc)+"\n      ")]),e._v(" "),t.config.useIndeterBar?n("div",{staticClass:"checking-bar progress-custom-parent"},[e._m(0)]):n("div",{staticClass:"uk-margin-small"},[n("progress",{ref:"progress",staticClass:"vk-progress",attrs:{value:"0",max:"100"}})])])]),e._v(" "),t.uploading?n("div",{staticClass:"vk-window-button-bar"},[n("div",{staticClass:"vk-button-group"},[n("button",{staticClass:"vk-button-default vk-size-small",on:{click:t.handleStopUploading}},[e._v("\n        "+e._s(t.$T("Stop Uploading"))+"\n      ")])])]):e._e()])}),[function(){var e=this,n=e._self._c;e._self._setupProxy;return n("div",{staticClass:"ui-progress"},[n("div",{staticClass:"indeter-bar"}),e._v(" "),n("div",{staticClass:"bar-bg uk-background-default"})])}],!1,null,"c6b1f276",null).exports;var h=t(72298);const y=i().parse(location.search.slice(1));!async function(){await(0,o.Z)(g,{name:"dialog-process",editorId:y.editorId}),h.ipcRenderer.send("renderer-js-load")}()},59042:(e,n,t)=>{"use strict";t.d(n,{Z:()=>fe});var o=t(47311),r=t(23352),i=t(90435);const a=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",s=(0,r.ZP)(`error:${a}`),d=new o.q(s,{ipc:i.ZP});window.addEventListener("error",(function(e){const n=e.error;n&&d.handle(n)})),window.addEventListener("unhandledrejection",(function(e){const n=e.reason;n&&d.handle(n)}));const c=d;var l=t(2954),u=t(63477),p=t.n(u),v=t(72298),m=t(67657),w=t(13780),f=t.n(w),g=t(30266),h=t(86396),y=t(31945),b=t(54856),k=t(73884),x=t(28914),P=t(56222),L=t(79409),A=t(65114),C=t(77412);const Z={install(e){const n="vana-ref";e.directive(n,{bind:function(e,n,t){n.value(t.componentInstance||e,t.key)},update:function(e,t,o,r){if(r.data&&r.data.directives){var i=r.data.directives.find((function(e){return e.name===n}));if(i&&i.value!==t.value)return i&&i.value(null,r.key),void t.value(o.componentInstance||e,o.key)}o.componentInstance===r.componentInstance&&o.elm===r.elm||t.value(o.componentInstance||e,o.key)},unbind:function(e,n,t){n.value(null,t.key)}})}};var E=t(87141);const S={install(e){e.prototype.$T=function(e,...n){return(0,E.JE)().T(e,...n)}}};var T=t(96829);const I=(0,r.ZP)("safe-runner");const N=class{constructor(e){this.errorHandler=e}_handleError(e){"function"==typeof this.errorHandler?this.errorHandler(e):I.error((0,T.SC)(e))}install(e){const n=this;e.prototype.$safeRun=function(e){try{let t=e();return t&&t.then&&t.catch?t.then((e=>e)).catch((e=>n._handleError(e))):t}catch(e){n._handleError(e)}}}};var _=t(69931);const F={install(e){e.prototype.$toResourceURL=(...e)=>(0,_.ju)(...e).replace("(","%28").replace(")","%29"),e.prototype.$loadResource=_.zD}};var $=t(53775),B=t(59474);var J=t(30247),z=t(2563),j=t(65428);const D=(0,r.ZP)("font");var H=t(22037),q=t.n(H),R=t(38629);const O=(0,r.ZP)("performance");function M(e){e?document.body.style.setProperty("--uk-system-accent-color",e):document.body.style.removeProperty("--uk-system-accent-color")}var W=t(63111),X=t(18621),Y=t(69297),G=t(20993);const U={start:()=>{const e=(0,B.i)();e.startJob();const n=(0,l.YP)((()=>e.pendingJobs),(t=>{t>0||(n(),e.markReady())}));setTimeout((()=>e.endJob()),0)}},V=(()=>{const e=[],n=new Map;return{start:()=>{const e=(0,B.i)();e.startJob(),i.ZP.fetch(b.de).then((n=>{Object.keys(n).forEach((e=>{var t;const o=(0,E.F_)(e);null===(t=null==o?void 0:o())||void 0===t||t.$patch(n[e])})),k.Z.on(A.Md,(e=>{e.forEach((({id:e,state:n})=>{var t;const o=(0,E.F_)(e);null===(t=null==o?void 0:o())||void 0===t||t.$patch((0,l.qj)(n))}))})),e.endJob()}))},plugin:t=>{(0,E.W$)(t.store.$id)&&t.store.$subscribe(((o,r)=>{if(t.store.$id!==o.storeId)return;const a=n.get(o.storeId);n.set(o.storeId,!0),(null===window||void 0===window?void 0:window.isEditorFrame)||a&&o.type!==C.x1.patchObject&&(0,E.W$)(o.storeId)&&(e.push({id:o.storeId,state:JSON.parse(JSON.stringify(r))}),Promise.resolve().then((()=>{i.ZP.fetch(b.w6,{states:e}),e.length=0})))}))}}})(),Q={start:()=>{(0,j.r)();const e=(0,_.ju)("/static/snowbird/resource/"),n=function(){const e={};return J.Fy(((n,t)=>{e[n]=t.map((e=>({...e,family:n})))})),e}(),t=Object.values(n).flat().map((n=>function({family:e,src:n,italic:t,weight:o,"unicode-range":r},i){const a=new URL(n,i).href;let s={family:e,source:`url("${a}")`,url:a};return void 0!==t&&(s={...s,style:t?"italic":"normal"}),void 0!==o&&(s={...s,weight:o.toString()}),void 0!==r&&(s={...s,unicodeRange:r}),s}(n,e)));!function(e){Promise.all(e.map((({family:e,source:n,...t})=>{const o=new FontFace(e,n,t);return o.load().then((()=>{document.fonts.add(o)})).catch((()=>{D.error("Failed to load css font from",n)}))})))}(t),function(){const e=document.createElement("style"),n=J.Hn();e.innerHTML=n,document.head.appendChild(e),document.body.style.setProperty("--info-button-font",J.o6)}(),(0,z.O)().updateBuiltinFontFamilies(Array.from(new Set(Object.keys(n))))}},K={start:()=>{const e=(0,B.i)(),{_apr:n,_acc:t}=p().parse(location.search.slice(1));n&&(e.startJob(),O.debug("About to load CSS using _apr query parameter:",n),(0,R.Z)(n,(()=>{O.debug("Loaded CSS using _apr query parameter:",n),setTimeout((()=>{e.endJob()}),10)}))),t&&M(t),"darwin"===q().platform()&&parseFloat(q().release())>=20&&document.body.classList.add("uk-darwin-bigsur"),(0,l.YP)((()=>(0,E.S)().language),((e,n)=>{n&&document.body.classList.remove(`uk-lang-${n}`),e&&document.body.classList.add(`uk-lang-${e}`)}));const o=(0,l.YP)((()=>(0,B.i)().ready),(e=>{e&&(o(),(0,l.YP)((()=>[(0,E.S)().appearance,(0,z.O)().ignoreAppearanceChanged]),(([e,n])=>{n||(0,R.Z)(e)})),(0,l.YP)((()=>(0,E.qr)().systemAccentColor),(e=>M(e))),(0,l.YP)((()=>(0,E.S)().systemScrollbarSetting),(e=>function(e){const n="vk-scrollbar";document.body.classList.forEach((e=>{e.startsWith(n)&&document.body.classList.remove(e)})),document.body.classList.add(`${n}-${(e||"always").toLowerCase()}`)}(e)),{immediate:!0}))}))}},ee={start:()=>{W.nd&&W.qu.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>(async()=>(await i.ZP.fetch(b.QN),"interruption"))()))})),Object.keys(W.JN).concat(Object.keys(W.oF)).forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{const n=(0,E.JX)().commandById(e);return(null==n?void 0:n.provider)?(async(e,n)=>{if(!await i.ZP.fetch(b.Gy,{name:e,channel:(0,b.gk)(n)}))return"interruption"})(e,n.provider):"interruption"}))})),W.ZK.forEach((e=>{(0,E.JX)().appendAfterHandler(e,(()=>{const n=e.split(".")[1];(0,X.L9)({eventCategory:"Edit",eventAction:n,eventValue:1})}))})),W.ff.forEach((e=>{(0,E.JX)().appendAfterHandler(e,(()=>{(0,X.L9)({eventCategory:"Share",eventAction:e,eventValue:1})}))})),W.y_.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{(0,Y.Kl)()}))})),W.xk.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{(0,Y.fv)()}))})),W.wp.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{(0,Y.nz)()}))})),(0,E.JX)().appendAfterHandler("editor.addTodo",G.l5),(0,E.JX)().appendAfterHandler("editor.cancelTask",G.DY),(0,E.JX)().appendAfterHandler("editor.checkTodo",(()=>{(0,G.fR)("checkTask")})),(0,E.JX)().appendAfterHandler("editor.uncheckTodo",(()=>{(0,G.fR)("uncheckTask")})),W.QL.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{if((0,E.si)().contexts["collaboration.isReadOnly"])return"interruption"}))})),W.gY.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{if((0,E.si)().contexts["collaboration.isFromCloud"])return"interruption"}))}))}},ne={start:()=>{const e=(0,B.i)();e.startJob(),(0,E.JX)().injectDoHandleCommand((async(e,n)=>i.ZP.fetch(b.hR,{commandId:e,handlerArgs:n}))),e.endJob()}},te=[V.plugin];var oe=t(7710);const re=p().parse(window.location.search.slice(1)),ie=!0,ae=!!re.isBrowserView,se=!!re.isEditorFrame;let de=m.getCurrentWindow;ae&&(de=function(){const e=x.Z.sendSync("get-current-window-id");return m.BrowserWindow.fromId(parseInt(e))});const ce=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",le=(0,r.ZP)("performance"),ue=(0,r.ZP)("sentry");le.debug("Initializing page:",ce),v.webFrame.setVisualZoomLevelLimits(1,1),document.body.classList.add("uk-win32"),Object.defineProperty(window,"id",{get:()=>de().id}),window.getWindowIdAsync=async()=>await(0,P.A)("get-current-window-id");window.getCurrentWindowAsync=async()=>{const e=await window.getWindowIdAsync();return m.BrowserWindow.fromId(parseInt(e))},window.isEditorFrame=se;const pe=l.ZP.observable({isBeingDestroyed:!1,isDestroyed:!1,isShown:!1});["isBeingDestroyed","isDestroyed","isShown"].forEach((e=>{Object.defineProperty(window,e,{get:()=>pe[e],set(n){pe[e]=n}})})),window.show=()=>{de().show()},window.hide=()=>{de().hide()},window.close=()=>{de().close()},window.minimize=()=>{de().minimize()},window.maximize=()=>{de().maximize()},window.restore=()=>{de().unmaximize()},window.isMinimized=()=>de().isMinimized(),window.isMaximized=()=>de().isMaximized(),window.isFullScreen=()=>de().isFullScreen(),window.resizeTo=(e,n)=>{de().setContentSize(e,n)},window.resizeBy=(e,n)=>{let[t,o]=de().getContentSize();de().setContentSize(t+e,o+n)},window.moveTo=(e,n)=>{de().setPosition(e,n)},window.moveBy=(e,n)=>{let[t,o]=de().getPosition();de().setPosition(t+e,o+n)},k.Z.on("window-maximize",(()=>{document.body.classList.add("uk-window-maximized"),window.dispatchEvent(new Event("maximize"))})),k.Z.on("window-unmaximize",(()=>{document.body.classList.remove("uk-window-maximized"),window.dispatchEvent(new Event("restore"))})),k.Z.on("window-minimize",(()=>{window.dispatchEvent(new Event("minimize"))})),k.Z.on("window-unminimize",(()=>{window.dispatchEvent(new Event("unminimize"))})),k.Z.on("window-focus",(()=>{document.body.classList.remove("uk-window-inactive")})),k.Z.on("window-blur",(()=>{document.body.classList.add("uk-window-inactive")})),k.Z.on("window-enter-full-screen",(()=>{document.body.classList.add("uk-window-full-screen"),window.dispatchEvent(new Event("enter-full-screen"))})),k.Z.on("window-leave-full-screen",(()=>{document.body.classList.remove("uk-window-full-screen"),window.dispatchEvent(new Event("leave-full-screen"))})),k.Z.on("window-sheet-begin",(()=>{document.body.classList.add("uk-disabled"),window.dispatchEvent(new Event("sheet-begin"))})),k.Z.on("window-sheet-end",(()=>{document.body.classList.remove("uk-disabled"),window.dispatchEvent(new Event("sheet-end"))})),k.Z.on("window-show",(()=>{window.dispatchEvent(new Event("window-show"))})),k.Z.on(A.$r,(e=>{(0,oe.l)().setQuery(e)}));const ve=de&&de();if(ve&&ve.isMaximized()&&document.body.classList.add("uk-window-maximized"),ve&&ve.isFullScreen()&&document.body.classList.add("uk-window-full-screen"),ve&&!ve.isFocused()&&document.body.classList.add("uk-window-inactive"),document.addEventListener("keydown",(e=>{27===e.keyCode&&document.body.querySelector(".uk-window-dialog")&&setTimeout((()=>{if(e.defaultPrevented)return;const n=new Event("close");window.dispatchEvent(n)&&window.close()}),0)})),ve&&ve.isMaximizable&&ve.isMaximizable()){const e=["a","button","select","input"];document.addEventListener("dblclick",(n=>{const{target:t,defaultPrevented:o}=n;if(o)return;let r=t;for(;r&&"function"==typeof r.matches;){if(e.some((e=>r.matches(e))))return;r=r.parentNode}let i=document.querySelector(".vk-window-title-bar-expanded")||document.querySelector(".vk-window-title-bar");i&&i.contains(t)&&(window.isMaximized()?window.restore():window.maximize())}))}l.ZP.use(C.og),l.ZP.use(new N((e=>c.handle(e)))),l.ZP.use(f()),l.ZP.use(S),l.ZP.use(F),l.ZP.use(Z),l.ZP.use(g.ZP.Plugin),le.debug("Initialized page:",ce);const me=(0,C.WB)();(0,C.uX)(me),te.forEach((e=>me.use(e))),Object.values(E.rx).forEach((e=>e())),U.start(),V.start(),Q.start(),K.start(),ee.start(),ne.start();const we=(0,L.Z)("version").includes("beta");if(process.env.SENTRY_DSN_OF_BROWSER&&we){const e=(0,l.YP)((()=>(0,E.qr)().sentryConfig),(n=>{e();try{const e=n[process.env.SENTRY_PROJECT_OF_BROWSER]||{};h.S({Vue:l.ZP,dsn:process.env.SENTRY_DSN_OF_BROWSER,environment:"production",...e}),ue.info("init",e)}catch(e){ue.error("Failed to init sentry",e)}}),{immediate:!1})}async function fe(e,{mountTarget:n="#app",name:t=null,plugins:o=[],runAfterPiniaPlugin:r,editorId:a=null,autoShow:s=!0}={}){le.debug("Bootstrapping:",ce);for(let e of o)l.ZP.use(e);let d;return(0,E._t)((0,y.b3)(window.id)),"dialog-err"===t&&(0,E.VE)((0,y.zN)("dialog-err",window.id)),"dialog-problem"===t&&(0,E.ym)((0,y.zN)("dialog-problem",window.id)),a&&(0,E.OD)((0,y.aJ)(a)),await new Promise((t=>{let o=(0,l.YP)((()=>(0,B.i)().ready),(a=>{a&&(o(),document.body.classList.add(`uk-lang-${(0,E.S)().language}`),r?.(me),le.debug("About to create Vue instance:",ce),d=new l.ZP({...e,pinia:me}),le.debug("Created Vue instance:",ce),window.addEventListener("unload",(()=>{window.isBeingDestroyed=!0,d.$destroy(),window.isDestroyed=!0})),le.debug("About to mount Vue instance:",ce),d.$mount(n||"#app"),le.debug("Mounted Vue instance:",ce),(0,$.qJ)().then((async()=>{if(!s)return;const e=await window.getWindowIdAsync();!ie&&await i.ZP.fetch((0,b.EV)(e),"show"),ie&&await i.ZP.fetch((0,b.EV)(e),"moveToShow"),window.isShown=!0})),t(d))}))})),d}},94593:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var o=t(81296),r=t.n(o);const i=(0,t(23352).ZP)("ipc:proxy:"),a=new Proxy(r(),{get(e,n){let t=Reflect.get(e,n);return"function"==typeof t?(...o)=>{if(!window.isDestroyed)return t.apply(e,o);i.error(`window has been destroyed, we should not invoke fsp.${n})`)}:t}})},56222:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var o=t(72298);let r=0;function i(e,n){return new Promise((t=>{const i=r++;o.ipcRenderer.once(`internal-ipc-api-reply:${e}:${i}`,((e,{data:n=null})=>{t(n)})),o.ipcRenderer.send(`internal-ipc-api:${e}`,{payload:n,seq:i})}))}},28914:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var o=t(72298);const r=(0,t(23352).ZP)("ipc:proxy:"),i=new Proxy(o.ipcRenderer,{get(e,n){let t=Reflect.get(e,n);return"function"==typeof t?(...o)=>{if(!window.isDestroyed)return t.apply(e,o);r.error(`window has been destroyed, we should not invoke ipcRenderer.${n} with args (${JSON.stringify(o)})`)}:t}})},90435:(e,n,t)=>{"use strict";t.d(n,{ZP:()=>d,he:()=>s});var o=t(96829),r=t(28914);const i=new Map;let a=0;function s(e,n){const t=i.get(e);return t?Promise.resolve().then((()=>t(n))):new Promise(((t,i)=>{const s=a++;r.Z.once(`ipc-api-reply:${e}:${s}`,((e,{error:n=null,data:r=null})=>{n?i((0,o.aq)(n)):t(r)})),r.Z.send(`ipc-api:${e}`,{payload:n,seq:s})}))}const d={fetch:s,route:function(e,n){if("function"!=typeof n)throw new Error(`IPC API "${e}" is routed to invalid handler: ${typeof n}`);if(i.has(e))throw new Error(`IPC API "${e}" is routed twice`);const t=`ipc-api:${e}`;if(r.Z.eventNames().includes(t))throw new Error(`IPC API "${e}" is routed twice`);const a=(t,{payload:i=null,seq:a=0}={})=>{const s=`ipc-api-reply:${e}:${a}`;Promise.resolve().then((()=>n(i))).then((e=>{r.Z.send(s,{data:e})})).catch((e=>{r.Z.send(s,{error:(0,o.SC)(e)})}))};return i.set(e,n),r.Z.on(t,a),r.Z.send("ipc-api-register",{apiName:e}),()=>{r.Z.send("ipc-api-unregister",{apiName:e}),r.Z.removeListener(t,a),i.delete(e)}}}},23352:(e,n,t)=>{"use strict";t.d(n,{ZP:()=>c});var o=t(82134),r=t(96829),i=t(79409),a=t(72298);const s=new o.Jq(global.console,{colorful:!1}),d=new o.Yd({isDebugging:(0,i.Z)("version").indexOf("-alpha")>=0||(0,i.Z)("version").indexOf("-dev")>=0||r.x,handle(e){s.handle(e),function(e){a.ipcRenderer.send("logger:handleLogEvent",e)}(e)}}),c=(e=null)=>d.logger(e)},79409:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});var o=t(71017),r=t.n(o),i=t(57147),a=t.n(i),s=t(7104);let d=null;function c(e=null){return d||(d=JSON.parse(a().readFileSync(r().join((0,s.bY)(),"package.json")))),e?d[e]:d}},69931:(e,n,t)=>{"use strict";t.d(n,{Al:()=>u,ju:()=>d,pP:()=>c,zD:()=>l});var o=t(71017),r=t.n(o),i=t(94593),a=t(7104),s=t(5893);function d(e){return(0,s.u3)(r().join((0,a.bY)(),e))}function c(e){return(0,s.u3)(r().join((0,a.D8)(),e))}function l(e){return i.Z.readFile(r().join((0,a.bY)(),e))}const u=(...e)=>d(...e).replace("(","%28").replace(")","%29")},73884:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var o=t(82361),r=t.n(o),i=t(28914);const a=new(r()),s=a.emit;a.emit=function(e,...n){s.call(a,e,...n),c(e)&&i.Z.send("revents:broadcast",[e,...n])},a.on("newListener",(e=>{if(c(e)){0===a.eventNames().filter(c).length&&i.Z.send("revents:register")}})),a.on("removeListener",(e=>{if(c(e)){0===a.eventNames().filter(c).length&&i.Z.send("revents:unregister")}}));const d=a.removeAllListeners;function c(e){return"newListener"!==e&&"removeListener"!==e}a.removeAllListeners=function(e){if(!e)throw new Error("revents's removeAllListeners is forbidden!");if("newListener"===e||"removeListener"===e)throw new Error('revents\'s "newListener" and "removeListener" handler should not be removed');d.call(a,e)},i.Z.on("revents:broadcast",((e,n)=>{let t=JSON.parse(n);s.apply(a,t)})),window.addEventListener("unload",(()=>{i.Z.send("revents:unregister")}));const l=a},69297:(e,n,t)=>{"use strict";t.d(n,{Do:()=>i,Kl:()=>a,N1:()=>r,fv:()=>s,nz:()=>d});var o=t(28914);function r(){return o.Z.sendSync("usage-stats:data")}function i(){o.Z.send("usage-stats:increase",{type:"dwellTimeInZenMode",value:1e3})}function a(e=1){o.Z.send("usage-stats:increase",{type:"topicsAdded",value:e})}function s(e=1){o.Z.send("usage-stats:increase",{type:"sheetsAdded",value:e})}function d(e=1){o.Z.send("usage-stats:increase",{type:"eventsTriggered",value:e})}},18621:(e,n,t)=>{"use strict";t.d(n,{Fk:()=>i,L9:()=>r});var o=t(28914);function r(e){o.Z.send("usage-tracker:track-event",{event:e})}function i(e){o.Z.send("usage-tracker:track-view",{view:e})}},7104:(e,n,t)=>{"use strict";t.d(n,{D8:()=>l,Im:()=>m,L2:()=>p,N8:()=>u,O1:()=>w,Xl:()=>h,bY:()=>c,d6:()=>g,tM:()=>f,tY:()=>v});var o=t(71017),r=t.n(o),i=t(72298),a=t(56222);let s=null;let d=null;function c(){return d||(d=i.ipcRenderer.sendSync("workspace:appPath")),d}function l(){return r().join((s||(s=i.ipcRenderer.sendSync("workspace:userData")),s),"vana")}function u(){return r().join(l(),"workbooks")}function p(){return r().join(l(),"file-cache")}function v(){return r().join(l(),"theme")}function m(){return r().join(l(),"smart-color")}function w(){return r().join(l(),"illustrations")}function f(){return r().join(l(),"templates")}function g(){return r().join(c(),"static/snowbird/resource/")}async function h(){return s||(s=await(0,a.A)("workspace:userData")),r().join(s,"vana","workbooks")}},38629:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var o=t(69931);function r(e,n=null){document.documentElement.setAttribute("color-scheme","default"===e?"light":"dark");if(document.querySelector("#appearance_link"))return void("function"==typeof n&&n());const t=(0,o.ju)("static/vanakit/themes/vana.css"),r=document.createElement("link");r.type="text/css",r.id="appearance_link",r.rel="stylesheet",r.href=t,r.setAttribute("data-appearance",e),"function"==typeof n&&(r.onload=()=>n()),document.head.appendChild(r)}},20993:(e,n,t)=>{"use strict";t.d(n,{AZ:()=>j,Ao:()=>$,Bv:()=>g,C3:()=>L,CI:()=>D,CN:()=>C,DY:()=>s,I1:()=>w,JC:()=>r,NK:()=>l,Pr:()=>p,TJ:()=>y,Vs:()=>Z,Wr:()=>B,Xz:()=>N,Yj:()=>k,Zk:()=>u,_5:()=>I,_6:()=>A,cZ:()=>b,cx:()=>_,dx:()=>m,fR:()=>a,jB:()=>v,kI:()=>d,l5:()=>i,p3:()=>c,sF:()=>S,sG:()=>P,t0:()=>z,wH:()=>J,wp:()=>h,xG:()=>E,xg:()=>x,xy:()=>f,yo:()=>F,zH:()=>T});var o=t(18621);const r=e=>(0,o.L9)({eventName:"Gallery",eventAction:e}),i=()=>(0,o.L9)({eventAction:"insertTask",eventName:"insertTask"}),a=e=>(0,o.L9)({eventAction:"editTask",eventName:e}),s=()=>(0,o.L9)({eventAction:"cancelTask",eventName:"cancelTask"}),d=e=>(0,o.L9)({eventAction:"highlightTask",eventName:e}),c=e=>(0,o.L9)({eventAction:"insertIllustration",eventName:e}),l=e=>(0,o.L9)({eventAction:"searchIllustration",eventName:e}),u=e=>(0,o.L9)({eventAction:"insertIllustrationPro",eventName:e}),p=(e,n,t)=>(0,o.L9)({eventAction:"openTemplateType",eventName:`${e}_${n}_${t}`}),v=e=>(0,o.L9)({eventAction:"popPW",eventName:e}),m=e=>(0,o.L9)({eventAction:"clickPW",eventName:e}),w=()=>{(0,o.L9)({eventAction:"cancelOverlap"})},f=()=>(0,o.L9)({eventAction:"paymentPage"}),g=()=>(0,o.L9)({eventAction:"paymentPageCN"}),h=()=>(0,o.L9)({eventAction:"paymentSuccessful"}),y=()=>(0,o.L9)({eventAction:"paymentSuccessfulCN"}),b=e=>(0,o.L9)({eventName:"PWD-sp35-240515",eventAction:e}),k=()=>(0,o.L9)({eventAction:"sharetoCollaboration"}),x=()=>(0,o.L9)({eventAction:"sharetoEvernote"}),P=e=>(0,o.L9)({eventAction:"pweDisplay",eventName:e}),L=e=>(0,o.L9)({eventAction:"pweContinue",eventName:e}),A=e=>(0,o.L9)({eventAction:"closePwe",eventName:e}),C=e=>(0,o.L9)({eventAction:"pweOrder",eventName:e}),Z=e=>(0,o.L9)({eventAction:"purchaseSource",eventName:e}),E=e=>(0,o.L9)({eventAction:"purchaseWindow",eventName:e}),S=({region:e,productId:n})=>(0,o.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButton"+e.toLowerCase(),eventName:n}),T=({region:e,productId:n})=>(0,o.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButtonMAS"+e.toLowerCase(),eventName:n}),I=()=>(0,o.L9)({eventAction:"autoDisconnect"}),N=()=>(0,o.L9)({eventAction:"disableSmartGuideline",eventName:"disableSmartGuideline"}),_=()=>(0,o.L9)({eventAction:"enableSmartGuideline",eventName:"enableSmartGuideline"}),F=()=>(0,o.L9)({eventAction:"clickSearchMaps",eventName:"clickSearchMaps"}),$=()=>(0,o.L9)({eventAction:"insertTaskInfo",eventName:"insertTaskInfo"}),B=()=>(0,o.L9)({eventAction:"removeTaskInfo",eventName:"removeTaskInfo"}),J=()=>(0,o.L9)({eventAction:"enableAutoCalculate",eventName:"enableAutoCalculate"}),z=()=>(0,o.L9)({eventAction:"disableAutoCalculate",eventName:"disableAutoCalculate"}),j=()=>(0,o.L9)({eventAction:"disableDisplayinTopic",eventName:"disableDisplayinTopic"}),D=()=>(0,o.L9)({eventAction:"enableDisplayinTopic",eventName:"enableDisplayinTopic"})},12455:(e,n,t)=>{"use strict";t.d(n,{A:()=>i,r:()=>r});var o=t(87141);const r=()=>{const e=(0,o.JS)("frame");return null==e?void 0:e()},i=()=>{const e=(0,o.JS)("editor");return null==e?void 0:e()}},59474:(e,n,t)=>{"use strict";t.d(n,{i:()=>i});var o=t(77412),r=t(2954);const i=(0,o.Q_)("bootstrap",(()=>{const e=(0,r.iH)(!1),n=(0,r.iH)(0);return{ready:e,markReady:()=>e.value=!0,pendingJobs:n,startJob:()=>n.value+=1,endJob:()=>n.value-=1}}))},65428:(e,n,t)=>{"use strict";t.d(n,{r:()=>s});var o=t(54856),r=t(77412),i=t(2954),a=t(90435);const s=(0,r.Q_)("fonts",(()=>{const e=(0,i.iH)(!1),n=(0,i.iH)({systemFonts:{},vanaFonts:{}});return{loaded:e,markLoaded:()=>e.value=!0,getLoadedFonts:async()=>{if(!n.value||Object.keys(n.value.systemFonts).length<=0&&Object.keys(n.value.vanaFonts).length<=0){const e=await(0,a.he)(o.qz);n.value=e}return n.value}}}))},7710:(e,n,t)=>{"use strict";t.d(n,{l:()=>i});var o=t(77412),r=t(2954);const i=(0,o.Q_)("query",(()=>{const e=(0,r.iH)({});return{query:e,setQuery:n=>{e.value=n}}}))},2563:(e,n,t)=>{"use strict";t.d(n,{O:()=>i});var o=t(77412),r=t(2954);const i=(0,o.Q_)("renderer-app",(()=>{const e=(0,r.iH)(!1),n=(0,r.XI)([]),t=(0,r.XI)({}),o=(0,r.XI)([]);return{ignoreAppearanceChanged:e,updateIgnoreAppearance:n=>{e.value=n},builtinFontFamilies:n,updateBuiltinFontFamilies:e=>n.value=e,allFonts:t,updateAllFonts:e=>t.value=e,fontsForMindMap:o,updateFontsForMindMap:e=>o.value=e}}))},53775:(e,n,t)=>{"use strict";async function o(){await new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)}))))}async function r(e){return Promise.race([new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)})))),new Promise((n=>setTimeout(n,null!=e?e:200)))])}function i(e,n=300,t=!1){let o;function r(...n){o=void 0,t||e.apply(this,n)}const i=function(...i){void 0!==o&&clearTimeout(o),t&&!o&&e.apply(this,i),o=setTimeout(r.bind(this,...i),n)};return i.cancel=function(){void 0!==o&&(clearTimeout(o),o=void 0)},i}function a(e,n=300,t=!1){let o,r,i,a=!1;function s(){r=Date.now(),e.apply(this,i),void 0!==o&&(clearTimeout(o),o=void 0)}const d=function(...e){if(a)return;if(i=e,t&&!r)return void s.apply(this);const d=Date.now(),c=d-(null!=r?r:d);c>=n?s.apply(this):void 0===o&&(o=setTimeout(s.bind(this),n-c))};return d.cancel=function(e=!0){void 0!==o&&(clearTimeout(o),o=void 0),r=void 0,a=e},d}t.d(n,{Ds:()=>i,P2:()=>a,SX:()=>o,gH:()=>s,qJ:()=>r});const s=(e,n)=>{let t=e,o="";if("object"==typeof n){const e=new URLSearchParams;for(const t in n)e.append(t,n[t]);o=e.toString()}return t=t.includes("?")?t+"&"+o:t+"?"+o,t}},10051:(e,n,t)=>{var o=t(53502);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,t(45346).Z)("1b21f9f7",o,!0,{})},45346:(e,n,t)=>{"use strict";function o(e,n){for(var t=[],o={},r=0;r<n.length;r++){var i=n[r],a=i[0],s={id:e+":"+r,css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):t.push(o[a]={id:a,parts:[s]})}return t}t.d(n,{Z:()=>m});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,c=!1,l=function(){},u=null,p="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,n,t,r){c=t,u=r||{};var a=o(e,n);return w(a),function(n){for(var t=[],r=0;r<a.length;r++){var s=a[r];(d=i[s.id]).refs--,t.push(d)}n?w(a=o(e,n)):a=[];for(r=0;r<t.length;r++){var d;if(0===(d=t[r]).refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete i[d.id]}}}}function w(e){for(var n=0;n<e.length;n++){var t=e[n],o=i[t.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](t.parts[r]);for(;r<t.parts.length;r++)o.parts.push(g(t.parts[r]));o.parts.length>t.parts.length&&(o.parts.length=t.parts.length)}else{var a=[];for(r=0;r<t.parts.length;r++)a.push(g(t.parts[r]));i[t.id]={id:t.id,refs:1,parts:a}}}}function f(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var n,t,o=document.querySelector("style["+p+'~="'+e.id+'"]');if(o){if(c)return l;o.parentNode.removeChild(o)}if(v){var r=d++;o=s||(s=f()),n=b.bind(null,o,r,!1),t=b.bind(null,o,r,!0)}else o=f(),n=k.bind(null,o),t=function(){o.parentNode.removeChild(o)};return n(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;n(e=o)}else t()}}var h,y=(h=[],function(e,n){return h[e]=n,h.filter(Boolean).join("\n")});function b(e,n,t,o){var r=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(n,r);else{var i=document.createTextNode(r),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function k(e,n){var t=n.css,o=n.media,r=n.sourceMap;if(o&&e.setAttribute("media",o),u.ssrId&&e.setAttribute(p,n.id),r&&(t+="\n/*# sourceURL="+r.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},6113:e=>{"use strict";e.exports=require("crypto")},72298:e=>{"use strict";e.exports=require("electron")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")}},e=>{e.O(0,[8592,8970],(()=>{return n=8547,e(e.s=n);var n}));var n=e.O();module.exports=n}]);