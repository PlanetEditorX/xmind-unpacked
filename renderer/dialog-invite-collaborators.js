/*! For license information please see dialog-invite-collaborators.js.LICENSE.txt */
(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[4789],{26601:(e,t,n)=>{"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,o,s=[],l=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){d=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e){var t,n,a=e.sizes.shift(),i=Math.max(Math.ceil(a[0]),1),r=Math.max(Math.ceil(a[1]),1),o=[i-1,r-1,1,1],s=Date.now(),l="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;l?(t=new OffscreenCanvas(1,1),n=new OffscreenCanvas(i,r)):((t=document.createElement("canvas")).width=1,t.height=1,(n=document.createElement("canvas")).width=i,n.height=r);var d=t.getContext("2d"),c=n.getContext("2d");c&&(c.fillRect.apply(c,o),d.drawImage(n,i-1,r-1,1,1,0,0,1,1));var f=d&&0!==d.getImageData(0,0,1,1).data[3],h=Date.now()-s;return[t,n].forEach((function(e){e.height=0,e.width=0})),l?(postMessage({width:i,height:r,benchmark:h,isTestPass:f}),!f&&e.sizes.length&&u(e)):f?e.onSuccess(i,r,h):(e.onError(i,r,h),e.sizes.length&&u(e)),f}n.d(t,{Z:()=>b});var f=[16384,14188,11402,11180,10836,8192,4096,1],h=[8388607,65535,32767,16384,8192,4096,1],p=[4194303,65535,32767,16384,8192,4096,1],m=["onError","onSuccess"],v={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},w={};function g(e){var t=e.width===e.height,n=1===e.height,a=1===e.width,i=[];if(e.width&&e.height)for(var r=e.min||v.min,o=e.step||v.step,s=Math.max(e.width,e.height);s>=r;){var l=t||n?s:1,d=t||a?s:1;i.push([l,d]),s-=o}else e.sizes.forEach((function(e){var r=t||n?e:1,o=t||a?e:1;i.push([r,o])}));return i}function y(e){var t=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,a=Date.now(),r=e.onError,l=e.onSuccess,d=o(e,m),c=null;if(!t)return!1;if(e.useWorker&&n){var f="\n            var canvasTest = ".concat(u.toString(),";\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        "),h=new Blob([f],{type:"application/javascript"}),p=URL.createObjectURL(h);c=new Worker(p),URL.revokeObjectURL(p),c.onmessage=function(e){var t=e.data,n=t.width,i=t.height,r=t.benchmark;t.isTestPass?(w[a].onSuccess(n,i,r),delete w[a]):w[a].onError(n,i,r)}}return e.usePromise?new Promise((function(t,n){var o=i(i({},e),{},{onError:function(t,a,i){var o;if(0===e.sizes.length)o=!0;else{var l=s(e.sizes.slice(-1),1),d=s(l[0],2),c=d[0],u=d[1];o=t===c&&a===u}r(t,a,i),o&&n({width:t,height:a,benchmark:i})},onSuccess:function(e,n,a){l(e,n,a),t({width:e,height:n,benchmark:a})}});if(c){var f=o.onError,h=o.onSuccess;w[a]={onError:f,onSuccess:h},c.postMessage(d)}else u(o)})):c?(w[a]={onError:r,onSuccess:l},void c.postMessage(d)):u(e)}var b={maxArea:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g({width:e.max,height:e.max,min:e.min,step:e.step,sizes:l(f)});return y(i(i(i({},v),e),{},{sizes:t}))},maxHeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g({width:1,height:e.max,min:e.min,step:e.step,sizes:l(h)});return y(i(i(i({},v),e),{},{sizes:t}))},maxWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g({width:e.max,height:1,min:e.min,step:e.step,sizes:l(p)});return y(i(i(i({},v),e),{},{sizes:t}))},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(i({},v),e);return t.sizes=l(t.sizes),t.width&&t.height&&(t.sizes=[[t.width,t.height]]),y(t)}}},41809:(e,t)=>{"use strict";function n(e){var t=-1;a||(a=function(){for(var e=new Int32Array(256),t=0;t<256;t++){for(var n=t,a=0;a<8;a++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}());for(var n=0;n<e.length;n++)t=a[255&(t^e[n])]^t>>>8;return-1^t}t.E4=function(e,t){var n=e.slice(0,33);return new Promise((function(a,i){var r=new FileReader;r.onload=function(){var n=new Uint8Array(r.result),i=e.slice(33),o=h(n,t,e.type);a(new Blob([o,i],{type:e.type}))},r.readAsArrayBuffer(n)}))},t.Hv=function(e,t){var n=e.split(","),a=n[0],d=n[1],c=void 0,u=void 0,f=!1;if(-1!==a.indexOf(i)){c=i;var p=function(e){var t=e.indexOf(o);-1===t&&(t=e.indexOf(s));-1===t&&(t=e.indexOf(l));return t}(d);p>=0?(u=4*Math.ceil((p+28)/3),f=!0):u=44}-1!==a.indexOf(r)&&(c=r,u=24);for(var m=d.substring(0,u),v=d.substring(u),w=atob(m),g=new Uint8Array(w.length),y=0;y<g.length;y++)g[y]=w.charCodeAt(y);var b=h(g,t,c,f),I=btoa(String.fromCharCode.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(b)));return[a,",",I,v].join("")};var a=void 0,i="image/png",r="image/jpeg",o="AAlwSFlz",s="AAAJcEhZ",l="AAAACXBI",d="p".charCodeAt(0),c="H".charCodeAt(0),u="Y".charCodeAt(0),f="s".charCodeAt(0);function h(e,t,a,o){if(a===r)return e[13]=1,e[14]=t>>8,e[15]=255&t,e[16]=t>>8,e[17]=255&t,e;if(a===i){var s=new Uint8Array(13);t*=39.3701,s[0]=d,s[1]=c,s[2]=u,s[3]=f,s[4]=t>>>24,s[5]=t>>>16,s[6]=t>>>8,s[7]=255&t,s[8]=s[4],s[9]=s[5],s[10]=s[6],s[11]=s[7],s[12]=1;var l=n(s),h=new Uint8Array(4);if(h[0]=l>>>24,h[1]=l>>>16,h[2]=l>>>8,h[3]=255&l,o){var p=function(e){for(var t=e.length-1;t>=4;t--)if(9===e[t-4]&&e[t-3]===d&&e[t-2]===c&&e[t-1]===u&&e[t]===f)return t-3}(e);return e.set(s,p),e.set(h,p+13),e}var m=new Uint8Array(4);m[0]=0,m[1]=0,m[2]=0,m[3]=9;var v=new Uint8Array(54);return v.set(e,0),v.set(m,33),v.set(s,37),v.set(h,50),v}}},6046:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".popover-container[data-v-1d8ec01b] {\n  box-sizing: border-box;\n}\n",""]);const r=i},73491:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".collaborator-container[data-v-613a27bc] {\n  margin-top: 8px;\n  height: 44px;\n}\n.collaborator-avatar[data-v-613a27bc] {\n  margin-right: 12px;\n  width: 32px;\n  height: 32px;\n  border-radius: 36px;\n  border: 1px solid var(--color-border-muted);\n  overflow: hidden;\n}\n.collaborator-name[data-v-613a27bc] {\n  font-size: 13px;\n  font-weight: 600;\n  line-height: 17px;\n  letter-spacing: 0.26px;\n  color: var(--color-sidebar-text-title);\n}\n.collaborator-invite-by[data-v-613a27bc] {\n  font-size: 11px;\n  font-weight: 400;\n  line-height: 15px;\n  letter-spacing: 0.44px;\n  color: var(--color-text-tertiary);\n}\n.collaborator-role[data-v-613a27bc] {\n  font-size: 13px;\n  font-weight: 400;\n  line-height: 17px;\n  letter-spacing: 0.52px;\n}\n",""]);const r=i},60194:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".email-input-container[data-v-93a70ade] {\n  height: 108px;\n  padding: 12px;\n  gap: 8px;\n  background: var(--color-input-bg-dim-normal);\n  border: 1px solid var(--color-input-border-normal);\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n.email-preview-item[data-v-93a70ade] {\n  height: 24px;\n  padding: 0px 8px 0px 12px;\n  border: 1px solid var(--color-border-muted);\n  background: var(--color-fill-surface);\n  border-radius: 12px;\n}\n.email-preview-item.is-error[data-v-93a70ade] {\n  border: none;\n  color: var(--color-text-invert-default);\n  background: var(--color-fill-error-normal);\n}\n.email-input[data-v-93a70ade] {\n  width: 168px;\n  height: 24px;\n  background: var(--color-fill-surface);\n  box-shadow: var(--effect-l1);\n  border: none;\n  border-radius: 12px;\n}\n.email-input.is-empty[data-v-93a70ade]::placeholder {\n  color: var(--color-input-text-default);\n}\n.email-input[data-v-93a70ade]:hover {\n  background: var(--color-fill-surface);\n  box-shadow: var(--effect-l1);\n  border: none;\n}\n.email-input[data-v-93a70ade]:focus {\n  border: 1px solid var(--color-border-muted);\n  background: var(--color-mask-overlay-s);\n  box-shadow: none;\n}\n",""]);const r=i},10873:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".invite-collaborators-tab[data-v-0d8fa500] {\n  border-bottom: 1px solid var(--color-divider-on-surface-bright);\n}\n",""]);const r=i},5837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".dot-container[data-v-3224a818] {\n  position: relative;\n  width: 16px;\n  height: 16px;\n  top: calc(50% - 16px / 2);\n  left: calc(50% - 16px / 2);\n}\n.dot[data-v-3224a818] {\n  position: absolute;\n  border-radius: 100%;\n  width: 100%;\n  height: 100%;\n}\n.outter-dot[data-v-3224a818] {\n  background: var(--color-fill-accent-normal);\n  animation: publish-dot-3224a818 3s infinite;\n}\n.inner-dot[data-v-3224a818] {\n  background: var(--color-fill-accent-normal);\n  width: 4.8px;\n  height: 4.8px;\n  top: calc(50% - 16px * 0.3 / 2);\n  left: calc(50% - 16px * 0.3 / 2);\n  opacity: 0.65;\n}\n@keyframes publish-dot-3224a818 {\n0% {\n    transform: scale(0);\n    opacity: 1;\n}\n100% {\n    transform: scale(1);\n    opacity: 0;\n}\n}\n",""]);const r=i},22338:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".invite-by-email-container[data-v-2522bf4b] {\n  padding: 24px;\n}\n.error-message[data-v-2522bf4b] {\n  color: #f27b13;\n}\n",""]);const r=i},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".invite-by-link-container[data-v-c8ac4d3e] {\n  padding: 0 20px;\n  height: 56px;\n  border-radius: 4px;\n  border: 1px solid var(--color-border-muted);\n  background: var(--color-fill-surface);\n  box-sizing: border-box;\n}\n.team-avatar[data-v-c8ac4d3e] {\n  margin-right: 8px;\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  overflow: hidden;\n}\n",""]);const r=i},84608:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".invite-by-publish-container[data-v-0e423794] {\n  padding: 24px;\n}\n.invite-by-publish-title[data-v-0e423794] {\n  margin: 0;\n}\n.invite-by-publish-private-container[data-v-0e423794] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 88px;\n  margin-top: 16px;\n  padding: 0px 20px;\n  border-radius: 4px;\n  border: 1px solid var(--color-border-muted);\n  background: var(--color-fill-surface);\n}\n.invite-warn-text[data-v-0e423794] {\n  color: #f27b13;\n}\n",""]);const r=i},6662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".invite-collaborators-tab[data-v-8569d2ea] {\n  border-bottom: 1px solid var(--color-divider-on-surface-bright);\n}\n.invite-index-container[data-v-8569d2ea] {\n  padding: 24px;\n}\n.invite-index-title[data-v-8569d2ea] {\n  margin: 0;\n}\n.invite-index-subtitle[data-v-8569d2ea] {\n  margin: 24px 0 8px;\n}\n.invite-warn-text[data-v-8569d2ea] {\n  color: #f27b13;\n}\n",""]);const r=i},20502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".manage-of-invitee-container[data-v-e21ce61c] {\n  padding: 24px;\n}\n.manage-of-invitee-title[data-v-e21ce61c] {\n  margin: 0;\n}\n.manage-of-invitee-desc[data-v-e21ce61c] {\n  margin: 0;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n  letter-spacing: 0.48px;\n  color: #747a80;\n}\n",""]);const r=i},17347:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".flex-row[data-v-78848d57] {\n  flex-direction: row !important;\n}\n.manage-of-owner-container[data-v-78848d57] {\n  padding: 24px;\n}\n.manage-of-owner-title[data-v-78848d57] {\n  margin: 0;\n}\n.manage-of-owner-desc[data-v-78848d57] {\n  margin-top: 17.5px;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n  letter-spacing: 0.48px;\n  color: #747a80;\n}\n",""]);const r=i},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(a)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},34838:(e,t,n)=>{"use strict";n.r(t);var a=n(63477),i=n.n(a),r=n(87141),o=n(54856),s=n(59042),l=n(90435),d=n(2954),c=n(67657),u=n(31945),f=n(23352),h=n(60746),p=n(1031),m=n(20993),v=n(7710),w=n(72298),g=n(68769),y=n(62004),b=n(41573);const I=e=>`${window.editorId}/team/${e}/shared`;function _(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}function R(e){return/^1[3-9]\d{9}$/.test(e)}function x(e,t){return!!_(e)||!(!t||!R(e))}var k=n(90029);const C=(0,d.aZ)({__name:"email-input",props:{placeholder:{default:""},disabled:{type:Boolean,default:!1},isSupportPhone:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:t}){const n=(0,d.iH)(null),a=(0,d.iH)([]),i=(0,d.iH)(""),r=(0,d.iH)(!1),o=()=>{const e=i.value.trim().split(/,|;|\s/).filter(Boolean);if(e.length>0){const n=[].concat(a.value,e);a.value=n,t("change",n)}i.value=""};return{__sfc:!0,emit:t,emailInput:n,emails:a,inputVal:i,isFocused:r,submitValue:o,handleInputChange:e=>{i.value=e.target.value},handleFocus:()=>{r.value=!0},handleBlur:()=>{r.value=!1,o()},handleEnter:()=>{o()},removeEmail:e=>{const n=a.value.filter(((t,n)=>n!==e));a.value=n,t("change",n)},handleInputVisibleChange:({visible:e})=>{e&&n.value.focus()},VisibilitySensor:k.Z,isValidInviteValue:x}}});n(16163);var T=n(51900);const S=(0,T.Z)(C,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"email-input-container uk-flex uk-flex-wrap uk-flex-wrap-top uk-overflow-overlay"},[e._l(n.emails,(function(a,i){return t("div",{key:i,staticClass:"email-preview-item uk-flex uk-flex-middle uk-flex-between",class:{"is-error":!n.isValidInviteValue(a,e.isSupportPhone)}},[t("span",[e._v(e._s(a))]),e._v(" "),t("span",{staticClass:"uk-icon vk-input-suffix",staticStyle:{"margin-left":"12px"},attrs:{"uk-icon":"icon: xmark; ratio: 0.8"},on:{click:function(e){return n.removeEmail(i)}}})])})),e._v(" "),t("div",{staticClass:"vk-input-container"},[t("div",{staticClass:"vk-input-inner"},[n.isFocused||""!==n.inputVal?e._e():t("span",{staticClass:"uk-icon vk-input-prefix",attrs:{"uk-icon":"icon: add; ratio: 0.8"}}),e._v(" "),t("input",{ref:"emailInput",staticClass:"vk-input-default email-input",class:{"is-empty":!n.isFocused&&""===n.inputVal},attrs:{type:"text",placeholder:e.placeholder,disabled:e.disabled},domProps:{value:n.inputVal},on:{input:n.handleInputChange,focus:n.handleFocus,blur:n.handleBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.handleEnter.apply(null,arguments)}}})])]),e._v(" "),t(n.VisibilitySensor,{on:{change:n.handleInputVisibleChange}})],2)}),[],!1,null,"93a70ade",null).exports,A=(0,d.aZ)({__name:"invite-by-email",props:{canSharedAllowEditing:{type:Boolean},teamId:null,fileId:null,fileName:null},emits:["page-change"],setup(e,{emit:t}){const n=e,a=(0,f.ZP)("collaboration"),i=(0,r.JE)().T,s=(0,d.iH)([]),c=(0,d.iH)("viewer"),u=(0,d.iH)(i("Hi there, could you please check the mind map?")),h=(0,d.iH)(!1),p=(0,d.iH)(""),m=(0,d.Fl)((()=>"cn"===(0,r.qr)().serviceRegion)),v=(0,d.Fl)((()=>m.value?i("Phone Number/Email"):i("Email Address"))),k=(0,d.Fl)((()=>[{value:"viewer",label:i("Can View")},{value:"editor",label:i("Can Edit"),isLimited:!n.canSharedAllowEditing}])),C=(0,d.Fl)((()=>s.value.length>0&&s.value.every((e=>x(e,m.value))))),T=(0,d.Fl)((()=>!(C.value&&u.value&&!h.value))),A=()=>{const e=(0,y.Y)().getShareLink({fileId:n.fileId,fileName:n.fileName});w.clipboard.writeText(e)};return{__sfc:!0,props:n,emit:t,logger:a,$T:i,popoverContainerId:"invite-by-email-container",emails:s,inviteRole:c,inviteMessage:u,isProcessing:h,errMsg:p,isCN:m,emailInputPlaceholder:v,inviteRoleItems:k,isEmailsValid:C,isSendInvitationByEmailDisabled:T,handleEmailsChange:e=>{s.value=e},handleInviteRoleChange:async e=>{if(!n.canSharedAllowEditing&&"editor"===e){const e=I(n.teamId);if(!await l.ZP.fetch(o.Gy,{name:"action.sharedAllowEditing",channel:(0,o.gk)(e)}))return}c.value=e},handleInviteMsgChange:e=>{u.value=e.target.value},handleCopyLink:A,handleSendInvitationByEmail:async()=>{try{if(h.value=!0,p.value="",m.value){const e=s.value.filter((e=>_(e))),t=s.value.filter((e=>R(e))),a=await l.ZP.fetch(o.rM.SEND_CN_MAP_INVITATIONS,{fileId:n.fileId,emails:e,phones:t,role:c.value,inviteMessage:u.value});A();const{invalidEmails:i,invalidPhones:r}=a,d=[...i,...r];if(d.length>0)return l.ZP.fetch((0,o.iM)(window.id),{inviteFailedByEmail:!0,invalidInvites:d}).then((()=>window.close()))}else await l.ZP.fetch(o.rM.SEND_EMAIL_INVITATIONS,{fileId:n.fileId,emails:s.value,role:c.value,inviteMessage:u.value});l.ZP.fetch((0,o.iM)(window.id),{inviteSuccessByEmail:!0}).then((()=>window.close()))}catch(e){a.error("sendEmailInvitations failed",e),e.code===g.R.INVITE_TOO_FREQUENTLY?p.value=i("You send invitations too quickly. Please try again later."):p.value=i("Request exception. Please try again later.")}finally{h.value=!1}},handleCancel:()=>window.close(),handleBack:()=>t("page-change","index"),DropDown:b.Z,EmailInput:S}}}),F=A;n(38591);const P=(0,T.Z)(F,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"vk-window-dialog vk-window-secondary"},[t("div",{staticClass:"vk-window-body"},[t("div",{staticClass:"invite-by-email-container",attrs:{id:n.popoverContainerId}},[t("h1",{staticClass:"typography-subhead-large uk-margin-remove"},[e._v("\n        "+e._s(n.$T("Invite Collaborators"))+"\n      ")]),e._v(" "),t(n.EmailInput,{staticStyle:{"margin-top":"16px"},attrs:{placeholder:n.emailInputPlaceholder,disabled:n.isProcessing,"is-support-phone":n.isCN},on:{change:n.handleEmailsChange}}),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-between uk-flex-middle",staticStyle:{"margin-top":"8px"}},[t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:n.errMsg,expression:"errMsg"}],staticClass:"error-message uk-flex uk-flex-middle"},[t("span",{attrs:{"uk-icon":"icon: warning; ratio: 0.8"}}),e._v(" "),t("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(n.errMsg))])])]),e._v(" "),t(n.DropDown,{attrs:{sty:"width: 108px","popover-container-id":`#${n.popoverContainerId}`,disabled:n.isProcessing,value:n.inviteRole,items:n.inviteRoleItems},on:{input:n.handleInviteRoleChange}})],1),e._v(" "),t("hr",{staticClass:"vk-divider-on-surface-bright",staticStyle:{margin:"20px 0"}}),e._v(" "),t("textarea",{staticClass:"vk-textarea is-dim",staticStyle:{height:"64px"},attrs:{disabled:n.isProcessing},domProps:{value:n.inviteMessage},on:{input:n.handleInviteMsgChange}})],1)]),e._v(" "),t("div",{staticClass:"vk-window-button-bar"},[t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-default vk-size-small",on:{click:n.handleCancel}},[e._v("\n        "+e._s(n.$T("Cancel"))+"\n      ")]),e._v(" "),t("button",{staticClass:"vk-button-secondary vk-size-small",attrs:{disabled:n.isSendInvitationByEmailDisabled},on:{click:n.handleSendInvitationByEmail}},[e._v("\n        "+e._s(n.$T("Send invitations"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-default vk-size-small",on:{click:n.handleBack}},[e._v("\n        "+e._s(n.$T("Back"))+"\n      ")])])])])}),[],!1,null,"2522bf4b",null).exports;var E=n(96829),M=n(69931);const q=(0,d.aZ)({__name:"publish-dot",setup:e=>({__sfc:!0})});n(66133);const O=(0,T.Z)(q,(function(){var e=this;e._self._c,e._self._setupProxy;return e._m(0)}),[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"uk-height-1-1"},[t("div",{staticClass:"dot-container"},[t("div",{staticClass:"dot outter-dot"}),e._v(" "),t("div",{staticClass:"dot inner-dot"})])])}],!1,null,"3224a818",null).exports,L=(0,d.aZ)({__name:"invite-tab",props:{activeValue:null,withPublishDot:{type:Boolean}},emits:["change"],setup(e,{emit:t}){const n=(0,r.JE)().T,a=(0,d.Fl)((()=>"cn"===(0,r.qr)().serviceRegion)),i=(0,d.Fl)((()=>[{value:"Invite",label:n("Invite"),enabled:!0},{value:"Publish",label:n("Publish"),enabled:!a.value}].filter((e=>e.enabled))));return{__sfc:!0,emit:t,$T:n,isCN:a,inviteTabs:i,handleTabChange:e=>t("change",e),PublishDot:O}}});n(84030);const N=(0,T.Z)(L,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ul",{staticClass:"vk-tab-indicator invite-collaborators-tab",attrs:{"uk-tab":""}},e._l(n.inviteTabs,(function(a){return t("li",{key:a.value,class:{"uk-active":a.value===e.activeValue},on:{click:function(e){return n.handleTabChange(a.value)}}},[t("a",{attrs:{tabindex:"-1",draggable:"false",href:"#"}},[t("span",[e._v(e._s(a.label))]),e._v(" "),e.withPublishDot&&"Publish"===a.value?t(n.PublishDot,{staticStyle:{"margin-left":"4px"}}):e._e()],1)])})),0)}),[],!1,null,"0d8fa500",null).exports;var $=n(53775);const Z=(0,d.aZ)({__name:"invite-by-publish",props:{canSharedAllowEditing:{type:Boolean},canSharedAllowRealtime:{type:Boolean},teamId:null,fileId:null,accessMode:null,accessRole:null,password:{default:""},activeInviteTab:null,isTeamOwner:{type:Boolean}},emits:["page-change","tab-change","access-mode-change","access-role-change"],setup(e,{emit:t}){const n=e,a=(0,f.ZP)("collaboration"),i=(0,r.JE)().T,s=(0,d.iH)(!1),u=(0,d.iH)(n.accessMode),p=(0,d.iH)(n.accessRole),m=(0,d.iH)(n.password),v=(0,d.iH)(n.password),g=(0,d.iH)(!0),b=(0,d.iH)(!1),_=(0,d.iH)(`password-input-${(0,E.hb)()}`),R=(0,d.Fl)((()=>n.teamId===(0,r.c7)().user)),x=(0,d.Fl)((()=>R.value?i("Current plan is not the Premium plan, therefore this map can only be shared as a static map."):i("The current team is on the Free Plan, therefore this map can only be shared as a static map."))),k=(0,d.Fl)((()=>(0,y.Y)().getShareLink({fileId:n.fileId}))),C=(0,d.Fl)((()=>"dark"===(0,r.S)().appearance)),T=(0,d.Fl)((()=>(0,M.ju)(C.value?"static/assets/images/pro/pro-small-with-border-dark.svg":"static/assets/images/pro/pro-small-with-border.svg"))),S=async(e,i)=>{try{s.value=!0,await l.ZP.fetch(o.rM.CHANGE_FILE_ACCESS_MODE,{fileId:n.fileId,accessMode:e,password:i}),u.value=e,t("access-mode-change",e),i&&(m.value=i)}catch(e){a.error("changeFileAccessMode failed",e)}finally{s.value=!1}},A=async e=>{try{s.value=!0,await l.ZP.fetch(o.rM.CHANGE_FILE_ACCESS_ROLE,{fileId:n.fileId,accessRole:e}),p.value=e,t("access-role-change",e)}catch(e){a.error("changeFileAccessRole failed",e)}finally{s.value=!1}},F=(0,$.Ds)((()=>b.value=!1),2e3),P=()=>{setTimeout((()=>{var e;null===(e=document.getElementById(_.value))||void 0===e||e.focus()}))},q=async e=>{const t=e?"password":"anyone";"anyone"===t?await S("anyone"):P(),u.value=t,v.value="",m.value="",g.value=!1},O=()=>{if("Publish"!==n.activeInviteTab)return;const e="private"===u.value;(0,h.QC)({width:520,height:e?292:437}),(0,c.getCurrentWindow)().center()};return(0,d.YP)((()=>u.value),O,{immediate:!0}),{__sfc:!0,props:n,emit:t,isMac:false,logger:a,$T:i,isProcessing:s,accessMode:u,accessRole:p,accessPassword:m,passwordInputValue:v,isAccessPasswordDisabled:g,isLinkCopied:b,passwordInputId:_,isMyWorks:R,paywallTooltip:x,shareLink:k,isDarkMode:C,proIcon:T,handleTabChange:e=>t("tab-change",e),handleCancel:()=>window.close(),changeFileAccessMode:S,changeFileAccessRole:A,handlePublish:async()=>{await S("anyone")},handleUnpublish:async()=>{await A("viewer"),await S("private")},resetToUnCopy:F,handleCopyLink:()=>{w.clipboard.writeText(k.value),b.value=!0,F()},handleAccessRoleChange:async e=>{const t=e?"editor":"viewer";if(!n.canSharedAllowEditing&&"editor"===t){const e=I(n.teamId);if(!await l.ZP.fetch(o.Gy,{name:"action.sharedAllowEditing",channel:(0,o.gk)(e)}))return}await A(t)},focusPasswordInput:P,handleAccessModeChange:q,handlePasswordChange:async()=>{g.value=!1,P()},handlePasswordSubmit:async()=>{if(!v.value)return await q(!1);v.value!==m.value&&await S("password",v.value),g.value=!0},handlePasswordCancel:async()=>{m.value?(v.value=m.value,g.value=!0):(v.value="",u.value="anyone")},handleUpgrade:async()=>{const e=I(n.teamId);await l.ZP.fetch(o.Gy,{name:"action.sharedAllowRealtime",channel:(0,o.gk)(e)})},adaptWindow:O,ShareInviteTab:N}}}),D=Z;n(96526);const U=(0,T.Z)(D,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"vk-window-dialog vk-window-secondary"},[t("div",{staticClass:"vk-window-body"},[t("div",{staticClass:"invite-by-publish-container"},[t("h1",{staticClass:"invite-by-publish-title typography-subhead-large"},[e._v("\n        "+e._s(n.$T("Share"))+"\n      ")]),e._v(" "),t(n.ShareInviteTab,{attrs:{"active-value":e.activeInviteTab,"with-publish-dot":"anyone"===n.accessMode||"password"===n.accessMode},on:{change:n.handleTabChange}}),e._v(" "),"private"===n.accessMode?[t("div",{staticClass:"invite-by-publish-private-container"},[t("div",{staticClass:"typography-subhead-small"},[e._v("\n            "+e._s(n.$T("Publish mind map to the web"))+"\n          ")]),e._v(" "),t("div",{staticClass:"typography-body-large"},[e._v("\n            "+e._s(n.$T("Anyone with the link can access the mind map without sign-in."))+"\n          ")])])]:[t("div",{staticClass:"typography-subhead-mini",staticStyle:{"margin-top":"24px"}},[e._v("\n          "+e._s(n.$T("The mind map is published on the web."))+"\n        ")]),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between",staticStyle:{"margin-top":"8px"}},[t("vk-input",{staticStyle:{"flex-grow":"1","margin-right":"16px"},attrs:{cls:"vk-input-default is-dim",disabled:!0,title:n.shareLink,value:n.shareLink}}),e._v(" "),n.isLinkCopied?t("div",{staticClass:"uk-flex uk-flex-middle"},[t("span",{attrs:{"uk-icon":"check"}}),e._v(" "),t("span",{staticClass:"typography-subhead-small",staticStyle:{"margin-left":"4px"}},[e._v(e._s(n.$T("Copied")))])]):t("button",{staticClass:"vk-button-default",on:{click:n.handleCopyLink}},[e._v("\n            "+e._s(n.$T("Copy Link"))+"\n          ")])],1),e._v(" "),e.canSharedAllowRealtime?e._e():t("div",{staticClass:"invite-warn-text uk-flex uk-flex-middle",staticStyle:{"margin-top":"24px"}},[t("span",{attrs:{"uk-icon":"icon: warning; ratio: 0.8"}}),e._v(" "),t("span",{staticStyle:{"margin-left":"2px"}},[t("span",{staticClass:"typography-caption-caption"},[e._v(e._s(n.paywallTooltip))]),e._v(" "),e.isTeamOwner?t("button",{staticClass:"vk-button-link vk-size-small",on:{click:n.handleUpgrade}},[e._v("\n              "+e._s(n.$T("Upgrade"))+"\n            ")]):e._e()])]),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-between uk-flex-middle",staticStyle:{"margin-top":"24px"}},[t("div",{staticClass:"uk-flex uk-flex-middle"},[t("label",{staticClass:"typography-subhead-mini"},[e._v(e._s(n.$T("Allow editing")))]),e._v(" "),e.canSharedAllowEditing?e._e():t("img",{staticClass:"uk-margin-xsmall-left",attrs:{draggable:"false",src:n.proIcon}})]),e._v(" "),t("vk-switch",{staticClass:"vk-size-large",attrs:{name:"accessRole",value:"editor"===n.accessRole,disabled:n.isProcessing},on:{change:n.handleAccessRoleChange}})],1),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-between uk-flex-middle",staticStyle:{"margin-top":"24px"}},[t("label",{staticClass:"typography-subhead-mini"},[e._v(e._s(n.$T("Password")))]),e._v(" "),t("vk-switch",{staticClass:"vk-size-large",attrs:{name:"accessMode",value:"password"===n.accessMode,disabled:n.isProcessing},on:{change:n.handleAccessModeChange}})],1),e._v(" "),"password"===n.accessMode?t("div",{staticClass:"uk-flex uk-flex-middle",staticStyle:{"margin-top":"28px"}},[t("vk-input",{staticStyle:{width:"216px"},attrs:{id:n.passwordInputId,type:"password",cls:"vk-input-default is-dim",disabled:n.isProcessing||n.isAccessPasswordDisabled,placeholder:n.$T("Enter Password"),value:n.passwordInputValue},on:{input:function(e){n.passwordInputValue=e}}}),e._v(" "),n.accessPassword&&n.isAccessPasswordDisabled?t("button",{staticClass:"vk-button-text-secondary vk-size-small",staticStyle:{"margin-left":"8px"},on:{click:n.handlePasswordChange}},[e._v("\n            "+e._s(n.$T("Change"))+"\n          ")]):t("div",{staticClass:"uk-flex ul-flex-middle"},[t("button",{staticClass:"vk-button-text vk-size-small",staticStyle:{"margin-left":"8px"},attrs:{disabled:n.isProcessing},on:{click:n.handlePasswordSubmit}},[t("span",{attrs:{"uk-icon":"check"}})]),e._v(" "),t("button",{staticClass:"vk-button-text-secondary vk-size-small",attrs:{disabled:n.isProcessing},on:{click:n.handlePasswordCancel}},[t("span",{attrs:{"uk-icon":"xmark"}})])])],1):e._e()]],2)]),e._v(" "),t("div",{staticClass:"vk-window-button-bar"},[t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-default vk-size-small",on:{click:n.handleCancel}},[e._v("\n        "+e._s(n.$T("Done"))+"\n      ")]),e._v(" "),"private"===n.accessMode?t("button",{staticClass:"vk-button-secondary vk-size-small",attrs:{disabled:n.isProcessing},on:{click:n.handlePublish}},[e._v("\n        "+e._s(n.$T("Publish"))+"\n      ")]):t("button",{staticClass:"vk-button-secondary vk-size-small",attrs:{disabled:n.isProcessing},on:{click:n.handleUnpublish}},[e._v("\n        "+e._s(n.$T("Unpublish"))+"\n      ")])])])])}),[],!1,null,"0e423794",null).exports;const z=(0,d.aZ)({__name:"collaborator-item",props:{xmindId:{default:""},name:null,email:{default:""},inviteBy:null,avatarUrl:null,role:null,isMe:{type:Boolean},isOwner:{type:Boolean},disabled:{type:Boolean,default:!1},type:null,canSharedAllowEditing:{type:Boolean}},emits:["role-change","user-remove","user-leave"],setup(e,{emit:t}){const n=e,a=(0,r.JE)().T,i=(0,d.Fl)((()=>n.xmindId||n.email)),o=(0,d.Fl)((()=>({editor:a("Editor"),viewer:a("Viewer")}))),s=(0,d.Fl)((()=>[{value:"editor",label:a("Can Edit")},{separator:!0},{value:"leave",label:a("Leave")}])),l=(0,d.Fl)((()=>[{value:"viewer",label:a("Can View")},{separator:!0},{value:"leave",label:a("Leave")}])),c=(0,d.Fl)((()=>[{value:"viewer",label:a("Can View")},{value:"editor",label:a("Can Edit"),isLimited:!n.canSharedAllowEditing},{separator:!0},{value:"remove",label:a("Remove")}]));return{__sfc:!0,props:n,emit:t,$T:a,accountId:i,roleLabelMap:o,fileOperationItemsOfEditorRole:s,fileOperationItemsOfViewerRole:l,collaboratorOperationItems:c,handleFileOperation:async e=>{"leave"===e&&t("user-leave")},handleCollaboratorOperation:async e=>{"remove"===e?t("user-remove",i.value):t("role-change",{role:e,accountId:i.value})},DropDown:b.Z}}});n(28165);const B=(0,T.Z)(z,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"collaborator-container uk-flex uk-flex-between uk-flex-middle"},[t("div",{staticClass:"uk-flex uk-flex-middle"},[t("div",{staticClass:"collaborator-avatar"},[t("img",{attrs:{draggable:"false",src:e.avatarUrl}})]),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-column uk-flex-between"},[t("div",{staticClass:"collaborator-name"},[e._v(e._s(e.name))]),e._v(" "),t("div",{staticClass:"collaborator-invite-by"},[e._v(e._s(e.inviteBy))])])]),e._v(" "),t("div",[e.isOwner?t("div",{staticClass:"collaborator-role"},[e._v(e._s(n.$T("Owner")))]):e.isMe&&e.role?t("div",["editor"===e.role?t(n.DropDown,{attrs:{sty:"width: 104px",disabled:e.disabled,value:e.role,items:n.fileOperationItemsOfEditorRole},on:{input:n.handleFileOperation}}):e._e(),e._v(" "),"viewer"===e.role?t(n.DropDown,{attrs:{sty:"width: 104px",disabled:e.disabled,value:e.role,items:n.fileOperationItemsOfViewerRole},on:{input:n.handleFileOperation}}):e._e()],1):e.xmindId||e.email?"owner"===e.type?t(n.DropDown,{attrs:{sty:"width: 104px",disabled:e.disabled,value:e.role,items:n.collaboratorOperationItems},on:{input:n.handleCollaboratorOperation}}):t("div",{staticClass:"collaborator-role"},[e._v(e._s(n.roleLabelMap[e.role]))]):t("div",{staticClass:"collaborator-role"},[e._v("\n      "+e._s(n.roleLabelMap[e.role])+"\n    ")])],1)])}),[],!1,null,"613a27bc",null).exports;var j=n(82937);const H=(()=>{const e=Symbol("default-state-from-editor"),t=new Map;return()=>{if(t.has(e))return t.get(e);const n=(()=>{const e=(0,d.iH)([]);return{onlineCollaborators:e,setOnlineCollaborators:t=>{e.value=t}}})();return t.set(e,n),n}})(),K=(0,f.ZP)("collaboration"),W=({teamId:e,canSharedAllowEditing:t,editorId:n,fileId:a,fileOwner:i,accessRole:s})=>{const c=(0,r.JE)().T,u=(0,d.iH)(!1),f=(0,d.iH)([]),h=(0,d.Fl)((()=>n?H().onlineCollaborators.value:[])),p=(0,d.Fl)((()=>(0,r.c7)().userProfile)),m=(0,d.Fl)((()=>0===f.value.length?[]:f.value.map((e=>{var t,n,a,o;const l=e.xmindId,d=(null===(t=p.value[l])||void 0===t?void 0:t.fullName)||c("Anonymous"),u=(null===(n=p.value[l])||void 0===n?void 0:n.primaryEmail)||"",f=(null===(a=p.value[l])||void 0===a?void 0:a.phone)||"",h=(null===(o=p.value[l])||void 0===o?void 0:o.avatarUrl)||"",m=e.email||u;let v=m;return"phone"===e.inviteMethod&&(v=f),{xmindId:l,name:d,email:m,inviteBy:v,avatarUrl:h||(0,j._)({xmindId:l,name:d,style:{width:32,height:32,fontSize:"19",fontWeight:"700"}}),role:e.role||s,isMe:l===(0,r.c7)().user,isOwner:l===i}})))),v=async()=>{f.value=await(async()=>{try{u.value=!0;const{owner:e,invitees:t}=await l.ZP.fetch(o.rM.LIST_FILE_INVITEES,{fileId:a}),n=t.filter((e=>e.xmindId!==(0,r.c7)().user)),i=n.filter((e=>h.value.some((t=>t.xmindId===e.xmindId)))).sort(),s=n.filter((e=>!h.value.some((t=>t.xmindId===e.xmindId)))).sort();if(e.xmindId===(0,r.c7)().user)return[e].concat(i,s);{const n=t.find((e=>e.xmindId===(0,r.c7)().user));return n?[n,e].concat(i,s):[e].concat(i,s)}}catch(e){return K.error("listFileInvitees failed",e),[]}finally{u.value=!1}})()};return(0,d.bv)((async()=>{await v(),await(async()=>{try{const e=(await Promise.all(f.value.filter((e=>!!e.xmindId)).map((e=>l.ZP.fetch(o.rM.GET_USER_BASE_ACCOUNT_PROFILE,{xmindId:e.xmindId}))))).reduce(((e,{profile:t})=>({...e,[t.user]:{fullName:t.fullName,user:t.user,avatarUrl:t.avatarUrl,primaryEmail:t.primaryEmail,phone:t.phone}})),{});(0,r.c7)().updateUserProfile(e)}catch(e){K.error("getUserBaseAccountProfile failed",e)}})()})),{isProcessing:u,collaboratorsToDisplay:m,changeInviteeRole:async({accountId:n,role:i})=>{if(!t&&"editor"===i){const t=I(e);if(!await l.ZP.fetch(o.Gy,{name:"action.sharedAllowEditing",channel:(0,o.gk)(t)}))return}try{u.value=!0,await l.ZP.fetch(o.rM.CHANG_INVITEE_ROLE,{fileId:a,accountId:n,role:i}),await v()}catch(e){K.error("changeInviteeRole failed",e)}finally{u.value=!1}},removeInvitee:async e=>{try{u.value=!0,await l.ZP.fetch(o.rM.REMOVE_INVITEE,{fileId:a,accountId:e}),await v()}catch(e){K.error("removeInvitee failed",e)}finally{u.value=!1}},removeSessionUserFromInvitees:async()=>{try{u.value=!0,await l.ZP.fetch(o.rM.REMOVE_SESSION_USER_FROM_INVITEES,{fileId:a}),n&&l.ZP.fetch(o.s2,{editors:[n]})}catch(e){K.error("removeSessionUserFromInvitees failed",e)}finally{u.value=!1}}}},J=(0,d.aZ)({__name:"manage-of-owner",props:{teamId:null,canSharedAllowEditing:{type:Boolean},fileId:null,fileOwner:null,accessRole:null,editorId:{default:""}},emits:["page-change","has-invitee-change"],setup(e,{emit:t}){const n=e,{isProcessing:a,collaboratorsToDisplay:i,changeInviteeRole:r,removeInvitee:o}=W(n),s=(0,d.Fl)((()=>i.value.filter((e=>!e.isMe)).length>0));return(0,d.YP)((()=>s.value),(e=>{t("has-invitee-change",e)}),{immediate:!1}),{__sfc:!0,props:n,emit:t,isProcessing:a,collaboratorsToDisplay:i,changeInviteeRole:r,removeInvitee:o,hasInvitee:s,handleBack:()=>t("page-change","index"),CollaboratorItem:B}}});n(15306);const V=(0,T.Z)(J,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"vk-window-dialog vk-window-secondary"},[t("div",{staticClass:"vk-window-body"},[t("div",{staticClass:"manage-of-owner-container"},[t("h1",{staticClass:"manage-of-owner-title typography-subhead-large"},[e._v("\n        "+e._s(e.$T("Manage Access"))+"\n      ")]),e._v(" "),t("p",{staticClass:"manage-of-owner-desc"},[e._v("\n        "+e._s(e.$T("Share with $1 people",`${n.collaboratorsToDisplay.length}`))+"\n      ")]),e._v(" "),e._l(n.collaboratorsToDisplay,(function(a,i){return t(n.CollaboratorItem,e._b({key:i,attrs:{type:"owner",disabled:n.isProcessing,"can-shared-allow-editing":e.canSharedAllowEditing},on:{"role-change":n.changeInviteeRole,"user-remove":n.removeInvitee}},"collaborator-item",a,!1))}))],2)]),e._v(" "),t("div",{staticClass:"vk-window-button-bar flex-row"},[t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-default vk-size-small",on:{click:n.handleBack}},[e._v("\n        "+e._s(e.$T("Back"))+"\n      ")])])])])}),[],!1,null,"78848d57",null).exports;const X=(0,d.aZ)({__name:"manage-of-invitee",props:{teamId:null,canSharedAllowEditing:{type:Boolean},fileId:null,fileName:null,fileOwner:null,accessRole:null,editorId:{default:""}},setup(e){const t=e,n=(0,r.JE)().T,{isProcessing:a,collaboratorsToDisplay:i,removeSessionUserFromInvitees:o}=W(t),s=(0,d.iH)(!1);return{__sfc:!0,props:t,$T:n,isProcessing:a,collaboratorsToDisplay:i,removeSessionUserFromInvitees:o,isLinkCopied:s,handleCopyLink:()=>{const e=(0,y.Y)().getShareLink({fileId:t.fileId,fileName:t.fileName});w.clipboard.writeText(e),s.value=!0,setTimeout((()=>{s.value=!1}),5e3)},handleCancel:()=>window.close(),CollaboratorItem:B}}});n(52444);const G=(0,T.Z)(X,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"vk-window-dialog vk-window-secondary"},[t("div",{staticClass:"vk-window-body"},[t("div",{staticClass:"manage-of-invitee-container"},[t("h1",{staticClass:"manage-of-invitee-title typography-subhead-large"},[e._v("\n        "+e._s(n.$T("Share"))+"\n      ")]),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between",staticStyle:{"margin-top":"16px"}},[t("p",{staticClass:"manage-of-invitee-desc"},[e._v("\n          "+e._s(n.$T("Share with $1 people",`${n.collaboratorsToDisplay.length}`))+"\n        ")]),e._v(" "),t("button",{staticClass:"vk-button-link",attrs:{disabled:n.isLinkCopied},on:{click:n.handleCopyLink}},[n.isLinkCopied?t("span",[e._v(e._s(n.$T("Link Copied")))]):[t("span",{attrs:{"uk-icon":"note-link"}}),e._v(" "),t("span",{staticStyle:{"margin-left":"4px"}},[e._v(e._s(n.$T("Copy Share Link")))])]],2)]),e._v(" "),e._l(n.collaboratorsToDisplay,(function(a,i){return t(n.CollaboratorItem,e._b({key:i,attrs:{type:"invitee",disabled:n.isProcessing,"can-shared-allow-editing":e.canSharedAllowEditing},on:{"user-leave":n.removeSessionUserFromInvitees}},"collaborator-item",a,!1))}))],2)]),e._v(" "),t("div",{staticClass:"vk-window-button-bar"},[t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-default vk-size-small",on:{click:n.handleCancel}},[e._v("\n        "+e._s(n.$T("Cancel"))+"\n      ")])])])])}),[],!1,null,"e21ce61c",null).exports;const Y=(0,d.aZ)({__name:"invite-by-link",props:{fileId:null,teamId:null,teammateRole:null},emits:["teammate-role-change"],setup(e,{emit:t}){const n=e,a=(0,f.ZP)("collaboration"),i=(0,r.JE)().T,s=(0,d.iH)(" "),c=(0,d.iH)(""),u=(0,d.iH)(n.teammateRole),h=(0,d.iH)(!1),p=(0,d.Fl)((()=>c.value?c.value:(0,j._)({name:s.value,xmindId:n.teamId,style:{width:20,height:20,fontSize:"12",fontWeight:"600"}}))),m=(0,d.Fl)((()=>[{value:"viewer",label:i("Can View")},{value:"editor",label:i("Can Edit")},{value:"none",label:i("No Access")}])),v=async()=>{try{const{team:e}=await l.ZP.fetch(o.rM.GET_TEAM_METADATA,{teamId:n.teamId});s.value=e.name,c.value=e.imageUrl}catch(e){a.error("getTeamMetadata failed",e)}};return(0,d.bv)((async()=>{await v()})),(0,d.YP)((()=>n.teammateRole),(e=>{u.value=e,t("teammate-role-change",e)}),{immediate:!1}),{__sfc:!0,props:n,emit:t,logger:a,$T:i,teamName:s,teamAvatarURL:c,teammateRole:u,isProcessing:h,teamAvatar:p,teammateRoleItems:m,handleTeammateRoleChange:async e=>{try{h.value=!0,await l.ZP.fetch(o.rM.CHANGE_FILE_TEAMMATE_ROLE,{fileId:n.fileId,teammateRole:e}),u.value=e,t("teammate-role-change",e)}catch(e){a.error("changeFileTeammateRole failed",e)}finally{h.value=!1}},fetchTeamMetadata:v,DropDown:b.Z}}}),Q=Y;n(76636);const ee=(0,T.Z)(Q,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between invite-by-link-container"},[t("div",{staticClass:"uk-flex uk-flex-middle"},[n.teamAvatar?t("div",{staticClass:"team-avatar"},[t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{draggable:"false",src:n.teamAvatar}})]):e._e(),e._v(" "),t("span",{staticClass:"typography-body-large uk-text-truncate",staticStyle:{width:"290px"},attrs:{title:n.$T("Everyone at $1",n.teamName)}},[e._v(e._s(n.$T("Everyone at $1",n.teamName)))])]),e._v(" "),t(n.DropDown,{attrs:{sty:"width: 108px",disabled:n.isProcessing||""===n.teammateRole,value:n.teammateRole,items:n.teammateRoleItems},on:{input:n.handleTeammateRoleChange}})],1)}),[],!1,null,"c8ac4d3e",null).exports,te=(0,d.aZ)({__name:"invite-index",props:{canSharedAllowRealtime:{type:Boolean},fileId:null,fileName:null,teamId:null,accessMode:null,teammateRole:null,activeInviteTab:null,hasInvitee:{type:Boolean},isTeamOwner:{type:Boolean}},emits:["page-change","tab-change"],setup(e,{emit:t}){const n=e,a=(0,r.JE)().T,i=(0,d.iH)(!1),s=(0,d.iH)(n.teammateRole),c=(0,d.iH)(`email-input-${(0,E.hb)()}`),u=(0,d.Fl)((()=>"cn"===(0,r.qr)().serviceRegion)),f=(0,d.Fl)((()=>(0,r.Yh)().subscriptionPlan[r.k9.PERSONAL]===r.kc.PRO)),h=(0,d.Fl)((()=>n.teamId===(0,r.c7)().user)),p=(0,d.Fl)((()=>u.value?a("Enter phone numbers or emails to invite"):a("Enter Emails to invite"))),m=(0,d.Fl)((()=>n.accessMode?"anyone"===n.accessMode?a("This map is published, so anyone with the link can access the map without sign-in."):h.value||"none"===s.value?n.hasInvitee?a("Only you and other invited collaborators will be able to view this map link."):a("Only you can access this map, so the map link will only work for you."):"editor"===s.value||"viewer"===s.value?a("This map has team access, so anyone in this team will be able to view the link."):void 0:"")),v=(0,d.Fl)((()=>h.value?a("Current plan is not the Premium plan, therefore this map can only be shared as a static map."):a("The current team is on the Free Plan, therefore this map can only be shared as a static map."))),g=(0,$.Ds)((()=>i.value=!1),2e3);return(0,d.bv)((()=>{setTimeout((()=>{var e;null===(e=document.getElementById(c.value))||void 0===e||e.blur()}),100)})),{__sfc:!0,props:n,emit:t,$T:a,isLinkCopied:i,teammateRoleVal:s,emailInputId:c,isCN:u,isPlanPro:f,isMyWorks:h,invitePlacehoder:p,copyTooltip:m,paywallTooltip:v,handleTabChange:e=>t("tab-change",e),handleEmailClick:()=>t("page-change","by-email"),handleManage:()=>t("page-change","manage-of-owner"),handleCancel:()=>window.close(),resetToUnCopy:g,handleCopyLink:()=>{const e=(0,y.Y)().getShareLink({fileId:n.fileId,fileName:n.fileName});w.clipboard.writeText(e),i.value=!0,g()},handleUpgradeToProplus:async()=>{const e=(0,r.IW)().productItems.find((e=>e.type===r.kv.proplus&&12===e.month));await l.ZP.fetch(o.Fx,{name:"dialog-payment",query:{type:e.type,month:e.month,extend:e.extend,autorenew:e.autorenew,amount:e.price.cny,currency:"cny"}})},handleUpgrade:async()=>{const e=I(n.teamId);await l.ZP.fetch(o.Gy,{name:"action.sharedAllowRealtime",channel:(0,o.gk)(e)})},InviteByLink:ee,ShareInviteTab:N}}});n(65605);const ne=(0,T.Z)(te,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"vk-window-dialog vk-window-secondary"},[t("div",{staticClass:"vk-window-body"},[t("div",{staticClass:"invite-index-container"},[t("h1",{staticClass:"invite-index-title typography-subhead-large"},[e._v("\n        "+e._s(n.$T("Share"))+"\n      ")]),e._v(" "),t(n.ShareInviteTab,{attrs:{"active-value":e.activeInviteTab,"with-publish-dot":"anyone"===e.accessMode},on:{change:n.handleTabChange}}),e._v(" "),n.isMyWorks?e._e():t("h3",{staticClass:"invite-index-subtitle typography-subhead-mini"},[e._v("\n        "+e._s(n.$T("Invite Collaborators"))+"\n      ")]),e._v(" "),t("div",{on:{click:n.handleEmailClick}},[t("vk-input",{style:{marginTop:n.isMyWorks?"24px":"8px"},attrs:{id:n.emailInputId,cls:"vk-input-default is-dim",placeholder:n.invitePlacehoder}})],1),e._v(" "),n.isMyWorks?e._e():[t("h3",{staticClass:"invite-index-subtitle typography-subhead-mini",staticStyle:{"margin-top":"32px"}},[e._v("\n          "+e._s(n.$T("Group Authority"))+"\n        ")]),e._v(" "),t(n.InviteByLink,{attrs:{"file-id":e.fileId,"team-id":e.teamId,"teammate-role":e.teammateRole},on:{"teammate-role-change":function(e){n.teammateRoleVal=e}}})],e._v(" "),e.canSharedAllowRealtime?e._e():t("div",{staticClass:"invite-warn-text uk-flex uk-flex-middle",staticStyle:{"margin-top":"24px"}},[t("span",{attrs:{"uk-icon":"icon: warning; ratio: 0.8"}}),e._v(" "),t("span",{staticStyle:{"margin-left":"2px"}},[n.isCN?[t("span",{staticClass:"typography-caption-caption"},[e._v("\n              "+e._s(n.isPlanPro?n.$T("Under the Pro plan, mind maps can only be shared as static files."):n.$T("Under the Free plan, mind maps can only be shared as static files."))+"\n            ")]),e._v(" "),t("button",{staticClass:"vk-button-link vk-size-small",on:{click:n.handleUpgradeToProplus}},[e._v("\n              "+e._s(n.$T("Upgrade to Pro+"))+"\n            ")]),e._v(" "),t("span",{staticClass:"typography-caption-caption"},[e._v("\n              "+e._s(n.$T("to unlock real-time collaboration."))+"\n            ")])]:[t("span",{staticClass:"typography-caption-caption"},[e._v(e._s(n.paywallTooltip))]),e._v(" "),e.isTeamOwner?t("button",{staticClass:"vk-button-link vk-size-small",on:{click:n.handleUpgrade}},[e._v("\n              "+e._s(n.$T("Upgrade"))+"\n            ")]):e._e()]],2)])],2)]),e._v(" "),t("div",{staticClass:"vk-window-button-bar"},[t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-default vk-size-small",on:{click:n.handleCancel}},[e._v("\n        "+e._s(n.$T("Done"))+"\n      ")]),e._v(" "),t("button",{staticClass:"vk-button-secondary vk-size-small",attrs:{id:"copy-trigger"},on:{click:n.handleCopyLink}},[n.isLinkCopied?[t("span",{attrs:{"uk-icon":"check"}}),e._v(" "),t("span",{staticClass:"typography-subhead-mini",staticStyle:{"margin-left":"4px"}},[e._v(e._s(n.$T("Copied")))])]:[t("span",{attrs:{"uk-icon":"note-link"}}),e._v(" "),t("span",{staticClass:"typography-subhead-mini",staticStyle:{"margin-left":"4px"}},[e._v(e._s(n.$T("Copy Link")))])]],2),e._v(" "),n.copyTooltip?t("div",{attrs:{"uk-pop-tips":"","data-pos":"top-center","data-toggle":"#copy-trigger"}},[e._v("\n        "+e._s(n.copyTooltip)+"\n      ")]):e._e()]),e._v(" "),t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-link-secondary",on:{click:n.handleManage}},[t("span",{attrs:{"uk-icon":"person-outline"}}),e._v(" "),t("span",{staticStyle:{"margin-left":"4px"}},[e._v(e._s(n.$T("Manage")))])])])])])}),[],!1,null,"8569d2ea",null).exports,ae=(0,d.aZ)({__name:"app",setup(e){const{query:t}=(0,v.l)(),n=t.fileId,a=t.fileName,i=t.teamId,s=t.fileOwner,w=t.editorId,g="true"===t.isTeamOwner,y=t.fromHome,b=!1,I=(0,f.ZP)("collaboration"),_=(0,r._t)((0,u.b3)(window.id)),R=(0,d.Fl)((()=>(0,r.c7)().user===s)),x=(0,d.iH)(R.value?"index":"manage-of-invitee"),k=(0,d.iH)("Invite"),C=(0,d.iH)(""),T=(0,d.iH)(null),S=(0,d.iH)(null),A=(0,d.iH)(""),F=(0,d.iH)(!1),E=(0,d.Fl)((()=>i===(0,r.c7)().user)),{isActivationValid:M}=(0,p.g)({planType:E.value?r.k9.PERSONAL:r.k9.TEAM,teamId:i,feature:"action.sharedAllowEditing"}),{isActivationValid:q}=(0,p.g)({planType:E.value?r.k9.PERSONAL:r.k9.TEAM,teamId:i,feature:"action.sharedAllowRealtime"}),O=async()=>{var e,t;try{const{metadata:a}=await l.ZP.fetch(o.rM.GET_FILE_METADATA,{fileId:n});C.value=null!==(e=a.teammateRole)&&void 0!==e?e:"editor",T.value=a.accessMode,S.value=null!==(t=a.accessRole)&&void 0!==t?t:"viewer",A.value=a.password}catch(e){I.error("getFileMetadata failed",e)}},L=({extraHeight:e}={extraHeight:0})=>{const t=q.value?0:46;if("index"===x.value)(0,h.QC)({width:520,height:(E.value?252:390)+t+e});else if("by-publish"===x.value){const t="private"===T.value;(0,h.QC)({width:520,height:(t?292:437)+e})}else"by-email"===x.value?(0,h.QC)({width:520,height:400+e}):"manage-of-owner"===x.value?(0,h.QC)({width:520,height:486+e}):"manage-of-invitee"===x.value&&(0,h.QC)({width:520,height:488+e});(0,c.getCurrentWindow)().center()};return(0,d.bv)((async()=>{y&&_().updateContexts({"launchWindow.isBusy":!0}),await O(),(0,m.Yj)()})),(0,d.Jd)((()=>{y&&_().updateContexts({"launchWindow.isBusy":!1})})),(0,d.YP)((()=>x.value),(()=>{L()}),{immediate:!0}),(0,d.YP)((()=>(0,r.c7)().user),(e=>{e||window.close()}),{immediate:!1}),{__sfc:!0,query:t,fileId:n,fileName:a,teamId:i,fileOwner:s,editorId:w,isTeamOwner:g,fromHome:y,isMac:b,logger:I,useWindowSharedStore:_,isFileOwner:R,invitePage:x,inviteTab:k,teammateRole:C,accessMode:T,accessRole:S,password:A,hasInvitee:F,isMyWorks:E,canSharedAllowEditing:M,canSharedAllowRealtime:q,changeInvitePage:e=>x.value=e,changeInviteTab:e=>{k.value=e,x.value="Invite"===e?"index":"by-publish"},fetchFileMetadata:O,adaptWindow:L,InviteByEmail:P,InviteByPublish:U,ManageOfOwner:V,ManageOfInvitee:G,InviteIndex:ne}}}),ie=ae;const re=(0,T.Z)(ie,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"uk-width-1-1 uk-height-1-1",attrs:{id:"app"}},[n.isFileOwner?[t(n.InviteIndex,{directives:[{name:"show",rawName:"v-show",value:"index"===n.invitePage,expression:"invitePage === 'index'"}],attrs:{"can-shared-allow-realtime":n.canSharedAllowRealtime,"file-id":n.fileId,"file-name":n.fileName,"team-id":n.teamId,"access-mode":n.accessMode,"teammate-role":n.teammateRole,"active-invite-tab":n.inviteTab,"has-invitee":n.hasInvitee,"is-team-owner":n.isTeamOwner},on:{"page-change":n.changeInvitePage,"tab-change":n.changeInviteTab}}),e._v(" "),n.accessMode&&n.accessRole?[t(n.InviteByPublish,{directives:[{name:"show",rawName:"v-show",value:"by-publish"===n.invitePage,expression:"invitePage === 'by-publish'"}],attrs:{"can-shared-allow-editing":n.canSharedAllowEditing,"can-shared-allow-realtime":n.canSharedAllowRealtime,"team-id":n.teamId,"file-id":n.fileId,"access-mode":n.accessMode,"access-role":n.accessRole,password:n.password,"active-invite-tab":n.inviteTab,"is-team-owner":n.isTeamOwner},on:{"access-mode-change":function(e){n.accessMode=e},"access-role-change":function(e){n.accessRole=e},"page-change":n.changeInvitePage,"tab-change":n.changeInviteTab}})]:e._e(),e._v(" "),t(n.InviteByEmail,{directives:[{name:"show",rawName:"v-show",value:"by-email"===n.invitePage,expression:"invitePage === 'by-email'"}],attrs:{"can-shared-allow-editing":n.canSharedAllowEditing,"file-id":n.fileId,"team-id":n.teamId,"file-name":n.fileName},on:{"page-change":n.changeInvitePage}}),e._v(" "),n.accessRole?[t(n.ManageOfOwner,{directives:[{name:"show",rawName:"v-show",value:"manage-of-owner"===n.invitePage,expression:"invitePage === 'manage-of-owner'"}],attrs:{"team-id":n.teamId,"can-shared-allow-editing":n.canSharedAllowEditing,"editor-id":n.editorId,"file-id":n.fileId,"file-owner":n.fileOwner,"access-role":n.accessRole},on:{"page-change":n.changeInvitePage,"has-invitee-change":function(e){n.hasInvitee=e}}})]:e._e()]:["manage-of-invitee"===n.invitePage&&n.accessRole?t(n.ManageOfInvitee,{attrs:{"team-id":n.teamId,"can-shared-allow-editing":n.canSharedAllowEditing,"editor-id":n.editorId,"file-id":n.fileId,"file-name":n.fileName,"file-owner":n.fileOwner,"access-role":n.accessRole}}):e._e()]],2)}),[],!1,null,"20bda20c",null).exports,oe=i().parse(location.search.slice(1));window.editorId=oe.editorId;const se=oe.channelPort1,le=oe.channelPort2;(0,s.Z)(re,{name:"dialog-invite-collaborators",editorId:oe.editorId}).then((()=>{se&&le&&(l.ZP.route(le,(e=>{H().setOnlineCollaborators(e.onlineCollaborators)})),l.ZP.fetch(se));const e=oe.teamId,t=oe.isTeamOwner,n=I(e);l.ZP.route((0,o.gk)(n),(()=>e===(0,r.c7)().user?{planType:r.k9.PERSONAL,teamId:e}:{planType:r.k9.TEAM,teamId:e,isTeamOwner:t}))}))},59042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ve});var a=n(47311),i=n(23352),r=n(90435);const o=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",s=(0,i.ZP)(`error:${o}`),l=new a.q(s,{ipc:r.ZP});window.addEventListener("error",(function(e){const t=e.error;t&&l.handle(t)})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason;t&&l.handle(t)}));const d=l;var c=n(2954),u=n(63477),f=n.n(u),h=n(72298),p=n(67657),m=n(13780),v=n.n(m),w=n(30266),g=n(86396),y=n(31945),b=n(54856),I=n(73884),_=n(28914),R=n(56222),x=n(79409),k=n(65114),C=n(77412);const T={install(e){const t="vana-ref";e.directive(t,{bind:function(e,t,n){t.value(n.componentInstance||e,n.key)},update:function(e,n,a,i){if(i.data&&i.data.directives){var r=i.data.directives.find((function(e){return e.name===t}));if(r&&r.value!==n.value)return r&&r.value(null,i.key),void n.value(a.componentInstance||e,a.key)}a.componentInstance===i.componentInstance&&a.elm===i.elm||n.value(a.componentInstance||e,a.key)},unbind:function(e,t,n){t.value(null,n.key)}})}};var S=n(87141);const A={install(e){e.prototype.$T=function(e,...t){return(0,S.JE)().T(e,...t)}}};var F=n(96829);const P=(0,i.ZP)("safe-runner");const E=class{constructor(e){this.errorHandler=e}_handleError(e){"function"==typeof this.errorHandler?this.errorHandler(e):P.error((0,F.SC)(e))}install(e){const t=this;e.prototype.$safeRun=function(e){try{let n=e();return n&&n.then&&n.catch?n.then((e=>e)).catch((e=>t._handleError(e))):n}catch(e){t._handleError(e)}}}};var M=n(69931);const q={install(e){e.prototype.$toResourceURL=(...e)=>(0,M.ju)(...e).replace("(","%28").replace(")","%29"),e.prototype.$loadResource=M.zD}};var O=n(53775),L=n(59474);var N=n(30247),$=n(2563),Z=n(65428);const D=(0,i.ZP)("font");var U=n(22037),z=n.n(U),B=n(38629);const j=(0,i.ZP)("performance");function H(e){e?document.body.style.setProperty("--uk-system-accent-color",e):document.body.style.removeProperty("--uk-system-accent-color")}var K=n(63111),W=n(18621),J=n(69297),V=n(20993);const X={start:()=>{const e=(0,L.i)();e.startJob();const t=(0,c.YP)((()=>e.pendingJobs),(n=>{n>0||(t(),e.markReady())}));setTimeout((()=>e.endJob()),0)}},G=(()=>{const e=[],t=new Map;return{start:()=>{const e=(0,L.i)();e.startJob(),r.ZP.fetch(b.de).then((t=>{Object.keys(t).forEach((e=>{var n;const a=(0,S.F_)(e);null===(n=null==a?void 0:a())||void 0===n||n.$patch(t[e])})),I.Z.on(k.Md,(e=>{e.forEach((({id:e,state:t})=>{var n;const a=(0,S.F_)(e);null===(n=null==a?void 0:a())||void 0===n||n.$patch((0,c.qj)(t))}))})),e.endJob()}))},plugin:n=>{(0,S.W$)(n.store.$id)&&n.store.$subscribe(((a,i)=>{if(n.store.$id!==a.storeId)return;const o=t.get(a.storeId);t.set(a.storeId,!0),(null===window||void 0===window?void 0:window.isEditorFrame)||o&&a.type!==C.x1.patchObject&&(0,S.W$)(a.storeId)&&(e.push({id:a.storeId,state:JSON.parse(JSON.stringify(i))}),Promise.resolve().then((()=>{r.ZP.fetch(b.w6,{states:e}),e.length=0})))}))}}})(),Y={start:()=>{(0,Z.r)();const e=(0,M.ju)("/static/snowbird/resource/"),t=function(){const e={};return N.Fy(((t,n)=>{e[t]=n.map((e=>({...e,family:t})))})),e}(),n=Object.values(t).flat().map((t=>function({family:e,src:t,italic:n,weight:a,"unicode-range":i},r){const o=new URL(t,r).href;let s={family:e,source:`url("${o}")`,url:o};return void 0!==n&&(s={...s,style:n?"italic":"normal"}),void 0!==a&&(s={...s,weight:a.toString()}),void 0!==i&&(s={...s,unicodeRange:i}),s}(t,e)));!function(e){Promise.all(e.map((({family:e,source:t,...n})=>{const a=new FontFace(e,t,n);return a.load().then((()=>{document.fonts.add(a)})).catch((()=>{D.error("Failed to load css font from",t)}))})))}(n),function(){const e=document.createElement("style"),t=N.Hn();e.innerHTML=t,document.head.appendChild(e),document.body.style.setProperty("--info-button-font",N.o6)}(),(0,$.O)().updateBuiltinFontFamilies(Array.from(new Set(Object.keys(t))))}},Q={start:()=>{const e=(0,L.i)(),{_apr:t,_acc:n}=f().parse(location.search.slice(1));t&&(e.startJob(),j.debug("About to load CSS using _apr query parameter:",t),(0,B.Z)(t,(()=>{j.debug("Loaded CSS using _apr query parameter:",t),setTimeout((()=>{e.endJob()}),10)}))),n&&H(n),"darwin"===z().platform()&&parseFloat(z().release())>=20&&document.body.classList.add("uk-darwin-bigsur"),(0,c.YP)((()=>(0,S.S)().language),((e,t)=>{t&&document.body.classList.remove(`uk-lang-${t}`),e&&document.body.classList.add(`uk-lang-${e}`)}));const a=(0,c.YP)((()=>(0,L.i)().ready),(e=>{e&&(a(),(0,c.YP)((()=>[(0,S.S)().appearance,(0,$.O)().ignoreAppearanceChanged]),(([e,t])=>{t||(0,B.Z)(e)})),(0,c.YP)((()=>(0,S.qr)().systemAccentColor),(e=>H(e))),(0,c.YP)((()=>(0,S.S)().systemScrollbarSetting),(e=>function(e){const t="vk-scrollbar";document.body.classList.forEach((e=>{e.startsWith(t)&&document.body.classList.remove(e)})),document.body.classList.add(`${t}-${(e||"always").toLowerCase()}`)}(e)),{immediate:!0}))}))}},ee={start:()=>{K.nd&&K.qu.forEach((e=>{(0,S.JX)().appendBeforeHandler(e,(()=>(async()=>(await r.ZP.fetch(b.QN),"interruption"))()))})),Object.keys(K.JN).concat(Object.keys(K.oF)).forEach((e=>{(0,S.JX)().appendBeforeHandler(e,(()=>{const t=(0,S.JX)().commandById(e);return(null==t?void 0:t.provider)?(async(e,t)=>{if(!await r.ZP.fetch(b.Gy,{name:e,channel:(0,b.gk)(t)}))return"interruption"})(e,t.provider):"interruption"}))})),K.ZK.forEach((e=>{(0,S.JX)().appendAfterHandler(e,(()=>{const t=e.split(".")[1];(0,W.L9)({eventCategory:"Edit",eventAction:t,eventValue:1})}))})),K.ff.forEach((e=>{(0,S.JX)().appendAfterHandler(e,(()=>{(0,W.L9)({eventCategory:"Share",eventAction:e,eventValue:1})}))})),K.y_.forEach((e=>{(0,S.JX)().appendBeforeHandler(e,(()=>{(0,J.Kl)()}))})),K.xk.forEach((e=>{(0,S.JX)().appendBeforeHandler(e,(()=>{(0,J.fv)()}))})),K.wp.forEach((e=>{(0,S.JX)().appendBeforeHandler(e,(()=>{(0,J.nz)()}))})),(0,S.JX)().appendAfterHandler("editor.addTodo",V.l5),(0,S.JX)().appendAfterHandler("editor.cancelTask",V.DY),(0,S.JX)().appendAfterHandler("editor.checkTodo",(()=>{(0,V.fR)("checkTask")})),(0,S.JX)().appendAfterHandler("editor.uncheckTodo",(()=>{(0,V.fR)("uncheckTask")})),K.QL.forEach((e=>{(0,S.JX)().appendBeforeHandler(e,(()=>{if((0,S.si)().contexts["collaboration.isReadOnly"])return"interruption"}))})),K.gY.forEach((e=>{(0,S.JX)().appendBeforeHandler(e,(()=>{if((0,S.si)().contexts["collaboration.isFromCloud"])return"interruption"}))}))}},te={start:()=>{const e=(0,L.i)();e.startJob(),(0,S.JX)().injectDoHandleCommand((async(e,t)=>r.ZP.fetch(b.hR,{commandId:e,handlerArgs:t}))),e.endJob()}},ne=[G.plugin];var ae=n(7710);const ie=f().parse(window.location.search.slice(1)),re=!0,oe=!!ie.isBrowserView,se=!!ie.isEditorFrame;let le=p.getCurrentWindow;oe&&(le=function(){const e=_.Z.sendSync("get-current-window-id");return p.BrowserWindow.fromId(parseInt(e))});const de=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",ce=(0,i.ZP)("performance"),ue=(0,i.ZP)("sentry");ce.debug("Initializing page:",de),h.webFrame.setVisualZoomLevelLimits(1,1),document.body.classList.add("uk-win32"),Object.defineProperty(window,"id",{get:()=>le().id}),window.getWindowIdAsync=async()=>await(0,R.A)("get-current-window-id");window.getCurrentWindowAsync=async()=>{const e=await window.getWindowIdAsync();return p.BrowserWindow.fromId(parseInt(e))},window.isEditorFrame=se;const fe=c.ZP.observable({isBeingDestroyed:!1,isDestroyed:!1,isShown:!1});["isBeingDestroyed","isDestroyed","isShown"].forEach((e=>{Object.defineProperty(window,e,{get:()=>fe[e],set(t){fe[e]=t}})})),window.show=()=>{le().show()},window.hide=()=>{le().hide()},window.close=()=>{le().close()},window.minimize=()=>{le().minimize()},window.maximize=()=>{le().maximize()},window.restore=()=>{le().unmaximize()},window.isMinimized=()=>le().isMinimized(),window.isMaximized=()=>le().isMaximized(),window.isFullScreen=()=>le().isFullScreen(),window.resizeTo=(e,t)=>{le().setContentSize(e,t)},window.resizeBy=(e,t)=>{let[n,a]=le().getContentSize();le().setContentSize(n+e,a+t)},window.moveTo=(e,t)=>{le().setPosition(e,t)},window.moveBy=(e,t)=>{let[n,a]=le().getPosition();le().setPosition(n+e,a+t)},I.Z.on("window-maximize",(()=>{document.body.classList.add("uk-window-maximized"),window.dispatchEvent(new Event("maximize"))})),I.Z.on("window-unmaximize",(()=>{document.body.classList.remove("uk-window-maximized"),window.dispatchEvent(new Event("restore"))})),I.Z.on("window-minimize",(()=>{window.dispatchEvent(new Event("minimize"))})),I.Z.on("window-unminimize",(()=>{window.dispatchEvent(new Event("unminimize"))})),I.Z.on("window-focus",(()=>{document.body.classList.remove("uk-window-inactive")})),I.Z.on("window-blur",(()=>{document.body.classList.add("uk-window-inactive")})),I.Z.on("window-enter-full-screen",(()=>{document.body.classList.add("uk-window-full-screen"),window.dispatchEvent(new Event("enter-full-screen"))})),I.Z.on("window-leave-full-screen",(()=>{document.body.classList.remove("uk-window-full-screen"),window.dispatchEvent(new Event("leave-full-screen"))})),I.Z.on("window-sheet-begin",(()=>{document.body.classList.add("uk-disabled"),window.dispatchEvent(new Event("sheet-begin"))})),I.Z.on("window-sheet-end",(()=>{document.body.classList.remove("uk-disabled"),window.dispatchEvent(new Event("sheet-end"))})),I.Z.on("window-show",(()=>{window.dispatchEvent(new Event("window-show"))})),I.Z.on(k.$r,(e=>{(0,ae.l)().setQuery(e)}));const he=le&&le();if(he&&he.isMaximized()&&document.body.classList.add("uk-window-maximized"),he&&he.isFullScreen()&&document.body.classList.add("uk-window-full-screen"),he&&!he.isFocused()&&document.body.classList.add("uk-window-inactive"),document.addEventListener("keydown",(e=>{27===e.keyCode&&document.body.querySelector(".uk-window-dialog")&&setTimeout((()=>{if(e.defaultPrevented)return;const t=new Event("close");window.dispatchEvent(t)&&window.close()}),0)})),he&&he.isMaximizable&&he.isMaximizable()){const e=["a","button","select","input"];document.addEventListener("dblclick",(t=>{const{target:n,defaultPrevented:a}=t;if(a)return;let i=n;for(;i&&"function"==typeof i.matches;){if(e.some((e=>i.matches(e))))return;i=i.parentNode}let r=document.querySelector(".vk-window-title-bar-expanded")||document.querySelector(".vk-window-title-bar");r&&r.contains(n)&&(window.isMaximized()?window.restore():window.maximize())}))}c.ZP.use(C.og),c.ZP.use(new E((e=>d.handle(e)))),c.ZP.use(v()),c.ZP.use(A),c.ZP.use(q),c.ZP.use(T),c.ZP.use(w.ZP.Plugin),ce.debug("Initialized page:",de);const pe=(0,C.WB)();(0,C.uX)(pe),ne.forEach((e=>pe.use(e))),Object.values(S.rx).forEach((e=>e())),X.start(),G.start(),Y.start(),Q.start(),ee.start(),te.start();const me=(0,x.Z)("version").includes("beta");if(process.env.SENTRY_DSN_OF_BROWSER&&me){const e=(0,c.YP)((()=>(0,S.qr)().sentryConfig),(t=>{e();try{const e=t[process.env.SENTRY_PROJECT_OF_BROWSER]||{};g.S({Vue:c.ZP,dsn:process.env.SENTRY_DSN_OF_BROWSER,environment:"production",...e}),ue.info("init",e)}catch(e){ue.error("Failed to init sentry",e)}}),{immediate:!1})}async function ve(e,{mountTarget:t="#app",name:n=null,plugins:a=[],runAfterPiniaPlugin:i,editorId:o=null,autoShow:s=!0}={}){ce.debug("Bootstrapping:",de);for(let e of a)c.ZP.use(e);let l;return(0,S._t)((0,y.b3)(window.id)),"dialog-err"===n&&(0,S.VE)((0,y.zN)("dialog-err",window.id)),"dialog-problem"===n&&(0,S.ym)((0,y.zN)("dialog-problem",window.id)),o&&(0,S.OD)((0,y.aJ)(o)),await new Promise((n=>{let a=(0,c.YP)((()=>(0,L.i)().ready),(o=>{o&&(a(),document.body.classList.add(`uk-lang-${(0,S.S)().language}`),i?.(pe),ce.debug("About to create Vue instance:",de),l=new c.ZP({...e,pinia:pe}),ce.debug("Created Vue instance:",de),window.addEventListener("unload",(()=>{window.isBeingDestroyed=!0,l.$destroy(),window.isDestroyed=!0})),ce.debug("About to mount Vue instance:",de),l.$mount(t||"#app"),ce.debug("Mounted Vue instance:",de),(0,O.qJ)().then((async()=>{if(!s)return;const e=await window.getWindowIdAsync();!re&&await r.ZP.fetch((0,b.EV)(e),"show"),re&&await r.ZP.fetch((0,b.EV)(e),"moveToShow"),window.isShown=!0})),n(l))}))})),l}},13382:(e,t,n)=>{"use strict";n.d(t,{G$:()=>R,N0:()=>v,Pg:()=>k,R2:()=>_,W5:()=>I,ZZ:()=>g,am:()=>b,eq:()=>y,yr:()=>x});var a=n(71017),i=n.n(a),r=n(67657),o=n(7104),s=n(23352),l=n(33394),d=n(94593),c=n(90435),u=n(54856),f=n(5893),h=n(87141),p=n(63111);const m=(0,s.ZP)("dialog");async function v(e){(e=Object.assign({},e||{})).icon&&"string"==typeof e.icon&&(e.icon=i().join((0,o.bY)(),e.icon));const t=r.BrowserWindow.fromId(window.id);return[r.dialog.showMessageBoxSync(t,e)]}async function w(e){(e=Object.assign({},e||{})).icon&&"string"==typeof e.icon&&(e.icon=i().join((0,o.bY)(),e.icon));const t=r.BrowserWindow.fromId(window.id),{response:n,checkboxChecked:a}=await r.dialog.showMessageBox(t,e);return[n,a]}async function g(e){(e=Object.assign({securityScopedBookmarks:!0},e||{})).suggestPath&&!e.defaultPath&&(e.defaultPath=b(e.suggestPath,e.filters),delete e.suggestPath);const{canceled:t,filePath:n,bookmark:a}=await r.dialog.showSaveDialog(r.getCurrentWindow(),e);return t?null:(n&&a&&await l.Z.bindBookmark({fp:n,bookmark:a}),n&&(0,h.km)().setLastSaveDirectory(i().dirname(n)),n)}async function y({folderName:e,dialogOptions:t}){let n="";(t=Object.assign({securityScopedBookmarks:!0},t||{})).defaultPath||(t.defaultPath=b({}));const{canceled:a,filePaths:o,bookmark:s}=await r.dialog.showOpenDialog(r.getCurrentWindow(),t);if(a)return null;if(n=o[0],o.length>0&&s&&await l.Z.bindBookmark({fp:n,bookmark:s}),"string"==typeof e){let t=e.replace(/[\\/]/g,"");t=(0,f.N6)(t).replace(/\.+$/g,"").trim(),n=i().join(n,t)}return d.Z.existsSync(n)||d.Z.ensureDir(n),n&&(0,h.km)().setLastSaveDirectory(n),n}function b({doc:e=null,oldDoc:t=null,suggestedName:n=null},a=null){let o,s;if(!o&&n&&(o=(0,f.N6)(n.toString())),!o&&e&&e.title&&e.source&&!e.source.startsWith("new://")&&(o=(0,f.N6)(e.title.toString())),!o&&t&&t.title&&t.source&&!t.source.startsWith("new://")&&(o=(0,f.N6)(t.title.toString())),o&&Array.isArray(a)){const e=a[0]&&a[0].extensions;Array.isArray(e)&&e.length>0&&(o=`${o}.${e[0]}`)}if(!s&&t&&t.source&&t.source.startsWith("file://")){let e=t.source.slice(7);e=e.substring(1),s=i().dirname(e)}if(!s&&(0,h.km)().lastSaveDirectory&&(s=(0,h.km)().lastSaveDirectory),!s)try{s=r.app.getPath("documents")}catch(e){m.info(e)}return s&&o?i().join(s,o):s||o}async function I(e){e.$withUIKit((t=>{const n=`\n        <button\n        class="vk-button-text vk-size-small uk-text-nowrap"\n        style="word-break: keep-all;"\n        focustrigger="cannotGetFocusByMouse">\n          ${e.$T("OK")}\n        </button>\n        </div>`;t.toast({message:e.$T("The map style has been updated for your current version of Xmind."),pos:"bottom-center",timeout:5e3,btn:n,style:{width:"500px",height:"auto",padding:"10px 20px"},btnClick:t.toast.clearAll()})}))}async function _(e){const t=(e="function"!=typeof e?e=>e:e)("OK"),n=e("Get Latest Version"),a=[t,n],[i]=await w({title:"Xmind",message:e("The map style in this file might vary since it was created in a newer version of Xmind."),detail:e("You can continue to open the file or update to the latest version for better compatibility."),buttons:a,defaultId:a.indexOf(n),cancelId:a.indexOf(t),noLink:!0});i===a.indexOf(n)&&c.ZP.fetch(u.lf.GO_DOWNLOAD)}async function R(e){if(e="function"!=typeof e?e=>e:e,p.zr)return await w({title:"Xmind",message:e("Failed to Open File"),detail:e("The file was created with a newer version of Xmind. Please contact your corporate administrator for the latest update."),buttons:[e("Done")],defaultId:0,noLink:!0});const t=e("Cancel"),n=e("Get Latest Version"),a=[n,t],[i]=await w({title:"Xmind",message:e("Failed to Open File"),detail:e("The file was created by a newer version of Xmind. Please update Xmind and try to open it again."),buttons:a,defaultId:a.indexOf(n),cancelId:a.indexOf(t),noLink:!0});i===a.indexOf(n)&&c.ZP.fetch(u.lf.GO_DOWNLOAD)}async function x(e){const t=(e="function"!=typeof e?e=>e:e)("Save"),n=e("Save as"),a=e("Cancel"),i=[];i.push(n,t,a);let[r]=await w({type:"none",title:"Xmind",message:e("Saving file from Xmind"),detail:e("Once you save the file, it cannot be opened normally in older versions like $1.","Xmind 22.11"),buttons:i,defaultId:i.indexOf(n),cancelId:i.indexOf(a),noLink:!0});const o=r===i.indexOf(t),s=r===i.indexOf(n);return{toSave:o,toSaveAs:s,toCancel:!o&&!s}}async function k(e){const t=(e="function"!=typeof e?e=>e:e)("Fix ＆ Open"),n=e("Cancel"),a=[t,n],[i]=await w({title:"Xmind",message:e("Failed to Open File"),detail:e("The file may contain invalid data structure or have become corrupted. Xmind can try to fix the data structure to help you open it."),buttons:a,defaultId:a.indexOf(t),cancelId:a.indexOf(n),noLink:!0});return{toFix:i===a.indexOf(t),toCancel:i===a.indexOf(n)}}},33394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(57147),i=n.n(a),r=n(71017),o=n.n(r),s=n(73837),l=n(23352),d=n(96829),c=n(56222);const u=(0,l.ZP)("renderer:fs");async function f(e){return(0,c.A)("OBTAIN_READ_WRITE_ACCESS",e)}async function h(e){return(0,c.A)("RELEASE_READ_WRITE_ACCESS",e)}const p={read:async function(e){if(!o().isAbsolute(e))throw new Error("Must be an absolute path.");const t=await async function(e){return(0,c.A)("OBTAIN_READ_LOCK",e)}(e);try{return await(0,s.promisify)(i().readFile)(e)}catch(t){u.error(`path(${e}) read error: ${(0,d.SC)(t)}`);try{if(!await f(e))throw new Error(`No access to '${e}'`);return await(0,s.promisify)(i().readFile)(e)}catch(e){throw e}finally{await h(e)}}finally{await async function(e){return(0,c.A)("RELEASE_READ_LOCK",e)}(t)}},write:async function(e,t){if(!o().isAbsolute(e))throw new Error("Must be an absolute path.");const n=await async function(e){return(0,c.A)("OBTAIN_WRITE_LOCK",e)}(e);try{return await(0,s.promisify)(i().writeFile)(e,t)}catch(n){u.error(`path(${e}) write error: ${(0,d.SC)(n)}`);try{if(!await f(e))throw new Error(`No access to '${e}'`);return await(0,s.promisify)(i().writeFile)(e,t)}catch(e){throw e}finally{await h(e)}}finally{await async function(e){return(0,c.A)("RELEASE_WRITE_LOCK",e)}(n)}},bindBookmark:async function({fp:e,bookmark:t}={}){return(0,c.A)("BIND_BOOKMARK",{fp:e,bookmark:t})},hasRWAccess:async function(e){return(0,c.A)("HAS_READ_WRITE_ACCESS",e)},obtainRWAccessFromOS:f,releaseRWAccessFromOS:h}},94593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(81296),i=n.n(a);const r=(0,n(23352).ZP)("ipc:proxy:"),o=new Proxy(i(),{get(e,t){let n=Reflect.get(e,t);return"function"==typeof n?(...a)=>{if(!window.isDestroyed)return n.apply(e,a);r.error(`window has been destroyed, we should not invoke fsp.${t})`)}:n}})},56222:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(72298);let i=0;function r(e,t){return new Promise((n=>{const r=i++;a.ipcRenderer.once(`internal-ipc-api-reply:${e}:${r}`,((e,{data:t=null})=>{n(t)})),a.ipcRenderer.send(`internal-ipc-api:${e}`,{payload:t,seq:r})}))}},28914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(72298);const i=(0,n(23352).ZP)("ipc:proxy:"),r=new Proxy(a.ipcRenderer,{get(e,t){let n=Reflect.get(e,t);return"function"==typeof n?(...a)=>{if(!window.isDestroyed)return n.apply(e,a);i.error(`window has been destroyed, we should not invoke ipcRenderer.${t} with args (${JSON.stringify(a)})`)}:n}})},90435:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,he:()=>s});var a=n(96829),i=n(28914);const r=new Map;let o=0;function s(e,t){const n=r.get(e);return n?Promise.resolve().then((()=>n(t))):new Promise(((n,r)=>{const s=o++;i.Z.once(`ipc-api-reply:${e}:${s}`,((e,{error:t=null,data:i=null})=>{t?r((0,a.aq)(t)):n(i)})),i.Z.send(`ipc-api:${e}`,{payload:t,seq:s})}))}const l={fetch:s,route:function(e,t){if("function"!=typeof t)throw new Error(`IPC API "${e}" is routed to invalid handler: ${typeof t}`);if(r.has(e))throw new Error(`IPC API "${e}" is routed twice`);const n=`ipc-api:${e}`;if(i.Z.eventNames().includes(n))throw new Error(`IPC API "${e}" is routed twice`);const o=(n,{payload:r=null,seq:o=0}={})=>{const s=`ipc-api-reply:${e}:${o}`;Promise.resolve().then((()=>t(r))).then((e=>{i.Z.send(s,{data:e})})).catch((e=>{i.Z.send(s,{error:(0,a.SC)(e)})}))};return r.set(e,t),i.Z.on(n,o),i.Z.send("ipc-api-register",{apiName:e}),()=>{i.Z.send("ipc-api-unregister",{apiName:e}),i.Z.removeListener(n,o),r.delete(e)}}}},23352:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d});var a=n(82134),i=n(96829),r=n(79409),o=n(72298);const s=new a.Jq(global.console,{colorful:!1}),l=new a.Yd({isDebugging:(0,r.Z)("version").indexOf("-alpha")>=0||(0,r.Z)("version").indexOf("-dev")>=0||i.x,handle(e){s.handle(e),function(e){o.ipcRenderer.send("logger:handleLogEvent",e)}(e)}}),d=(e=null)=>l.logger(e)},79409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(71017),i=n.n(a),r=n(57147),o=n.n(r),s=n(7104);let l=null;function d(e=null){return l||(l=JSON.parse(o().readFileSync(i().join((0,s.bY)(),"package.json")))),e?l[e]:l}},69931:(e,t,n)=>{"use strict";n.d(t,{Al:()=>u,ju:()=>l,pP:()=>d,zD:()=>c});var a=n(71017),i=n.n(a),r=n(94593),o=n(7104),s=n(5893);function l(e){return(0,s.u3)(i().join((0,o.bY)(),e))}function d(e){return(0,s.u3)(i().join((0,o.D8)(),e))}function c(e){return r.Z.readFile(i().join((0,o.bY)(),e))}const u=(...e)=>l(...e).replace("(","%28").replace(")","%29")},73884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(82361),i=n.n(a),r=n(28914);const o=new(i()),s=o.emit;o.emit=function(e,...t){s.call(o,e,...t),d(e)&&r.Z.send("revents:broadcast",[e,...t])},o.on("newListener",(e=>{if(d(e)){0===o.eventNames().filter(d).length&&r.Z.send("revents:register")}})),o.on("removeListener",(e=>{if(d(e)){0===o.eventNames().filter(d).length&&r.Z.send("revents:unregister")}}));const l=o.removeAllListeners;function d(e){return"newListener"!==e&&"removeListener"!==e}o.removeAllListeners=function(e){if(!e)throw new Error("revents's removeAllListeners is forbidden!");if("newListener"===e||"removeListener"===e)throw new Error('revents\'s "newListener" and "removeListener" handler should not be removed');l.call(o,e)},r.Z.on("revents:broadcast",((e,t)=>{let n=JSON.parse(t);s.apply(o,n)})),window.addEventListener("unload",(()=>{r.Z.send("revents:unregister")}));const c=o},69297:(e,t,n)=>{"use strict";n.d(t,{Do:()=>r,Kl:()=>o,N1:()=>i,fv:()=>s,nz:()=>l});var a=n(28914);function i(){return a.Z.sendSync("usage-stats:data")}function r(){a.Z.send("usage-stats:increase",{type:"dwellTimeInZenMode",value:1e3})}function o(e=1){a.Z.send("usage-stats:increase",{type:"topicsAdded",value:e})}function s(e=1){a.Z.send("usage-stats:increase",{type:"sheetsAdded",value:e})}function l(e=1){a.Z.send("usage-stats:increase",{type:"eventsTriggered",value:e})}},18621:(e,t,n)=>{"use strict";n.d(t,{Fk:()=>r,L9:()=>i});var a=n(28914);function i(e){a.Z.send("usage-tracker:track-event",{event:e})}function r(e){a.Z.send("usage-tracker:track-view",{view:e})}},7104:(e,t,n)=>{"use strict";n.d(t,{D8:()=>c,Im:()=>p,L2:()=>f,N8:()=>u,O1:()=>m,Xl:()=>g,bY:()=>d,d6:()=>w,tM:()=>v,tY:()=>h});var a=n(71017),i=n.n(a),r=n(72298),o=n(56222);let s=null;let l=null;function d(){return l||(l=r.ipcRenderer.sendSync("workspace:appPath")),l}function c(){return i().join((s||(s=r.ipcRenderer.sendSync("workspace:userData")),s),"vana")}function u(){return i().join(c(),"workbooks")}function f(){return i().join(c(),"file-cache")}function h(){return i().join(c(),"theme")}function p(){return i().join(c(),"smart-color")}function m(){return i().join(c(),"illustrations")}function v(){return i().join(c(),"templates")}function w(){return i().join(d(),"static/snowbird/resource/")}async function g(){return s||(s=await(0,o.A)("workspace:userData")),i().join(s,"vana","workbooks")}},38629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(69931);function i(e,t=null){document.documentElement.setAttribute("color-scheme","default"===e?"light":"dark");if(document.querySelector("#appearance_link"))return void("function"==typeof t&&t());const n=(0,a.ju)("static/vanakit/themes/vana.css"),i=document.createElement("link");i.type="text/css",i.id="appearance_link",i.rel="stylesheet",i.href=n,i.setAttribute("data-appearance",e),"function"==typeof t&&(i.onload=()=>t()),document.head.appendChild(i)}},60746:(e,t,n)=>{"use strict";n.d(t,{GI:()=>p,JX:()=>f,Ni:()=>m,QC:()=>g,RL:()=>w,RS:()=>u,SX:()=>b,Sr:()=>y,gP:()=>v,lF:()=>h,mi:()=>_,sF:()=>c,yB:()=>I});n(13382),n(81296),n(90435),n(54856),n(71017);var a=n(72298),i=n(67657),r=(n(63111),n(41809)),o=(n(30053),n(97234)),s=n(26601),l=n(87141);const d={cache:!1},c=e=>{const t=e=>parseInt(e,16);if("string"==typeof(e=(0,o.Z)(e).toHexString())&&/^#[A-Z0-9]{6}$/.test(e.toUpperCase())){return.2126*t(e.slice(1,3))+.7152*t(e.slice(3,5))+.0722*t(e.slice(5))}return 0},u=(e={})=>{const t=Object.assign({},d,e);let n=null;const a={};return function(e="",i=""){if(t.cache&&a[e])return a[e];n||(n=document.createElement("canvas"));const r=n.getContext("2d");r.font=i;const o=r.measureText(e);return t.cache&&(a[e]=o.width),o.width}};function f(){const e=i.screen.getAllDisplays().map((e=>e.scaleFactor));return Math.max.apply(null,e)}const h=(e,t=1)=>{const n=f(),a=(0,r.Hv)(e,72*n*t);return Buffer.from(a.slice(22),"base64")};function p(e){let t=parseInt(e);return Number.isInteger(t)?t:100}function m(e){return`${parseInt(e)}%`}const v=function(){let e=null;return function(){if(!e)if(window.screen.deviceXDPI&&window.screen.deviceYDPI)e={x:window.screen.deviceXDPI,y:window.screen.deviceYDPI};else{const t=document.createElement("div");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),e={x:parseInt(t.offsetWidth),y:parseInt(t.offsetHeight)},t.parentNode.removeChild(t)}return e}}();function w(e,t){let n=(0,l.f7)().keybindingByCommandIdAndGroup(t);const a=[];return"string"==typeof n&&n.split("+").forEach((e=>{let t=e;"="===t&&(t="+"),t&&a.push(t)})),a.length>0?`${e} ${a.join(" ")}`:e}const g=({width:e,height:t,animate:n=!1})=>{i.getCurrentWindow().setSize(e,t,n)},y=e=>{const t=(e,...t)=>(0,l.JE)().T(e,...t),n=i.Menu,r=i.MenuItem,o=new n;setTimeout((()=>{const n=document.getSelection().toString(),s=a.clipboard.readText();o.append(new r({label:t("Cut"),enabled:Boolean(n),click:()=>document.execCommand("cut")})),o.append(new r({label:t("Copy"),enabled:Boolean(n),click:()=>document.execCommand("copy")})),o.append(new r({label:t("Paste"),enabled:Boolean(s),click:()=>document.execCommand("paste")})),o.append(new r({type:"separator"})),o.append(new r({label:t("Select All"),enabled:Boolean(e),click:()=>document.execCommand("selectAll")})),o.popup({window:i.getCurrentWindow()})}),50)};async function b(){await new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestIdleCallback(e)}))}))))}const I=(e,t)=>0===e||0===t||s.Z.test({width:e,height:t,sizes:[e,t]}),_=async(e,t,n=1)=>{if(I(e*n,t*n))return n;const a=await s.Z.maxWidth({usePromise:!0}),i=await s.Z.maxHeight({usePromise:!0}),r=await s.Z.maxArea({usePromise:!0}),o=a.width,l=i.height,d=r.width*r.height;let c=n;if(e*n>o){const t=o/e;c=Math.min(c,t)}if(t*n>l){const e=l/t;c=Math.min(c,e)}if(e*n*t*n>d){const n=Math.sqrt(d/(e*t));c=Math.min(c,n)}return c}},20993:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>Z,Ao:()=>O,Bv:()=>w,C3:()=>x,CI:()=>D,CN:()=>C,DY:()=>s,I1:()=>m,JC:()=>i,NK:()=>c,Pr:()=>f,TJ:()=>y,Vs:()=>T,Wr:()=>L,Xz:()=>E,Yj:()=>I,Zk:()=>u,_5:()=>P,_6:()=>k,cZ:()=>b,cx:()=>M,dx:()=>p,fR:()=>o,jB:()=>h,kI:()=>l,l5:()=>r,p3:()=>d,sF:()=>A,sG:()=>R,t0:()=>$,wH:()=>N,wp:()=>g,xG:()=>S,xg:()=>_,xy:()=>v,yo:()=>q,zH:()=>F});var a=n(18621);const i=e=>(0,a.L9)({eventName:"Gallery",eventAction:e}),r=()=>(0,a.L9)({eventAction:"insertTask",eventName:"insertTask"}),o=e=>(0,a.L9)({eventAction:"editTask",eventName:e}),s=()=>(0,a.L9)({eventAction:"cancelTask",eventName:"cancelTask"}),l=e=>(0,a.L9)({eventAction:"highlightTask",eventName:e}),d=e=>(0,a.L9)({eventAction:"insertIllustration",eventName:e}),c=e=>(0,a.L9)({eventAction:"searchIllustration",eventName:e}),u=e=>(0,a.L9)({eventAction:"insertIllustrationPro",eventName:e}),f=(e,t,n)=>(0,a.L9)({eventAction:"openTemplateType",eventName:`${e}_${t}_${n}`}),h=e=>(0,a.L9)({eventAction:"popPW",eventName:e}),p=e=>(0,a.L9)({eventAction:"clickPW",eventName:e}),m=()=>{(0,a.L9)({eventAction:"cancelOverlap"})},v=()=>(0,a.L9)({eventAction:"paymentPage"}),w=()=>(0,a.L9)({eventAction:"paymentPageCN"}),g=()=>(0,a.L9)({eventAction:"paymentSuccessful"}),y=()=>(0,a.L9)({eventAction:"paymentSuccessfulCN"}),b=e=>(0,a.L9)({eventName:"PWD-sp35-240515",eventAction:e}),I=()=>(0,a.L9)({eventAction:"sharetoCollaboration"}),_=()=>(0,a.L9)({eventAction:"sharetoEvernote"}),R=e=>(0,a.L9)({eventAction:"pweDisplay",eventName:e}),x=e=>(0,a.L9)({eventAction:"pweContinue",eventName:e}),k=e=>(0,a.L9)({eventAction:"closePwe",eventName:e}),C=e=>(0,a.L9)({eventAction:"pweOrder",eventName:e}),T=e=>(0,a.L9)({eventAction:"purchaseSource",eventName:e}),S=e=>(0,a.L9)({eventAction:"purchaseWindow",eventName:e}),A=({region:e,productId:t})=>(0,a.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButton"+e.toLowerCase(),eventName:t}),F=({region:e,productId:t})=>(0,a.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButtonMAS"+e.toLowerCase(),eventName:t}),P=()=>(0,a.L9)({eventAction:"autoDisconnect"}),E=()=>(0,a.L9)({eventAction:"disableSmartGuideline",eventName:"disableSmartGuideline"}),M=()=>(0,a.L9)({eventAction:"enableSmartGuideline",eventName:"enableSmartGuideline"}),q=()=>(0,a.L9)({eventAction:"clickSearchMaps",eventName:"clickSearchMaps"}),O=()=>(0,a.L9)({eventAction:"insertTaskInfo",eventName:"insertTaskInfo"}),L=()=>(0,a.L9)({eventAction:"removeTaskInfo",eventName:"removeTaskInfo"}),N=()=>(0,a.L9)({eventAction:"enableAutoCalculate",eventName:"enableAutoCalculate"}),$=()=>(0,a.L9)({eventAction:"disableAutoCalculate",eventName:"disableAutoCalculate"}),Z=()=>(0,a.L9)({eventAction:"disableDisplayinTopic",eventName:"disableDisplayinTopic"}),D=()=>(0,a.L9)({eventAction:"enableDisplayinTopic",eventName:"enableDisplayinTopic"})},1031:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var a=n(2954),i=n(87141);const r=e=>{let t=e||{planType:i.k9.PERSONAL};const n=(0,a.iH)(!1),r=e=>{n.value=(0,i.Yh)().checkActivationValid(e)};return(0,a.YP)((()=>(0,i.Yh)().subscriptionPlan),(()=>{r(t)}),{immediate:!0}),{isActivationValid:n,updatePlanPayload:e=>{t=e,r(e)}}}},62004:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d});var a=n(6712),i=n(87141),r=n(68769),o=n(23352);class s extends Error{constructor(e,t){super(t),this.name="FireflyClientError",this.code=e}}const l=(0,o.ZP)("firefly-client"),d=(()=>{const e=Symbol("default-firefly-client"),t=new Map;return()=>{if(t.has(e))return t.get(e);const n=(()=>{const e=[{pre:async({init:e,url:t})=>{l.info(`[STARTED] ${e.method} ${t}`)},post:async({response:e,init:t,url:n})=>{if(e.status>=400){const a=await e.text();throw l.error(`[FAILED] ${t.method} ${n} ${e.status} ${a}`),new s(e.status,a)}l.info(`[DONE] ${t.method} ${n} ${e.status}`)}}],t=()=>{const t="cn"===(0,i.qr)().serviceRegion?"https://ai.xmind.cn":"https://xmind.ai";return new a.VKt({basePath:t,middleware:e,apiKey:()=>(0,i.c7)().fireflyToken})};return{uploadXapResource:({fileId:e,fileName:n,file:i})=>new a.iy8(t()).uploadXapResource({fileId:e,filename:n,file:new Blob([i])}),downloadXapResource:({fileId:e,fileName:n})=>new a.iy8(t()).downloadXapResource({fileId:e,filename:n}).then((e=>e.arrayBuffer())),uploadThumbnail:({fileId:e,file:n})=>new a.iy8(t()).uploadThumbnail({fileId:e,file:new Blob([n])}),getThumbnail:({fileId:e})=>new a.iy8(t()).getThumbnail({fileId:e}).then((e=>e.arrayBuffer())),uploadFile:async({file:e,fileName:n,parentFolderId:o,teamId:l,isTeamOwner:d,accessMode:c,signal:u})=>{try{return await new a.iy8(t()).uploadFile({file:e,parentFolderId:o,teamId:l,accessMode:c},(async e=>{const t=e.init.body;return t.set("file",t.get("file"),n),{...e.init,body:t,signal:u}})).catch((e=>{throw e}))}catch(e){if(402===e.code){const{message:t,limit:n}=JSON.parse(e.message);if(t===a.INE.ExceedFilesLimit){const e=l===(0,i.c7)().user;throw new s(r.R.EXCEED_FILES_LIMIT,JSON.stringify({planType:e?i.k9.PERSONAL:i.k9.TEAM,teamId:l,isTeamOwner:d,limitMapNumOfCloud:n}))}}switch(null==e?void 0:e.message){case a.ikF.InsufficientSpace:throw new s(r.R.STORAGE_LIMIT_FAILURE,"Insufficient space");case a.ikF.UnsupportedAccessMode:throw new s(r.R.NO_PERMISSION_FAILURE,"Unsupported access mode");case a.ikF.FileCorrupted:throw new s(r.R.FILE_CORRUPTED_FAILURE,"File corrupted");case a.ikF.ImageFileTooLarge:throw new s(r.R.FILE_IMAGE_TOO_LARGE,"Image size limit: 10MB");case a.ikF.FileAttachmentTooLarge:throw new s(r.R.FILE_ATTACHMENT_TOO_LARGE,"Attachment size limit: 10MB");case a.ikF.FileMapContentTooLarge:throw new s(r.R.FILE_MAP_CONTENT_TOO_LARGE,"Map content size limit: 20MB");default:throw new s(r.R.NETWORK_FAILURE,"Network failure")}}},getHocuspocusServerURL:({type:e,fileId:t})=>"cn"===(0,i.qr)().serviceRegion?`wss://ai.xmind.cn/api/drive/connection/${e}/${t}`:`wss://xmind.ai/api/drive/connection/${e}/${t}`,getShareLink:({fileId:e,fileName:t})=>"cn"===(0,i.qr)().serviceRegion?`【Xmind思维导图】${t} https://ai.xmind.cn/share/${e}`:`https://xmind.ai/share/${e}`,getThumbnailURL:({fileId:e,version:t})=>"cn"===(0,i.qr)().serviceRegion?`https://ai.xmind.cn/api/drive/file/${e}/Thumbnails/thumbnail.png?version=${t}`:`https://xmind.ai/api/drive/file/${e}/Thumbnails/thumbnail.png?version=${t}`}})();return t.set(e,n),n}})()},59474:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var a=n(77412),i=n(2954);const r=(0,a.Q_)("bootstrap",(()=>{const e=(0,i.iH)(!1),t=(0,i.iH)(0);return{ready:e,markReady:()=>e.value=!0,pendingJobs:t,startJob:()=>t.value+=1,endJob:()=>t.value-=1}}))},65428:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var a=n(54856),i=n(77412),r=n(2954),o=n(90435);const s=(0,i.Q_)("fonts",(()=>{const e=(0,r.iH)(!1),t=(0,r.iH)({systemFonts:{},vanaFonts:{}});return{loaded:e,markLoaded:()=>e.value=!0,getLoadedFonts:async()=>{if(!t.value||Object.keys(t.value.systemFonts).length<=0&&Object.keys(t.value.vanaFonts).length<=0){const e=await(0,o.he)(a.qz);t.value=e}return t.value}}}))},7710:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var a=n(77412),i=n(2954);const r=(0,a.Q_)("query",(()=>{const e=(0,i.iH)({});return{query:e,setQuery:t=>{e.value=t}}}))},2563:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var a=n(77412),i=n(2954);const r=(0,a.Q_)("renderer-app",(()=>{const e=(0,i.iH)(!1),t=(0,i.XI)([]),n=(0,i.XI)({}),a=(0,i.XI)([]);return{ignoreAppearanceChanged:e,updateIgnoreAppearance:t=>{e.value=t},builtinFontFamilies:t,updateBuiltinFontFamilies:e=>t.value=e,allFonts:n,updateAllFonts:e=>n.value=e,fontsForMindMap:a,updateFontsForMindMap:e=>a.value=e}}))},82937:(e,t,n)=>{"use strict";n.d(t,{_:()=>s,h:()=>o});var a=n(68214),i=n.n(a);const r=["#E65244","#FF9326","#EED346","#4CAF4E","#4F69F6","#4C49B7","#8A38DC"],o=({xmindId:e})=>{const t=parseInt(i()(e).toString(),16)%7;return{foregroundColor:"#fff",backgroundColor:r[t]}},s=({xmindId:e,name:t,style:n={}})=>{const a=o({xmindId:e}),i=((null==t?void 0:t[0])||"A").replace(/&/g,"").replace(/</g,"").replace(/>/g,"").replace(/"/g,"").replace(/'/g,"")||"A",r=(({backgroundColor:e,foregroundColor:t,avatarAbbreviation:n,width:a=24,height:i=24,fontSize:r="11",fontWeight:o="600"})=>{var s,l;const d=/(?<size>\d+)(?<unit>\w+)/.exec(r),c=Number((null===(s=null==d?void 0:d.groups)||void 0===s?void 0:s.size)||"12");return`\n<svg width="${a}" height="${i}" viewBox="0 0 ${a} ${i}" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <rect width="${a}" height="${i}" x="0"  y="0" rx="4" fill="${e}" fill-opacity="1" />\n  <text x="${a/2}" y="${(i-c)/2}" fill="${t}" text-anchor="middle" dominant-baseline="central" font-weight="${o}" font-size="${c}${(null===(l=null==d?void 0:d.groups)||void 0===l?void 0:l.unit)||""}" font-family="system-ui, sans-serif">\n     ${n.toUpperCase()}\n  </text>\n</svg>\n`})({backgroundColor:a.backgroundColor,foregroundColor:a.foregroundColor,avatarAbbreviation:i,width:n.width,height:n.height,fontSize:n.fontSize,fontWeight:n.fontWeight});return`data:image/svg+xml;utf8,${encodeURIComponent(r)}`}},53775:(e,t,n)=>{"use strict";async function a(){await new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)}))))}async function i(e){return Promise.race([new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)})))),new Promise((t=>setTimeout(t,null!=e?e:200)))])}function r(e,t=300,n=!1){let a;function i(...t){a=void 0,n||e.apply(this,t)}const r=function(...r){void 0!==a&&clearTimeout(a),n&&!a&&e.apply(this,r),a=setTimeout(i.bind(this,...r),t)};return r.cancel=function(){void 0!==a&&(clearTimeout(a),a=void 0)},r}function o(e,t=300,n=!1){let a,i,r,o=!1;function s(){i=Date.now(),e.apply(this,r),void 0!==a&&(clearTimeout(a),a=void 0)}const l=function(...e){if(o)return;if(r=e,n&&!i)return void s.apply(this);const l=Date.now(),d=l-(null!=i?i:l);d>=t?s.apply(this):void 0===a&&(a=setTimeout(s.bind(this),t-d))};return l.cancel=function(e=!0){void 0!==a&&(clearTimeout(a),a=void 0),i=void 0,o=e},l}n.d(t,{Ds:()=>r,P2:()=>o,SX:()=>a,gH:()=>s,qJ:()=>i});const s=(e,t)=>{let n=e,a="";if("object"==typeof t){const e=new URLSearchParams;for(const n in t)e.append(n,t[n]);a=e.toString()}return n=n.includes("?")?n+"&"+a:n+"?"+a,n}},41573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(2954),i=n(7836),r=n(96829),o=n(69931),s=n(87141);const l=(0,a.aZ)({__name:"drop-down",props:{type:{default:"base"},value:null,items:null,title:{default:""},disabled:{type:Boolean,default:!1},placeholder:null,cls:{default:"vk-select-base"},sty:{default:""},popoverContainerId:{default:"body"},popoverStyle:null,containerStyle:{default:""}},emits:["input"],setup(e,{emit:t}){const n=e,l=(0,a.iH)(`popover-${(0,r.hb)()}`),d=(0,a.Fl)((()=>"dark"===(0,s.S)().appearance)),c=(0,a.Fl)((()=>d.value?(0,o.ju)("static/assets/images/pro/pro-small-with-border-dark.svg"):(0,o.ju)("static/assets/images/pro/pro-small-with-border.svg"))),u=(0,a.Fl)((()=>n.items.find((({value:e})=>e===n.value)))),f=(0,a.Fl)((()=>n.disabled||!n.items.length));return{__sfc:!0,props:n,emit:t,popoverId:l,isDarkMode:d,proIcon:c,selectedItem:u,isDisabled:f,handleItemSelect:e=>{t("input",e)},Vue2Teleport:i.Z}}});n(1927);const d=(0,n(51900).Z)(l,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",["base"===e.type?t("button",{class:e.cls,style:e.sty,attrs:{id:n.popoverId,title:e.title,disabled:n.isDisabled}},[!n.selectedItem?.label&&e.placeholder?t("span",[e._v("\n      "+e._s(e.placeholder)+"\n    ")]):e._e(),e._v(" "),n.selectedItem&&n.selectedItem.label?t("span",{staticClass:"uk-text-truncate"},[e._v(e._s(n.selectedItem.label))]):e._e(),e._v(" "),n.selectedItem?t("span",{staticStyle:{"margin-left":"8px"},attrs:{"uk-icon":"icon: chevron-downward; ratio: 0.6"}}):e._e()]):"text-only"===e.type?t("div",{staticClass:"vk-select-text-only",class:{"is-disabled":n.isDisabled},style:e.sty,attrs:{id:n.popoverId,title:e.title}},[!n.selectedItem?.label&&e.placeholder?t("span",[e._v("\n      "+e._s(e.placeholder)+"\n    ")]):e._e(),e._v(" "),n.selectedItem&&n.selectedItem.label?t("span",[e._v(e._s(n.selectedItem.label))]):e._e(),e._v(" "),t("span",{attrs:{"uk-icon":"icon: chevron-downward; ratio: 0.6"}})]):e._e(),e._v(" "),t(n.Vue2Teleport,{attrs:{to:e.popoverContainerId}},[t("div",{staticClass:"uk-popover-contextual",style:e.popoverStyle,attrs:{"uk-contextual-popover":"","data-target":`#${n.popoverId}`,"data-toggle":`#${n.popoverId}`,"data-sel-close":"[uk-menu] > li > button"}},[t("ul",{staticClass:"uk-overflow-auto popover-container",style:e.containerStyle,attrs:{"uk-menu":""}},e._l(e.items,(function(a){return t("li",{key:a.value},[a.separator?t("hr",{staticClass:"uk-menu-divider"}):a.value?t("button",{class:{"uk-active":(n.selectedItem&&n.selectedItem.value)===a.value},attrs:{disabled:a.disabled},on:{click:function(e){return n.handleItemSelect(a.value)}}},[t("span",{staticStyle:{"margin-right":"8px"},style:{visibility:(n.selectedItem&&n.selectedItem.value)===a.value?"visible":"hidden"},attrs:{"uk-icon":"icon: check"}}),e._v(" "),a.label?t("span",{staticClass:"uk-text-truncate"},[e._v(e._s(a.label))]):e._e(),e._v(" "),a.isLimited?t("img",{staticClass:"uk-margin-small-left",attrs:{draggable:"false",src:n.proIcon}}):e._e()]):e._e()])})),0)])])],1)}),[],!1,null,"1d8ec01b",null).exports},90029:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(2954);const i=(0,a.aZ)({__name:"visibility-sensor",props:{options:{default:()=>({})}},emits:["change"],setup(e,{emit:t}){const n=e,i=(0,a.iH)(null);let r=null;return(0,a.bv)((async()=>{if(await new Promise((e=>setTimeout(e,0))),!i.value)return;let e=0,a=0,o=null;r=new IntersectionObserver((([n])=>{const i=n.isIntersecting,r=n.boundingClientRect.top;i?(e=n.boundingClientRect.top,0!==a&&(o=r>a?"top":"bottom")):(a=n.boundingClientRect.top,0!==e&&(o=r>e?"top":"bottom")),t("change",{visible:i,direction:o})}),n.options),r.observe(i.value)})),(0,a.Jd)((()=>{r&&r.disconnect()})),{__sfc:!0,props:n,emit:t,entryContainer:i,io:r}}});const r=(0,n(51900).Z)(i,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"entryContainer"},[e._t("default")],2)}),[],!1,null,null,null).exports},1927:(e,t,n)=>{var a=n(6046);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("49b4828f",a,!0,{})},28165:(e,t,n)=>{var a=n(73491);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("73c8776c",a,!0,{})},16163:(e,t,n)=>{var a=n(60194);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("ea84b982",a,!0,{})},84030:(e,t,n)=>{var a=n(10873);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("7adb5627",a,!0,{})},66133:(e,t,n)=>{var a=n(5837);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("701ec988",a,!0,{})},38591:(e,t,n)=>{var a=n(22338);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("26f3717d",a,!0,{})},76636:(e,t,n)=>{var a=n(3234);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("3fddd7aa",a,!0,{})},96526:(e,t,n)=>{var a=n(84608);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("5db27706",a,!0,{})},65605:(e,t,n)=>{var a=n(6662);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("3607e1fc",a,!0,{})},52444:(e,t,n)=>{var a=n(20502);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("8e954e50",a,!0,{})},15306:(e,t,n)=>{var a=n(17347);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("e845ba06",a,!0,{})},45346:(e,t,n)=>{"use strict";function a(e,t){for(var n=[],a={},i=0;i<t.length;i++){var r=t[i],o=r[0],s={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}n.d(t,{Z:()=>p});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},o=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,d=!1,c=function(){},u=null,f="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,i){d=n,u=i||{};var o=a(e,t);return m(o),function(t){for(var n=[],i=0;i<o.length;i++){var s=o[i];(l=r[s.id]).refs--,n.push(l)}t?m(o=a(e,t)):o=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete r[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],a=r[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(w(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(w(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:o}}}}function v(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function w(e){var t,n,a=document.querySelector("style["+f+'~="'+e.id+'"]');if(a){if(d)return c;a.parentNode.removeChild(a)}if(h){var i=l++;a=s||(s=v()),t=b.bind(null,a,i,!1),n=b.bind(null,a,i,!0)}else a=v(),t=I.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var g,y=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function b(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function I(e,t){var n=t.css,a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),u.ssrId&&e.setAttribute(f,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},7836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a={name:"teleport",props:{to:{type:String,required:!0},where:{type:String,default:"after"},disabled:Boolean},data:function(){return{nodes:[],waiting:!1,observer:null,parent:null}},watch:{to:"maybeMove",where:"maybeMove",disabled:function(e){e?(this.disable(),this.teardownObserver()):(this.bootObserver(),this.move())}},mounted:function(){this.nodes=Array.from(this.$el.childNodes),this.disabled||this.bootObserver(),this.maybeMove()},beforeDestroy:function(){this.disable(),this.teardownObserver()},computed:{classes:function(){return this.disabled?["teleporter"]:["teleporter","hidden"]}},methods:{maybeMove:function(){this.disabled||this.move()},move:function(){if(this.waiting=!1,this.parent=document.querySelector(this.to),!this.parent)return this.disable(),void(this.waiting=!0);"before"===this.where?this.parent.prepend(this.getFragment()):this.parent.appendChild(this.getFragment())},disable:function(){this.$el.appendChild(this.getFragment()),this.parent=null},getFragment:function(){var e=document.createDocumentFragment();return this.nodes.forEach((function(t){return e.appendChild(t)})),e},onMutations:function(e){for(var t=this,n=!1,a=0;a<e.length;a++){var i=e[a],r=Array.from(i.addedNodes).filter((function(e){return!t.nodes.includes(e)}));Array.from(i.removedNodes).includes(this.parent)?(this.disable(),this.waiting=!this.disabled):this.waiting&&r.length>0&&(n=!0)}n&&this.move()},bootObserver:function(){var e=this;this.observer||(this.observer=new MutationObserver((function(t){return e.onMutations(t)})),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))},teardownObserver:function(){this.observer&&(this.observer.disconnect(),this.observer=null)}}};function i(e,t,n,a,i,r,o,s,l,d){"boolean"!=typeof o&&(l=s,s=o,o=!1);var c,u="function"==typeof n?n.options:n;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),a&&(u._scopeId=a),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=c):t&&(c=o?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),c)if(u.functional){var f=u.render;u.render=function(e,t){return c.call(t),f(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return n}var r,o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function s(e){return function(e,t){return function(e,t){var n=o?t.media||"default":e,a=l[n]||(l[n]={ids:new Set,styles:[]});if(!a.ids.has(e)){a.ids.add(e);var i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",t.media&&a.element.setAttribute("media",t.media),void 0===r&&(r=document.head||document.getElementsByTagName("head")[0]),r.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(i),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var s=a.ids.size-1,d=document.createTextNode(i),c=a.element.childNodes;c[s]&&a.element.removeChild(c[s]),c.length?a.element.insertBefore(d,c[s]):a.element.appendChild(d)}}}(e,t)}}var l={};var d=a,c=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classes},[e._t("default")],2)};c._withStripped=!0;var u=i({render:c,staticRenderFns:[]},(function(e){e&&e("data-v-d4e6e290_0",{source:".hidden[data-v-d4e6e290] {\n  visibility: hidden;\n  display: none;\n}\n\n/*# sourceMappingURL=Teleport.vue.map */",map:{version:3,sources:["/Users/shodan/Projects/vue2-teleport/src/Teleport.vue","Teleport.vue"],names:[],mappings:"AAuJA;EACA,kBAAA;EACA,aAAA;ACtJA;;AAEA,uCAAuC",file:"Teleport.vue",sourcesContent:["<template>\n  <div :class=\"classes\">\n    <slot/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'teleport',\n  props: {\n    to: {\n      type: String,\n      required: true,\n    },\n    where: {\n      type: String,\n      default: 'after',\n    },\n    disabled: Boolean,\n  },\n  data() {\n    return {\n      nodes: [],\n      waiting: false,\n      observer: null,\n      parent: null,\n    };\n  },\n  watch: {\n    to: 'maybeMove',\n    where: 'maybeMove',\n    disabled(value) {\n      if (value) {\n        this.disable();\n        this.teardownObserver();\n      } else {\n        this.bootObserver();\n        this.move();\n      }\n    },\n  },\n  mounted() {\n    // Store a reference to the nodes\n    this.nodes = Array.from(this.$el.childNodes);\n\n    if (!this.disabled) {\n      this.bootObserver();\n    }\n\n    // Move slot content to target\n    this.maybeMove();\n  },\n  beforeDestroy() {\n    // Move back\n    this.disable();\n\n    // Stop observing\n    this.teardownObserver();\n  },\n  computed: {\n    classes() {\n      if (this.disabled) {\n        return ['teleporter'];\n      }\n\n      return ['teleporter', 'hidden'];\n    },\n  },\n  methods: {\n    maybeMove() {\n      if (!this.disabled) {\n        this.move();\n      }\n    },\n    move() {\n      this.waiting = false;\n\n      this.parent = document.querySelector(this.to);\n\n      if (!this.parent) {\n        this.disable();\n\n        this.waiting = true;\n\n        return;\n      }\n\n      if (this.where === 'before') {\n        this.parent.prepend(this.getFragment());\n      } else {\n        this.parent.appendChild(this.getFragment());\n      }\n    },\n    disable() {\n      this.$el.appendChild(this.getFragment());\n      this.parent = null;\n    },\n    // Using a fragment is faster because it'll trigger only a single reflow\n    // See https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment\n    getFragment() {\n      const fragment = document.createDocumentFragment();\n\n      this.nodes.forEach(node => fragment.appendChild(node));\n\n      return fragment;\n    },\n    onMutations(mutations) {\n      // Makes sure the move operation is only done once\n      let shouldMove = false;\n\n      for (let i = 0; i < mutations.length; i++) {\n        const mutation = mutations[i];\n        const filteredAddedNodes = Array.from(mutation.addedNodes).filter(node => !this.nodes.includes(node));\n\n        if (Array.from(mutation.removedNodes).includes(this.parent)) {\n          this.disable();\n          this.waiting = !this.disabled;\n        } else if (this.waiting && filteredAddedNodes.length > 0) {\n          shouldMove = true;\n        }\n      }\n\n      if (shouldMove) {\n        this.move();\n      }\n    },\n    bootObserver() {\n      if (this.observer) {\n        return;\n      }\n\n      this.observer = new MutationObserver(mutations => this.onMutations(mutations));\n\n      this.observer.observe(document.body, {\n        childList: true,\n        subtree: true,\n        attributes: false,\n        characterData: false,\n      });\n    },\n    teardownObserver() {\n      if (this.observer) {\n        this.observer.disconnect();\n        this.observer = null;\n      }\n    },\n  },\n};\n<\/script>\n\n<style scoped lang=\"scss\">\n.hidden {\n  visibility: hidden;\n  display: none;\n}\n</style>\n",".hidden {\n  visibility: hidden;\n  display: none;\n}\n\n/*# sourceMappingURL=Teleport.vue.map */"]},media:void 0})}),d,"data-v-d4e6e290",false,undefined,!1,s,void 0,void 0);var f={install:function e(t){e.installed||(e.installed=!0,t.component("Teleport",u))}},h=null;"undefined"!=typeof window?h=window.Vue:"undefined"!=typeof global&&(h=global.Vue),h&&h.use(f);const p=u},30053:e=>{"use strict";e.exports=require("posthtml")},6113:e=>{"use strict";e.exports=require("crypto")},72298:e=>{"use strict";e.exports=require("electron")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},6712:(e,t,n)=>{"use strict";n.d(t,{INE:()=>ee,VKt:()=>o,bjY:()=>oe,ikF:()=>ae,iy8:()=>re});var a=Object.defineProperty,i=(e,t,n)=>(((e,t,n)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const r="https://test.xmind.ai".replace(/\/+$/,"");class o{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:r}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||h}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const s=new o,l=class e{constructor(e=s){this.configuration=e,i(this,"middleware"),i(this,"fetchApi",(async(e,t)=>{let n,a={url:e,init:t};for(const e of this.middleware)e.pre&&(a=await e.pre({fetch:this.fetchApi,...a})||a);try{n=await(this.configuration.fetchApi||fetch)(a.url,a.init)}catch(e){for(const t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:a.url,init:a.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n)throw e instanceof Error?new u(e,"The request failed and the interceptors did not return an alternative response"):e}for(const e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:a.url,init:a.init,response:n.clone()})||n);return n})),this.middleware=e.middleware}withMiddleware(...e){const t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){const t=e.map((e=>({pre:e})));return this.withMiddleware(...t)}withPostMiddleware(...e){const t=e.map((e=>({post:e})));return this.withMiddleware(...t)}isJsonMime(t){return!!t&&e.jsonRegex.test(t)}async request(e,t){const{url:n,init:a}=await this.createFetchParams(e,t),i=await this.fetchApi(n,a);if(i&&i.status>=200&&i.status<300)return i;throw new c(i,"Response returned an error code")}async createFetchParams(e,t){let n=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query));const a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach((e=>void 0===a[e]?delete a[e]:{}));const i="function"==typeof t?t:async()=>t,r={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},o={...r,...await i({init:r,context:e})};let s;var l;l=o.body,s="undefined"!=typeof FormData&&l instanceof FormData||o.body instanceof URLSearchParams||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(o.body)?o.body:this.isJsonMime(a["Content-Type"])?JSON.stringify(o.body):o.body;return{url:n,init:{...o,body:s}}}clone(){const e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}};i(l,"jsonRegex",new RegExp("^(:?application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(:?;.*)?$","i"));let d=l;class c extends Error{constructor(e,t){super(t),this.response=e,i(this,"name","ResponseError")}}class u extends Error{constructor(e,t){super(t),this.cause=e,i(this,"name","FetchError")}}class f extends Error{constructor(e,t){super(t),this.field=e,i(this,"name","RequiredError")}}function h(e,t=""){return Object.keys(e).map((n=>p(n,e[n],t))).filter((e=>e.length>0)).join("&")}function p(e,t,n=""){const a=n+(n.length?`[${e}]`:e);if(t instanceof Array){const e=t.map((e=>encodeURIComponent(String(e)))).join(`&${encodeURIComponent(a)}=`);return`${encodeURIComponent(a)}=${e}`}if(t instanceof Set){return p(e,Array.from(t),n)}return t instanceof Date?`${encodeURIComponent(a)}=${encodeURIComponent(t.toISOString())}`:t instanceof Object?h(t,a):`${encodeURIComponent(a)}=${encodeURIComponent(String(t))}`}function m(e){for(const t of e)if("multipart/form-data"===t.contentType)return!0;return!1}class v{constructor(e,t=(e=>e)){this.raw=e,this.transformer=t}async value(){return this.transformer(await this.raw.json())}}class w{constructor(e){this.raw=e}async value(){}}class g{constructor(e){this.raw=e}async value(){return await this.raw.blob()}}class y{constructor(e){this.raw=e}async value(){return await this.raw.text()}}function b(e){return function(e,t){if(null==e)return e;return{fileId:null==e.fileId?void 0:e.fileId,xmindId:null==e.xmindId?void 0:e.xmindId,accessMode:null==e.accessMode?void 0:e.accessMode,parentFolderId:null==e.parentFolderId?void 0:e.parentFolderId,teamId:null==e.teamId?void 0:e.teamId,teamName:null==e.teamName?void 0:e.teamName}}(e)}function I(e){return function(e,t){if(null==e)return e;return{name:null==e.name?void 0:e.name,data:null==e.data?void 0:b(e.data)}}(e)}function _(e){return function(e,t){if(null==e)return e;return{id:null==e.id?void 0:e.id,name:null==e.name?void 0:e.name,updatedTime:null==e.updatedTime?void 0:e.updatedTime,lastModifiedTime:null==e.lastModifiedTime?void 0:e.lastModifiedTime,createdTime:null==e.createdTime?void 0:e.createdTime,type:null==e.type?void 0:e.type,extension:null==e.extension?void 0:I(e.extension)}}(e)}function R(e){return"name"in e&&void 0!==e.name&&("parentFolderId"in e&&void 0!==e.parentFolderId&&("createdTime"in e&&void 0!==e.createdTime&&("modifiedTime"in e&&void 0!==e.modifiedTime&&("xmindId"in e&&void 0!==e.xmindId&&("folderId"in e&&void 0!==e.folderId)))))}function x(e){return k(e)}function k(e,t){return null==e?e:{name:e.name,type:null==e.type?void 0:e.type,parentFolderId:e.parentFolderId,createdTime:e.createdTime,modifiedTime:e.modifiedTime,xmindId:e.xmindId,meta:null==e.meta?void 0:e.meta,teamId:null==e.teamId?void 0:e.teamId,spaceId:null==e.spaceId?void 0:e.spaceId,folderId:e.folderId,size:null==e.size?void 0:e.size,childCount:null==e.childCount?void 0:e.childCount}}function C(e){return function(e,t){if(null==e)return e;return{metadata:x(e.metadata)}}(e)}function T(e){return"name"in e&&void 0!==e.name&&("parentFolderId"in e&&void 0!==e.parentFolderId&&("createdTime"in e&&void 0!==e.createdTime&&("modifiedTime"in e&&void 0!==e.modifiedTime&&("xmindId"in e&&void 0!==e.xmindId&&("fileId"in e&&void 0!==e.fileId&&("size"in e&&void 0!==e.size))))))}function S(e){return A(e)}function A(e,t){return null==e?e:{name:e.name,type:null==e.type?void 0:e.type,parentFolderId:e.parentFolderId,createdTime:e.createdTime,modifiedTime:e.modifiedTime,xmindId:e.xmindId,meta:null==e.meta?void 0:e.meta,teamId:null==e.teamId?void 0:e.teamId,spaceId:null==e.spaceId?void 0:e.spaceId,fileId:e.fileId,size:e.size,accessMode:null==e.accessMode?void 0:e.accessMode,password:null==e.password?void 0:e.password,accessRole:null==e.accessRole?void 0:e.accessRole,inviteRole:null==e.inviteRole?void 0:e.inviteRole,teammateRole:null==e.teammateRole?void 0:e.teammateRole}}function F(e){return function(e,t){if(null==e)return e;if(T(e))return A(e);if(R(e))return k(e)}(e)}function P(e){return function(e,t){if(null==e)return e;return{items:null==e.items?void 0:e.items.map(F)}}(e)}function E(e){return null==e?e:{currentFolderId:e.currentFolderId}}function M(e){return null==e?e:{folderIds:e.folderIds,fileIds:e.fileIds,toParentFolderId:e.toParentFolderId,contextualRequirements:E(e.contextualRequirements)}}function q(e){return function(e,t){if(null==e)return e;return{fileId:null==e.fileId?void 0:e.fileId,name:null==e.name?void 0:e.name,type:null==e.type?void 0:e.type,size:null==e.size?void 0:e.size,parentFolderId:null==e.parentFolderId?void 0:e.parentFolderId,modifiedTime:null==e.modifiedTime?void 0:e.modifiedTime,xmindId:null==e.xmindId?void 0:e.xmindId,teamId:null==e.teamId?void 0:e.teamId,spaceId:null==e.spaceId?void 0:e.spaceId}}(e)}function O(e){return function(e,t){if(null==e)return e;return{items:e.items.map(q)}}(e)}function L(e){return function(e,t){if(null==e)return e;return{url:null==e.url?void 0:e.url}}(e)}function N(e){return function(e,t){if(null==e)return e;return{metadata:S(e.metadata)}}(e)}function $(e){return function(e,t){if(null==e)return e;return{parents:e.parents.map(x)}}(e)}function Z(e){return function(e,t){if(null==e)return e;if(T(e))return A(e);if(R(e))return k(e)}(e)}function D(e){return function(e,t){if(null==e)return e;return{metadata:null==e.metadata?void 0:Z(e.metadata)}}(e)}function U(e){return function(e,t){if(null==e)return e;return{parents:e.parents.map(x),items:e.items.map(D)}}(e)}function z(e){return"name"in e&&void 0!==e.name&&("parentFolderId"in e&&void 0!==e.parentFolderId&&("modifiedTime"in e&&void 0!==e.modifiedTime&&("xmindId"in e&&void 0!==e.xmindId&&("fileId"in e&&void 0!==e.fileId&&("size"in e&&void 0!==e.size)))))}function B(e,t){return null==e?e:{name:e.name,parentFolderId:e.parentFolderId,modifiedTime:e.modifiedTime,xmindId:e.xmindId,fileId:e.fileId,size:e.size,type:null==e.type?void 0:e.type,teamId:null==e.teamId?void 0:e.teamId,spaceId:null==e.spaceId?void 0:e.spaceId}}function j(e){return function(e,t){if(null==e)return e;if(R(e))return k(e);if(z(e))return B(e)}(e)}function H(e){return function(e,t){if(null==e)return e;return{lastKey:null==e.lastKey?void 0:e.lastKey,items:e.items.map(j)}}(e)}function K(e){return function(e,t){if(null==e)return e;return{role:e.role,inviteMethod:null==e.inviteMethod?void 0:e.inviteMethod,xmindId:null==e.xmindId?void 0:e.xmindId,email:null==e.email?void 0:e.email}}(e)}function W(e){return function(e,t){if(null==e)return e;return{owner:K(e.owner),invitees:e.invitees.map(K)}}(e)}function J(e){return function(e,t){if(null==e)return e;return{xmindId:e.xmindId,files:e.files.map(_),thirdPartyAccountId:e.thirdPartyAccountId,provider:e.provider}}(e)}function V(e){return function(e,t){if(null==e)return e;return{name:e.name,type:null==e.type?void 0:e.type,parentFolderId:e.parentFolderId,createdTime:e.createdTime,modifiedTime:e.modifiedTime,xmindId:e.xmindId,meta:null==e.meta?void 0:e.meta,teamId:null==e.teamId?void 0:e.teamId,spaceId:null==e.spaceId?void 0:e.spaceId,fileId:e.fileId,size:e.size,accessMode:null==e.accessMode?void 0:e.accessMode,password:null==e.password?void 0:e.password,accessRole:null==e.accessRole?void 0:e.accessRole,inviteRole:null==e.inviteRole?void 0:e.inviteRole,teammateRole:null==e.teammateRole?void 0:e.teammateRole,teamName:null==e.teamName?void 0:e.teamName}}(e)}function X(e){return function(e,t){if(null==e)return e;return{files:e.files.map(V)}}(e)}function G(e){return function(e,t){if(null==e)return e;return{trashedUser:null==e.trashedUser?void 0:e.trashedUser}}(e)}function Y(e){return function(e,t){if(null==e)return e;return{metadata:Z(e.metadata),trashedDate:null==e.trashedDate?void 0:e.trashedDate,trashedPayload:null==e.trashedPayload?void 0:G(e.trashedPayload),teamName:null==e.teamName?void 0:e.teamName}}(e)}function Q(e){return function(e,t){if(null==e)return e;return{parents:e.parents.map(x),items:e.items.map(Y)}}(e)}const ee={ExceedFilesLimit:"exceed_files_limit"};function te(e){return function(e,t){if(null==e)return e;return{metadata:x(e.metadata),children:e.children.map(te)}}(e)}function ne(e){return null==e?e:{folderIds:e.folderIds,fileIds:e.fileIds}}const ae={UnsupportedAccessMode:"unsupported_access_mode",InsufficientSpace:"insufficient_space",FileCorrupted:"file_corrupted",ImageFileTooLarge:"image_file_too_large",FileAttachmentTooLarge:"file_attachment_too_large",FileMapContentTooLarge:"file_map_content_too_large"};function ie(e){return function(e,t){if(null==e)return e;return{metadata:S(e.metadata)}}(e)}class re extends d{async changeFileAccessModeRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling changeFileAccessMode().');if(null==e.changeFileAccessModeRequest)throw new f("changeFileAccessModeRequest",'Required parameter "changeFileAccessModeRequest" was null or undefined when calling changeFileAccessMode().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/metadata/access-mode".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.changeFileAccessModeRequest,null==i?i:{accessMode:i.accessMode,password:i.password})},t);var i;return new w(a)}async changeFileAccessMode(e,t){await this.changeFileAccessModeRaw(e,t)}async changeFileAccessRoleRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling changeFileAccessRole().');if(null==e.changeFileAccessRoleRequest)throw new f("changeFileAccessRoleRequest",'Required parameter "changeFileAccessRoleRequest" was null or undefined when calling changeFileAccessRole().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/metadata/access-role".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.changeFileAccessRoleRequest,null==i?i:{accessRole:i.accessRole})},t);var i;return new w(a)}async changeFileAccessRole(e,t){await this.changeFileAccessRoleRaw(e,t)}async changeFileNameRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling changeFileName().');if(null==e.changeFileNameRequest)throw new f("changeFileNameRequest",'Required parameter "changeFileNameRequest" was null or undefined when calling changeFileName().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/name".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.changeFileNameRequest,null==i?i:{name:i.name})},t);var i;return new w(a)}async changeFileName(e,t){await this.changeFileNameRaw(e,t)}async changeFileTeammateRoleRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling changeFileTeammateRole().');if(null==e.changeFileTeammateRoleRequest)throw new f("changeFileTeammateRoleRequest",'Required parameter "changeFileTeammateRoleRequest" was null or undefined when calling changeFileTeammateRole().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/metadata/teammate-role".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.changeFileTeammateRoleRequest,null==i?i:{teammateRole:i.teammateRole})},t);var i;return new w(a)}async changeFileTeammateRole(e,t){await this.changeFileTeammateRoleRaw(e,t)}async changeFolderNameRaw(e,t){if(null==e.folderId)throw new f("folderId",'Required parameter "folderId" was null or undefined when calling changeFolderName().');if(null==e.changeFolderNameRequest)throw new f("changeFolderNameRequest",'Required parameter "changeFolderNameRequest" was null or undefined when calling changeFolderName().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/folder/{folderId}/name".replace("{folderId}",encodeURIComponent(String(e.folderId))),method:"POST",headers:n,query:{},body:(i=e.changeFolderNameRequest,null==i?i:{name:i.name})},t);var i;return new w(a)}async changeFolderName(e,t){await this.changeFolderNameRaw(e,t)}async changeInviteeRoleRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling changeInviteeRole().');if(null==e.changeInviteeRoleRequest)throw new f("changeInviteeRoleRequest",'Required parameter "changeInviteeRoleRequest" was null or undefined when calling changeInviteeRole().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/invitee-role".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.changeInviteeRoleRequest,null==i?i:{accountId:i.accountId,role:i.role})},t);var i;return new w(a)}async changeInviteeRole(e,t){await this.changeInviteeRoleRaw(e,t)}async createFolderRaw(e,t){if(null==e.createFolderRequest)throw new f("createFolderRequest",'Required parameter "createFolderRequest" was null or undefined when calling createFolder().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/folder",method:"PUT",headers:n,query:{},body:(i=e.createFolderRequest,null==i?i:{parentFolderId:i.parentFolderId,folderName:i.folderName})},t);var i;return new v(a,(e=>C(e)))}async createFolder(e,t){const n=await this.createFolderRaw(e,t);return await n.value()}async deleteRecentFilesRecordsRaw(e,t){const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/recent-files-records",method:"DELETE",headers:n,query:{},body:(i=e.deleteRecentFilesRecordsRequest,null==i?i:{fileId:i.fileId,fileIds:i.fileIds})},t);var i;return new w(a)}async deleteRecentFilesRecords(e={},t){await this.deleteRecentFilesRecordsRaw(e,t)}async deleteXapResourceRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling deleteXapResource().');if(null==e.filename)throw new f("filename",'Required parameter "filename" was null or undefined when calling deleteXapResource().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/resources/{filename}".replace("{fileId}",encodeURIComponent(String(e.fileId))).replace("{filename}",encodeURIComponent(String(e.filename))),method:"DELETE",headers:n,query:{}},t);return new w(a)}async deleteXapResource(e,t){await this.deleteXapResourceRaw(e,t)}async downloadFileRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling downloadFile().');const n=await this.request({path:"/api/drive/file/{fileId}/download".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:{},query:{}},t);return new g(n)}async downloadFile(e,t){const n=await this.downloadFileRaw(e,t);return await n.value()}async downloadXapResourceRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling downloadXapResource().');if(null==e.filename)throw new f("filename",'Required parameter "filename" was null or undefined when calling downloadXapResource().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/resources/{filename}".replace("{fileId}",encodeURIComponent(String(e.fileId))).replace("{filename}",encodeURIComponent(String(e.filename))),method:"GET",headers:n,query:{}},t);return new g(a)}async downloadXapResource(e,t){const n=await this.downloadXapResourceRaw(e,t);return await n.value()}async driveDuplicateRaw(e,t){const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/duplicate",method:"POST",headers:n,query:{},body:M(e.driveMoveRequest)},t);return new v(a,(e=>P(e)))}async driveDuplicate(e={},t){const n=await this.driveDuplicateRaw(e,t);return await n.value()}async driveMoveRaw(e,t){const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/move",method:"POST",headers:n,query:{},body:M(e.driveMoveRequest)},t);return new w(a)}async driveMove(e={},t){await this.driveMoveRaw(e,t)}async driveRemoveRaw(e,t){const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/remove",method:"POST",headers:n,query:{},body:(i=e.driveRemoveRequest,null==i?i:{folderIds:i.folderIds,fileIds:i.fileIds})},t);var i;return new w(a)}async driveRemove(e={},t){await this.driveRemoveRaw(e,t)}async driveSearchInFolderRaw(e,t){if(null==e.driveSearchInFolderRequest)throw new f("driveSearchInFolderRequest",'Required parameter "driveSearchInFolderRequest" was null or undefined when calling driveSearchInFolder().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/search-in-folder",method:"POST",headers:n,query:{},body:(i=e.driveSearchInFolderRequest,null==i?i:{folderId:i.folderId,searchPhrase:i.searchPhrase,order:i.order})},t);var i;return new v(a,(e=>O(e)))}async driveSearchInFolder(e,t){const n=await this.driveSearchInFolderRaw(e,t);return await n.value()}async emptyTrashRaw(e){const t={};this.configuration&&this.configuration.apiKey&&(t.fwt=await this.configuration.apiKey("fwt"));const n=await this.request({path:"/api/drive/trash",method:"DELETE",headers:t,query:{}},e);return new w(n)}async emptyTrash(e){await this.emptyTrashRaw(e)}async fetchFileSnapshotsUrlRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling fetchFileSnapshotsUrl().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/snapshots-url".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:n,query:{}},t);return new v(a,(e=>L(e)))}async fetchFileSnapshotsUrl(e,t){const n=await this.fetchFileSnapshotsUrlRaw(e,t);return await n.value()}async getFileMetadataRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling getFileMetadata().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/metadata".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:n,query:{}},t);return new v(a,(e=>N(e)))}async getFileMetadata(e,t){const n=await this.getFileMetadataRaw(e,t);return await n.value()}async getFolderPathsRaw(e,t){if(null==e.folderId)throw new f("folderId",'Required parameter "folderId" was null or undefined when calling getFolderPaths().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/{folderId}/paths".replace("{folderId}",encodeURIComponent(String(e.folderId))),method:"GET",headers:n,query:{}},t);return new v(a,(e=>$(e)))}async getFolderPaths(e,t){const n=await this.getFolderPathsRaw(e,t);return await n.value()}async getSessionUserInviteeRoleRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling getSessionUserInviteeRole().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/invitee-role".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:n,query:{}},t);return new v(a,(e=>function(e,t){return null==e?e:{role:null==e.role?void 0:e.role}}(e)))}async getSessionUserInviteeRole(e,t){const n=await this.getSessionUserInviteeRoleRaw(e,t);return await n.value()}async getSharedContentJsonRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling getSharedContentJson().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/share/{fileId}/content".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.getSharedContentJsonRequest,null==i?i:{password:i.password})},t);var i;return this.isJsonMime(a.headers.get("content-type"))?new v(a):new y(a)}async getSharedContentJson(e,t){const n=await this.getSharedContentJsonRaw(e,t);return await n.value()}async getSharedMetadataJsonRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling getSharedMetadataJson().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/share/{fileId}/metadatajson".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:n,query:{}},t);return this.isJsonMime(a.headers.get("content-type"))?new v(a):new y(a)}async getSharedMetadataJson(e,t){const n=await this.getSharedMetadataJsonRaw(e,t);return await n.value()}async getThumbnailRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling getThumbnail().');const n=await this.request({path:"/api/drive/file/{fileId}/Thumbnails/thumbnail.png".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:{},query:{}},t);return new g(n)}async getThumbnail(e,t){const n=await this.getThumbnailRaw(e,t);return await n.value()}async listAllFoldersRaw(e,t){if(null==e.spaceId)throw new f("spaceId",'Required parameter "spaceId" was null or undefined when calling listAllFolders().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/{spaceId}/all-folders".replace("{spaceId}",encodeURIComponent(String(e.spaceId))),method:"GET",headers:n,query:{}},t);return new v(a,(e=>e.map(te)))}async listAllFolders(e,t){const n=await this.listAllFoldersRaw(e,t);return await n.value()}async listDriveRaw(e,t){if(null==e.folderId)throw new f("folderId",'Required parameter "folderId" was null or undefined when calling listDrive().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/{folderId}/children".replace("{folderId}",encodeURIComponent(String(e.folderId))),method:"POST",headers:n,query:{}},t);return new v(a,(e=>U(e)))}async listDrive(e,t){const n=await this.listDriveRaw(e,t);return await n.value()}async listDriveWithPaginationRaw(e,t){if(null==e.listDriveWithPaginationRequest)throw new f("listDriveWithPaginationRequest",'Required parameter "listDriveWithPaginationRequest" was null or undefined when calling listDriveWithPagination().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/list-folder",method:"POST",headers:n,query:{},body:(i=e.listDriveWithPaginationRequest,null==i?i:{lastKey:i.lastKey,folderId:i.folderId,type:i.type,limit:i.limit,order:i.order,sortBy:i.sortBy,itemIdToFind:i.itemIdToFind})},t);var i;return new v(a,(e=>H(e)))}async listDriveWithPagination(e,t){const n=await this.listDriveWithPaginationRaw(e,t);return await n.value()}async listFileInviteesV2Raw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling listFileInviteesV2().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/v2/file/{fileId}/invite".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:n,query:{}},t);return new v(a,(e=>W(e)))}async listFileInviteesV2(e,t){const n=await this.listFileInviteesV2Raw(e,t);return await n.value()}async listFilesSharedWithMeRaw(e){const t={};this.configuration&&this.configuration.apiKey&&(t.fwt=await this.configuration.apiKey("fwt"));const n=await this.request({path:"/api/drive/shared-with-me",method:"GET",headers:t,query:{}},e);return new v(n,(e=>X(e)))}async listFilesSharedWithMe(e){const t=await this.listFilesSharedWithMeRaw(e);return await t.value()}async listRecentFilesRecordsRaw(e){const t={};this.configuration&&this.configuration.apiKey&&(t.fwt=await this.configuration.apiKey("fwt"));const n=await this.request({path:"/api/drive/recent-files-records",method:"GET",headers:t,query:{}},e);return new v(n,(e=>J(e)))}async listRecentFilesRecords(e){const t=await this.listRecentFilesRecordsRaw(e);return await t.value()}async listSharingFilesRaw(e){const t={};this.configuration&&this.configuration.apiKey&&(t.fwt=await this.configuration.apiKey("fwt"));const n=await this.request({path:"/api/drive/sharing",method:"GET",headers:t,query:{}},e);return new v(n,(e=>X(e)))}async listSharingFiles(e){const t=await this.listSharingFilesRaw(e);return await t.value()}async listTrashRaw(e,t){if(null==e.folderId)throw new f("folderId",'Required parameter "folderId" was null or undefined when calling listTrash().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/trash/{folderId}/children".replace("{folderId}",encodeURIComponent(String(e.folderId))),method:"GET",headers:n,query:{}},t);return new v(a,(e=>Q(e)))}async listTrash(e,t){const n=await this.listTrashRaw(e,t);return await n.value()}async listTrashedRootRaw(e){const t={};this.configuration&&this.configuration.apiKey&&(t.fwt=await this.configuration.apiKey("fwt"));const n=await this.request({path:"/api/drive/trash/children",method:"GET",headers:t,query:{}},e);return new v(n,(e=>Q(e)))}async listTrashedRoot(e){const t=await this.listTrashedRootRaw(e);return await t.value()}async listXapResourcesRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling listXapResources().');const n=await this.request({path:"/api/drive/file/{fileId}/resources".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"GET",headers:{},query:{}},t);return new v(n)}async listXapResources(e,t){const n=await this.listXapResourcesRaw(e,t);return await n.value()}async moveFromTrashRaw(e,t){const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/trash",method:"POST",headers:n,query:{},body:ne(e.trashMoveRequest)},t);return new w(a)}async moveFromTrash(e={},t){await this.moveFromTrashRaw(e,t)}async moveToTrashRaw(e,t){const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/trash",method:"PUT",headers:n,query:{},body:ne(e.trashMoveRequest)},t);return new w(a)}async moveToTrash(e={},t){await this.moveToTrashRaw(e,t)}async removeInviteeRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling removeInvitee().');if(null==e.removeInviteeRequest)throw new f("removeInviteeRequest",'Required parameter "removeInviteeRequest" was null or undefined when calling removeInvitee().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/invitee".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.removeInviteeRequest,null==i?i:{accountId:i.accountId})},t);var i;return new w(a)}async removeInvitee(e,t){await this.removeInviteeRaw(e,t)}async removeSessionUserFromInviteesRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling removeSessionUserFromInvitees().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/invitee".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"DELETE",headers:n,query:{}},t);return new w(a)}async removeSessionUserFromInvitees(e,t){await this.removeSessionUserFromInviteesRaw(e,t)}async sendCNMapInvitationsRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling sendCNMapInvitations().');if(null==e.sendCNMapInvitationsRequest)throw new f("sendCNMapInvitationsRequest",'Required parameter "sendCNMapInvitationsRequest" was null or undefined when calling sendCNMapInvitations().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/invite".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"POST",headers:n,query:{},body:(i=e.sendCNMapInvitationsRequest,null==i?i:{emails:i.emails,phones:i.phones,role:i.role,inviteMessage:i.inviteMessage})},t);var i;return new v(a,(e=>function(e,t){return null==e?e:{invalidEmails:null==e.invalidEmails?void 0:e.invalidEmails,invalidPhones:null==e.invalidPhones?void 0:e.invalidPhones}}(e)))}async sendCNMapInvitations(e,t){const n=await this.sendCNMapInvitationsRaw(e,t);return await n.value()}async sendEmailInvitationsRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling sendEmailInvitations().');if(null==e.sendEmailInvitationsRequest)throw new f("sendEmailInvitationsRequest",'Required parameter "sendEmailInvitationsRequest" was null or undefined when calling sendEmailInvitations().');const n={"Content-Type":"application/json"};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));const a=await this.request({path:"/api/drive/file/{fileId}/invite/email".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"PUT",headers:n,query:{},body:(i=e.sendEmailInvitationsRequest,null==i?i:{emails:i.emails,role:i.role,inviteMessage:i.inviteMessage})},t);var i;return new w(a)}async sendEmailInvitations(e,t){await this.sendEmailInvitationsRaw(e,t)}async uploadFileRaw(e,t){const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));let a,i=!1;i=m([{contentType:"multipart/form-data"}]),a=i?new FormData:new URLSearchParams,null!=e.parentFolderId&&a.append("parentFolderId",e.parentFolderId),null!=e.file&&a.append("file",e.file),null!=e.teamId&&a.append("teamId",e.teamId),null!=e.accessMode&&a.append("accessMode",e.accessMode);const r=await this.request({path:"/api/drive/file",method:"PUT",headers:n,query:{},body:a},t);return new v(r,(e=>ie(e)))}async uploadFile(e={},t){const n=await this.uploadFileRaw(e,t);return await n.value()}async uploadThumbnailRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling uploadThumbnail().');if(null==e.file)throw new f("file",'Required parameter "file" was null or undefined when calling uploadThumbnail().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));let a,i=!1;i=m([{contentType:"multipart/form-data"}]),a=i?new FormData:new URLSearchParams,null!=e.file&&a.append("file",e.file);const r=await this.request({path:"/api/drive/file/{fileId}/Thumbnails/thumbnail.png".replace("{fileId}",encodeURIComponent(String(e.fileId))),method:"PUT",headers:n,query:{},body:a},t);return new w(r)}async uploadThumbnail(e,t){await this.uploadThumbnailRaw(e,t)}async uploadXapResourceRaw(e,t){if(null==e.fileId)throw new f("fileId",'Required parameter "fileId" was null or undefined when calling uploadXapResource().');if(null==e.filename)throw new f("filename",'Required parameter "filename" was null or undefined when calling uploadXapResource().');if(null==e.file)throw new f("file",'Required parameter "file" was null or undefined when calling uploadXapResource().');const n={};this.configuration&&this.configuration.apiKey&&(n.fwt=await this.configuration.apiKey("fwt"));let a,i=!1;i=m([{contentType:"multipart/form-data"}]),a=i?new FormData:new URLSearchParams,null!=e.file&&a.append("file",e.file);const r=await this.request({path:"/api/drive/file/{fileId}/resources/{filename}".replace("{fileId}",encodeURIComponent(String(e.fileId))).replace("{filename}",encodeURIComponent(String(e.filename))),method:"PUT",headers:n,query:{},body:a},t);return new w(r)}async uploadXapResource(e,t){await this.uploadXapResourceRaw(e,t)}}const oe={Anyone:"anyone",Private:"private"}},97234:(e,t,n)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n.d(t,{Z:()=>o});var i=/^\s+/,r=/\s+$/;function o(e,t){if(t=t||{},(e=e||"")instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,o=null,s=null,l=null,d=!1,c=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(r,"").toLowerCase();var t,n=!1;if(R[e])e=R[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=L.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=L.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=L.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=L.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=L.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=L.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=L.hex8.exec(e))return{r:S(t[1]),g:S(t[2]),b:S(t[3]),a:E(t[4]),format:n?"name":"hex8"};if(t=L.hex6.exec(e))return{r:S(t[1]),g:S(t[2]),b:S(t[3]),format:n?"name":"hex"};if(t=L.hex4.exec(e))return{r:S(t[1]+""+t[1]),g:S(t[2]+""+t[2]),b:S(t[3]+""+t[3]),a:E(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=L.hex3.exec(e))return{r:S(t[1]+""+t[1]),g:S(t[2]+""+t[2]),b:S(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==a(e)&&(N(e.r)&&N(e.g)&&N(e.b)?(u=e.r,f=e.g,h=e.b,t={r:255*C(u,255),g:255*C(f,255),b:255*C(h,255)},d=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):N(e.h)&&N(e.s)&&N(e.v)?(o=F(e.s),s=F(e.v),t=function(e,t,n){e=6*C(e,360),t=C(t,100),n=C(n,100);var a=Math.floor(e),i=e-a,r=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=a%6,d=[n,o,r,r,s,n][l],c=[s,n,n,o,r,r][l],u=[r,r,s,n,n,o][l];return{r:255*d,g:255*c,b:255*u}}(e.h,o,s),d=!0,c="hsv"):N(e.h)&&N(e.s)&&N(e.l)&&(o=F(e.s),l=F(e.l),t=function(e,t,n){var a,i,r;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)a=i=r=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=o(l,s,e+1/3),i=o(l,s,e),r=o(l,s,e-1/3)}return{r:255*a,g:255*i,b:255*r}}(e.h,o,l),d=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a));var u,f,h;return n=k(n),{ok:d,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function s(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var a,i,r=Math.max(e,t,n),o=Math.min(e,t,n),s=(r+o)/2;if(r==o)a=i=0;else{var l=r-o;switch(i=s>.5?l/(2-r-o):l/(r+o),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:i,l:s}}function l(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var a,i,r=Math.max(e,t,n),o=Math.min(e,t,n),s=r,l=r-o;if(i=0===r?0:l/r,r==o)a=0;else{switch(r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:i,v:s}}function d(e,t,n,a){var i=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(n).toString(16))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function c(e,t,n,a){return[A(P(a)),A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(n).toString(16))].join("")}function u(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=T(n.s),o(n)}function f(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=T(n.s),o(n)}function h(e){return o(e).desaturate(100)}function p(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=T(n.l),o(n)}function m(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),o(n)}function v(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=T(n.l),o(n)}function w(e,t){var n=o(e).toHsl(),a=(n.h+t)%360;return n.h=a<0?360+a:a,o(n)}function g(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function y(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=o(e).toHsl(),a=[o(e)],i=360/t,r=1;r<t;r++)a.push(o({h:(n.h+r*i)%360,s:n.s,l:n.l}));return a}function b(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var a=o(e).toHsl(),i=360/n,r=[o(e)];for(a.h=(a.h-(i*t>>1)+720)%360;--t;)a.h=(a.h+i)%360,r.push(o(a));return r}function _(e,t){t=t||6;for(var n=o(e).toHsv(),a=n.h,i=n.s,r=n.v,s=[],l=1/t;t--;)s.push(o({h:a,s:i,v:r})),r=(r+l)%1;return s}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,a=this.toRgb();return e=a.r/255,t=a.g/255,n=a.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=k(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+a+"%)":"hsva("+t+", "+n+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+a+"%)":"hsla("+t+", "+n+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,a,i){var r=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(n).toString(16)),A(P(a))];if(i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*C(this._r,255))+"%",g:Math.round(100*C(this._g,255))+"%",b:Math.round(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%)":"rgba("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(x[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+c(this._r,this._g,this._b,this._a),n=t,a=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+c(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,a=this._a<1&&this._a>=0;return t||!a||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(y,[3])},tetrad:function(){return this._applyCombination(y,[4])}},o.fromRatio=function(e,t){if("object"==a(e)){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:F(e[i]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},o.mix=function(e,t,n){n=0===n?0:n||50;var a=o(e).toRgb(),i=o(t).toRgb(),r=n/100;return o({r:(i.r-a.r)*r+a.r,g:(i.g-a.g)*r+a.g,b:(i.b-a.b)*r+a.b,a:(i.a-a.a)*r+a.a})},o.readability=function(e,t){var n=o(e),a=o(t);return(Math.max(n.getLuminance(),a.getLuminance())+.05)/(Math.min(n.getLuminance(),a.getLuminance())+.05)},o.isReadable=function(e,t,n){var a,i,r=o.readability(e,t);switch(i=!1,(a=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+a.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7}return i},o.mostReadable=function(e,t,n){var a,i,r,s,l=null,d=0;i=(n=n||{}).includeFallbackColors,r=n.level,s=n.size;for(var c=0;c<t.length;c++)(a=o.readability(e,t[c]))>d&&(d=a,l=o(t[c]));return o.isReadable(e,l,{level:r,size:s})||!i?l:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var R=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},x=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(R);function k(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function T(e){return Math.min(1,Math.max(0,e))}function S(e){return parseInt(e,16)}function A(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function P(e){return Math.round(255*parseFloat(e)).toString(16)}function E(e){return S(e)/255}var M,q,O,L=(q="[\\s|\\(]+("+(M="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+M+")[,|\\s]+("+M+")\\s*\\)?",O="[\\s|\\(]+("+M+")[,|\\s]+("+M+")[,|\\s]+("+M+")[,|\\s]+("+M+")\\s*\\)?",{CSS_UNIT:new RegExp(M),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+O),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function N(e){return!!L.CSS_UNIT.exec(e)}}},e=>{e.O(0,[8592,8970],(()=>{return t=34838,e(e.s=t);var t}));var t=e.O();module.exports=t}]);