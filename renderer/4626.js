(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[4626,5635],{7040:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});var i=t(23645),o=t.n(i)()((function(e){return e[1]}));o.push([e.id,".sheet-rendering-mask[data-v-54b2f14c] {\n  z-index: 99;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.workbench-bottom-bar[data-v-54b2f14c] {\n  margin: 0 12px;\n}\n.workbench-card-container[data-v-54b2f14c] {\n  border-radius: 12px;\n  overflow: hidden;\n}\n.workbench-card[data-v-54b2f14c] {\n  border-radius: 12px;\n  border: none;\n  background: var(--color-fill-surface);\n  box-shadow: var(--effect-g);\n  overflow: hidden;\n}\nhtml[color-scheme='dark'] .workbench-card[data-v-54b2f14c] {\n  border: 1px solid var(--color-border-panel);\n}\n.workbench-loading-container[data-v-54b2f14c] {\n  overflow: hidden;\n  z-index: 1020;\n}\n.workbench-bottom-bar-placeholder[data-v-54b2f14c] {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 28px;\n  background: var(--color-fill-container);\n}\n.workbench-format-panel[data-v-54b2f14c] {\n  margin-right: 12px;\n  z-index: 1019;\n}\n.workbench-search-panel[data-v-54b2f14c] {\n  margin-left: 12px;\n  z-index: 1019;\n}\n.workbench-editor-panel[data-v-54b2f14c] {\n  left: 12px;\n  right: 12px;\n}\n.is-format-panel-visible .workbench-editor-panel[data-v-54b2f14c] {\n  right: calc(268px + 12px + 12px);\n}\n.is-search-panel-visible .workbench-editor-panel[data-v-54b2f14c] {\n  left: var(--workbench-editor-panel-left);\n}\n.workbench-editor-panel[data-v-54b2f14c],\n.workbench-icon-panel[data-v-54b2f14c] {\n  transition-property: left right;\n}\n.editor-panel-motion-move-in[data-v-54b2f14c],\n.icon-panel-motion-move-in[data-v-54b2f14c] {\n  transition-timing-function: var(--motion-easing-expressive-standard);\n  transition-duration: var(--motion-duration-medium-3);\n}\n.editor-panel-motion-move-out[data-v-54b2f14c],\n.icon-panel-motion-move-out[data-v-54b2f14c] {\n  transition-timing-function: var(--motion-easing-expressive-exit) !important;\n  transition-duration: var(--motion-duration-medium-1) !important;\n}\n.format-panel-motion-enter[data-v-54b2f14c] {\n  animation-name: format-panel-motion-move-in-54b2f14c;\n  animation-timing-function: var(--motion-easing-expressive-standard);\n  animation-duration: var(--motion-duration-medium-3);\n}\n.format-panel-motion-leave[data-v-54b2f14c] {\n  animation-name: format-panel-motion-move-out-54b2f14c;\n  animation-timing-function: var(--motion-easing-expressive-exit);\n  animation-duration: var(--motion-duration-medium-1);\n}\n.search-panel-motion-enter[data-v-54b2f14c] {\n  animation-name: search-panel-motion-move-in-54b2f14c;\n  animation-timing-function: var(--motion-easing-expressive-standard);\n  animation-duration: var(--motion-duration-medium-3);\n}\n.search-panel-motion-leave[data-v-54b2f14c] {\n  animation-name: search-panel-motion-move-out-54b2f14c;\n  animation-timing-function: var(--motion-easing-expressive-exit);\n  animation-duration: var(--motion-duration-medium-1);\n}\n@keyframes format-panel-motion-move-in-54b2f14c {\n0% {\n    transform: translateX(100%);\n}\n100% {\n    transform: translateX(0);\n}\n}\n@keyframes format-panel-motion-move-out-54b2f14c {\n0% {\n    transform: translateX(0);\n}\n100% {\n    transform: translateX(100%);\n}\n}\n@keyframes search-panel-motion-move-in-54b2f14c {\n0% {\n    transform: translateX(-100%);\n}\n100% {\n    transform: translateX(0);\n}\n}\n@keyframes search-panel-motion-move-out-54b2f14c {\n0% {\n    transform: translateX(0);\n}\n100% {\n    transform: translateX(-100%);\n}\n}\n",""]);const a=o},23645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&o[l[0]]||(t&&(l[2]?l[2]="".concat(t," and ").concat(l[2]):l[2]=t),n.push(l))}},n}},45412:(e,n,t)=>{"use strict";t.d(n,{A:()=>m,h:()=>i});var i,o=t(2954),a=t(82361),r=t(72298),s=t(67657),l=t(85786),d=t(67214),c=t(57507),u=t(87141);!function(e){e.DEFAULT="DEFAULT",e.LINK="LINK"}(i||(i={}));class p extends a.EventEmitter{constructor(){super(),this.spellcheckerData={},this.spellchecker={isMisspelled:e=>this.spellcheckerData.misspelledWord===e,getCorrectionsForMisspelling:e=>this.spellcheckerData.misspelledWord===e?this.spellcheckerData.dictionarySuggestions:[]},this.$T=(e,...n)=>(0,u.JE)().T(e,...n)}init(){s.getCurrentWebContents().on("context-menu",((e,n)=>{this.spellcheckerData={misspelledWord:n.misspelledWord,dictionarySuggestions:n.dictionarySuggestions}}));const e=(e,n)=>{let t;if(n.includes(e))t=e;else{const[i]=e.split(/[-_]/),o=n.map((e=>e.split(/[-_]/)[0])).indexOf(i);o>-1&&(t=n[o])}return t};(0,o.YP)((()=>(0,u.S)().language),(n=>{const t=s.getCurrentWebContents().session,i=t.availableSpellCheckerLanguages,o=e(n,i)||"en-US",a=(0,u.S)().systemLanguage,r=e(a,i)||"en-US";t.setSpellCheckerLanguages([...new Set([o,r,"en-US"])])})),window.addEventListener("contextmenu",(e=>{const n=e.target;n.closest('textarea, input[type="text"], [contenteditable="true"], [contenteditable=""]')&&setTimeout((async()=>{const e=await t.e(4761).then(t.bind(t,74761));let o=i.DEFAULT;e.Editor.getHref(n)&&(o=i.LINK,(0,d.FW)(n.closest("a"))),this.buildSpellContextMenu({content:document.getSelection().toString(),target:n,menuType:o})}),100)}))}buildSpellContextMenu({content:e,target:n,menuType:t}){"function"==typeof this.suggestedBuildSpellContextMenu?(this.suggestedBuildSpellContextMenu(),this.suggestedBuildSpellContextMenu=null):this.buildDefaultSpellContextMenu({content:e,target:n,menuType:t})}genDefaultMenuPart(e){const n=[],t=this.getCorrectionsForMisspelling(e),i=this.spellchecker.isMisspelled(e),o=(0,u.si)().contexts["mindmap.inEditTitleMode"];if(i&&t&&t.length)for(const e of t)n.push({label:e,click:()=>{o?(0,u.JX)().handleCommand("insertText",e):document.execCommand("insertText",!1,e)}});else n.push({label:this.$T("No Guesses Found"),enabled:!1});return n.push({type:"separator"}),n.push({label:this.$T("Learn Spelling"),click:()=>this.add(e)}),n}genLinkMenuPart(e){const n=[],t=e.closest("a");if(t)return n.push({label:this.$T("Open Link"),click:()=>(0,l.DL)(t.href,this.$T)}),n.push({label:this.$T("Copy Link"),click:()=>r.clipboard.writeText(t.href)}),n.push({label:this.$T("Edit Link"),click:()=>(0,u.JX)().handleCommand("notes.editLink")}),n.push({label:this.$T("Remove Link"),click:()=>{(0,u.JX)().handleCommand("notes.removeLink")}}),n}buildDefaultSpellContextMenu({content:e,target:n,menuType:t}){const o=(0,u.si)().contexts,a=o["mindmap.inEditTitleMode"],s=o["editor.inNotesPopoverMode"];let l=[];t===i.DEFAULT?l=this.genDefaultMenuPart(e):t===i.LINK&&(l=this.genLinkMenuPart(n)),l.push({type:"separator"}),l.push({label:this.$T("Cut"),click:()=>{a?(0,u.JX)().handleCommand("cut"):s?(0,u.JX)().handleCommand("notes.cutByContextMenu"):document.execCommand("cut")}}),l.push({label:this.$T("Copy"),enabled:"string"==typeof e&&""!=e,click:()=>a?(0,u.JX)().handleCommand("copy"):document.execCommand("copy")}),l.push({label:this.$T("Paste"),enabled:r.clipboard.readText()&&""!=r.clipboard.readText(),click:()=>{a?(0,u.JX)().handleCommand("paste"):s?(0,u.JX)().handleCommand("notes.pasteByContextMenu"):document.execCommand("insertText",!1,r.clipboard.readText())}}),l.push({type:"separator"}),l.push({label:this.$T("Select All"),click:()=>document.execCommand("selectAll")}),(0,c.k)(l)}getCorrectionsForMisspelling(e){return this.spellchecker.getCorrectionsForMisspelling(e)}add(e){s.getCurrentWebContents().session.addWordToSpellCheckerDictionary(e)}setSuggestedBuildSpellContextMenuFn(e){this.suggestedBuildSpellContextMenu=e}}const m=new p},57507:(e,n,t)=>{"use strict";t.d(n,{I:()=>r,k:()=>a});var i=t(67657);const{Menu:o}=i,a=(e,n={})=>{if(!e||!e.length)return;const t=o.buildFromTemplate(e);return t.popup({window:i.getCurrentWindow(),...n}),t},r=()=>{const e=o.getApplicationMenu();return e&&e.items||[]}},84626:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>g});var i=t(2954),o=t(87141),a=t(54856),r=t(90435),s=t(19741),l=t(46016),d=t(27049),c=t(12455),u=t(84374),p=t(89411),m=t(89019),h=t(45412),v=t(2563),f=t(65428);const b=(0,i.aZ)({props:{progressText:{type:String,default:""},activeEditorProgressText:{type:String,default:""}},components:{Spinner:()=>t.e(9891).then(t.bind(t,49891)),Editor:()=>t.e(8172).then(t.bind(t,38172)),BottomBar:()=>Promise.all([t.e(8592),t.e(6070)]).then(t.bind(t,26070)),ReadonlyBottomBar:()=>Promise.all([t.e(8592),t.e(9671)]).then(t.bind(t,59671)),ReadwriteBottomBar:()=>Promise.all([t.e(8592),t.e(9991)]).then(t.bind(t,69991)),FormatPanel:()=>Promise.all([t.e(6486),t.e(5361)]).then(t.bind(t,5361)),DragBar:()=>t.e(1809).then(t.bind(t,1809)),SearchPanel:()=>t.e(4347).then(t.bind(t,32470)),IconPanel:()=>t.e(6099).then(t.bind(t,56099)),Outliner:()=>Promise.all([t.e(8592),t.e(6486),t.e(2118),t.e(4761),t.e(4559),t.e(5644),t.e(8825),t.e(230)]).then(t.bind(t,10230)),Promotion:()=>t.e(6087).then(t.bind(t,46087))},setup(){const e=(0,i.iH)(!1),n=(0,i.iH)(!1);Promise.all([t.e(6486),t.e(5361)]).then(t.bind(t,5361)),u.h0.initThemePreviewModule();const{updateIsResizeEditorSync:b}=(0,d.E)(),g=(0,i.iH)(!1),k=(0,i.iH)(!1),x=(0,i.Fl)((()=>!!(0,o.Gu)().currentPromotion)),w=(0,i.Fl)((()=>(0,p.FU)().source.startsWith("cloud://")||(0,p.FU)().source.startsWith("new://host.xmind.app"))),C=(0,i.Fl)((()=>(0,m.c)().connectionMode)),M=(0,i.Fl)((()=>{var e,n,t;const i=null===(e=(0,c.r)())||void 0===e?void 0:e.activeEditorId,o=null===(n=(0,c.r)())||void 0===n?void 0:n.editorViewInfos,a=null==o?void 0:o.find((({id:e})=>e===i));return i===window.editorId?(null===(t=(0,c.A)())||void 0===t?void 0:t.isAlive)||(0,s.y)().isAlive:null==a?void 0:a.isAlive})),y=(0,i.Fl)((()=>(0,l.$)().isOutlinerMode)),T=(0,i.Fl)((()=>(0,l.$)().isSearchPanelVisible)),P=(0,i.Fl)((()=>(0,l.$)().isIconPanelVisible)),S=(0,i.Fl)((()=>(0,l.$)().isRightbarVisible)),E=(0,i.Fl)((()=>(0,d.E)().isEditorVisible)),L=(0,i.Fl)((()=>(0,d.E)().sheetRendering)),F=(0,i.Fl)((()=>!(0,l.$)().zenMode&&(0,d.E)().isEditorVisible&&(0,d.E)().isSheetBarVisible)),_=(0,i.iH)(null),B=(0,i.Fl)((()=>_.value||378));return(0,i.YP)((()=>{var e,n;return null!==(n=null===(e=(0,c.r)())||void 0===e?void 0:e.isZenMode)&&void 0!==n&&n}),(e=>{(0,l.$)().setZenMode(e)})),(0,i.YP)((0,u.nZ)().activeSheetViewerInited,(n=>{e.value=n})),(0,i.YP)((0,u.nZ)().isEditorFirstRendered,(e=>{e&&(0,f.r)().getLoadedFonts().then((e=>{const n={...e.systemFonts,...e.vanaFonts},t=Object.keys(n).reduce(((e,t)=>e.concat(n[t].styles.map((e=>({...e,family:t}))))),[]);return(0,v.O)().updateFontsForMindMap(t),(0,u.nZ)().setFonts(t),(0,v.O)().updateAllFonts(e)}))}),{immediate:!0}),(0,i.bv)((async()=>{if(h.A.init(),x.value){if(await r.ZP.fetch(a.wk)){const e=(0,o.Gu)().currentPromotion,t=new URL(e.url).searchParams;"center"===t.get("ps")?r.ZP.fetch(a.Fx,{name:"dialog-promotion",parentId:window.id,overrideSetting:{width:Number(t.get("w")),height:Number(t.get("h"))},wait:!0}):setTimeout((()=>{n.value=!0}),5e3)}}})),{hasPromotion:x,isBottomRightPromotionVisible:n,isFromCloud:w,connectionMode:C,isEditorVisible:E,isSearchPanelVisible:T,activateEditorIsAlive:M,isIconPanelVisible:P,isRightbarVisible:S,sheetRendering:L,isOutlineMode:y,isBottomBarVisible:F,isMindMapInited:e,LEFT_PANEL_WIDTH:378,MAX_LEFT_PANEL_WIDTH:563,dragedWidth:_,currentLeftBarPanelWidth:B,isMoveOut:g,isSearchPanelDraging:k,handleMotionBeforeEnter:()=>{b(!0)},handleMotionAfterEnter:()=>{b(!1)},handleMotionBeforeLeave:()=>{g.value=!0,b(!0)},handleMotionAfterLeave:()=>{g.value=!1,b(!1)}}}});t(13876);const g=(0,t(51900).Z)(b,(function(){var e=this,n=e._self._c;e._self._setupProxy;return n("div",{staticClass:"uk-panel uk-position-cover workbench-card-container"},[n("div",{staticClass:"uk-flex uk-flex-column uk-height-1-1 uk-overflow-hidden"},[n("div",{staticClass:"uk-flex-1 uk-position-relative workbench-card-container"},[n("div",{staticClass:"uk-panel uk-flex uk-flex-row uk-position-cover",class:{"is-format-panel-visible":e.isRightbarVisible,"is-search-panel-visible":e.isSearchPanelVisible}},[n("keep-alive",[n("transition",{attrs:{"enter-active-class":"search-panel-motion-enter","leave-active-class":"search-panel-motion-leave"},on:{"before-enter":e.handleMotionBeforeEnter,"after-enter":e.handleMotionAfterEnter,"before-leave":e.handleMotionBeforeLeave,"after-leave":e.handleMotionAfterLeave}},[e.isSearchPanelVisible?n("div",{staticClass:"uk-position-left workbench-card workbench-search-panel",style:`will-change: transform; width: ${e.currentLeftBarPanelWidth}px;`},[n("drag-bar",{attrs:{"min-panel-width":e.LEFT_PANEL_WIDTH,"max-panel-width":e.MAX_LEFT_PANEL_WIDTH},on:{dragstart:function(n){e.isSearchPanelDraging=!0},dragend:function(n){e.isSearchPanelDraging=!1},change:function(n){e.dragedWidth=n}}}),e._v(" "),n("search-panel",{attrs:{"panel-width":e.currentLeftBarPanelWidth}})],1):e._e()])],1),e._v(" "),n("div",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:group",value:["focus.editor"],expression:"['focus.editor']",arg:"group"}],staticClass:"uk-panel uk-position-cover workbench-card workbench-editor-panel",class:{"editor-panel-motion-move-in":!e.isSearchPanelDraging,"editor-panel-motion-move-out":e.isMoveOut},style:`--workbench-editor-panel-left: calc(${e.currentLeftBarPanelWidth}px + 12px + 12px)`},[n("spinner",{directives:[{name:"show",rawName:"v-show",value:e.sheetRendering||!e.isMindMapInited,expression:"sheetRendering || !isMindMapInited"}],staticClass:"uk-position-cover sheet-rendering-mask",attrs:{text:e.progressText}}),e._v(" "),e.isOutlineMode?n("outliner",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:group",value:["focus.outliner"],expression:"['focus.outliner']",arg:"group"}]}):e._e(),e._v(" "),n("editor",{directives:[{name:"show",rawName:"v-show",value:!e.isOutlineMode&&e.isEditorVisible,expression:"!isOutlineMode && isEditorVisible"}],attrs:{"progress-indicator-text":e.progressText}})],1),e._v(" "),n("keep-alive",[n("transition",{attrs:{"enter-active-class":"format-panel-motion-enter","leave-active-class":"format-panel-motion-leave"},on:{"before-enter":e.handleMotionBeforeEnter,"after-enter":e.handleMotionAfterEnter,"before-leave":e.handleMotionBeforeLeave,"after-leave":e.handleMotionAfterLeave}},[e.isRightbarVisible?n("format-panel",{staticClass:"uk-position-right workbench-card workbench-format-panel"}):e._e()],1)],1)],1),e._v(" "),n("keep-alive",[e.isIconPanelVisible?n("icon-panel",{staticClass:"workbench-card workbench-icon-panel icon-panel-motion-move-in",class:{"icon-panel-motion-move-out":e.isMoveOut}}):e._e()],1),e._v(" "),e.hasPromotion&&e.isBottomRightPromotionVisible?n("promotion"):e._e()],1),e._v(" "),e.isBottomBarVisible?n("div",{staticClass:"workbench-bottom-bar"},[e.isFromCloud?["readwrite"===e.connectionMode?n("readwrite-bottom-bar"):n("readonly-bottom-bar")]:n("bottom-bar")],2):e._e(),e._v(" "),e.activateEditorIsAlive?e._e():n("div",{staticClass:"uk-position-cover workbench-loading-container"},[n("spinner",{staticClass:"sheet-rendering-mask workbench-card-container",staticStyle:{bottom:"28px"},attrs:{text:e.activeEditorProgressText}}),e._v(" "),n("div",{staticClass:"workbench-bottom-bar-placeholder"})],1)])])}),[],!1,null,"54b2f14c",null).exports},13876:(e,n,t)=>{var i=t(7040);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,t(45346).Z)("5e5960f4",i,!0,{})},45346:(e,n,t)=>{"use strict";function i(e,n){for(var t=[],i={},o=0;o<n.length;o++){var a=n[o],r=a[0],s={id:e+":"+o,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(s):t.push(i[r]={id:r,parts:[s]})}return t}t.d(n,{Z:()=>h});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,d=!1,c=function(){},u=null,p="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,n,t,o){d=t,u=o||{};var r=i(e,n);return v(r),function(n){for(var t=[],o=0;o<r.length;o++){var s=r[o];(l=a[s.id]).refs--,t.push(l)}n?v(r=i(e,n)):r=[];for(o=0;o<t.length;o++){var l;if(0===(l=t[o]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete a[l.id]}}}}function v(e){for(var n=0;n<e.length;n++){var t=e[n],i=a[t.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](t.parts[o]);for(;o<t.parts.length;o++)i.parts.push(b(t.parts[o]));i.parts.length>t.parts.length&&(i.parts.length=t.parts.length)}else{var r=[];for(o=0;o<t.parts.length;o++)r.push(b(t.parts[o]));a[t.id]={id:t.id,refs:1,parts:r}}}}function f(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function b(e){var n,t,i=document.querySelector("style["+p+'~="'+e.id+'"]');if(i){if(d)return c;i.parentNode.removeChild(i)}if(m){var o=l++;i=s||(s=f()),n=x.bind(null,i,o,!1),t=x.bind(null,i,o,!0)}else i=f(),n=w.bind(null,i),t=function(){i.parentNode.removeChild(i)};return n(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;n(e=i)}else t()}}var g,k=(g=[],function(e,n){return g[e]=n,g.filter(Boolean).join("\n")});function x(e,n,t,i){var o=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=k(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}function w(e,n){var t=n.css,i=n.media,o=n.sourceMap;if(i&&e.setAttribute("media",i),u.ssrId&&e.setAttribute(p,n.id),o&&(t+="\n/*# sourceURL="+o.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}}]);