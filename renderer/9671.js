(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[9671],{93174:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var i=a(23645),s=a.n(i)()((function(e){return e[1]}));s.push([e.id,".statusbar-divider-vertical[data-v-9cdfaa76] {\n  margin: 0 8px;\n  width: 1px;\n  height: 11px;\n  background: var(--color-sheetbar-divider);\n}\n",""]);const l=s},44591:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var i=a(23645),s=a.n(i)()((function(e){return e[1]}));s.push([e.id,".statusbar-divider-vertical[data-v-9a4e5c7a] {\n  margin: 0 8px;\n  width: 1px;\n  height: 11px;\n  background: var(--color-sheetbar-divider);\n}\n.sheetbar-item[data-v-9a4e5c7a] {\n  line-height: 20px;\n  padding: 0;\n  overflow: hidden;\n}\n.sheetbar-item-inner[data-v-9a4e5c7a] {\n  min-width: 24px;\n  max-width: 220px;\n}\n",""]);const l=s},53550:(e,t,a)=>{"use strict";a.d(t,{v:()=>c});var i=a(2954),s=a(87141),l=a(54856),n=a(96829),o=a(90435),r=a(84374),d=a(27049),u=a(46016);function c(){const{sheets:e,activeSheetId:t,executeAction:a,executeEditorAction:c,isMapOverviewShowing:h,getSheetViewer:v}=(0,r.nZ)(),{testSheetPasteVisible:p}=(0,r.pk)(),{handleCommand:f}=(0,s.JX)(),m=(0,i.Fl)((()=>e.value.map((e=>({id:e.id,title:e.title})))));return{sheets:e,activeSheetId:t,sheetIdTitleList:m,isMapOverviewShowing:h,switchSheet:async e=>{const a=v(e);(null==a?void 0:a.isInited())&&!(0,u.$)().isOutlinerMode||t.value!==e&&((0,d.E)().updateSheetRendering({sheetRendering:!0,sheetRenderingStartAt:(new Date).getTime()}),await(0,n._v)(100)),c({name:"mutateEditor:switchSheet",inputValue:e})},newSheet:async e=>{await o.ZP.fetch(l.Gy,{name:"action.addSheet",channel:(0,l.gk)(window.editorId)})&&c({name:"mutateEditor:newSheet",inputValue:e})},changeShowMapOverview:e=>c({name:"mutateEditor:changeShowMapOverview",inputValue:e}),changeSheetTitle:(e,t)=>{c({name:"mutateEditor:changeSheetTitle",inputValue:e,payload:{title:t}})},deleteSheet:e=>{c({name:"mutateEditor:deleteSheet",inputValue:e})},testSheetPasteVisible:p,copySheet:(e,t)=>{a({name:"copySheet",payload:{index:e,title:t}})},duplicateSheet:async e=>{await o.ZP.fetch(l.Gy,{name:"action.duplicateSheet",channel:(0,l.gk)(window.editorId)})&&((0,d.E)().updateSheetRendering({sheetRendering:!0,sheetRenderingStartAt:(new Date).getTime()}),await(0,n._v)(100),c({name:"mutateEditor:duplicateSheet",inputValue:e}))},pasteSheet:async t=>{var i;await o.ZP.fetch(l.Gy,{name:"action.duplicateSheet",channel:(0,l.gk)(window.editorId)})&&((0,d.E)().updateSheetRendering({sheetRendering:!0,sheetRenderingStartAt:(new Date).getTime()}),await(0,n._v)(100),a({name:"pasteSheet",payload:{index:t,sheetId:null===(i=e.value[t])||void 0===i?void 0:i.id}}))},saveSheetAs:({sheetIndex:e})=>{f("saveSheetAs",e)}}}},59671:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var i=a(2954),s=a(12455),l=a(53550),n=a(46016),o=a(81404);const r=(0,i.aZ)({__name:"readonly-sheet-bar",setup(e){const t={observeobser:null,inserted:e=>{t.observeobser=new ResizeObserver((()=>{w(e),k()})),t.observeobser.observe(e)},unbind:e=>{t.observeobser.unobserve(e)}},{sheets:a,activeSheetId:r,switchSheet:d}=(0,l.v)(),{zenMode:u}=(0,n.$)(),c=(0,s.A)(),h=(0,i.iH)(),v=(0,i.iH)(),p=(0,i.iH)(!1),f=(0,i.iH)(!1),m=(0,i.iH)(!1),b=(0,i.Fl)((()=>u)),g=(0,i.Fl)((()=>null==c?void 0:c.aggregatedContexts["editor.inMapShotMode"])),S=(0,i.Fl)((()=>a.value)),k=()=>{(0,i.Y3)((()=>{h.value&&(f.value=0===h.value.scrollLeft,m.value=h.value.scrollLeft+h.value.offsetWidth>=h.value.scrollWidth)}))},w=e=>{if(!e)return!1;p.value=e.scrollWidth>e.offsetWidth};return(0,i.YP)((()=>r.value),(e=>{if(!v.value)return;const t=v.value.find((t=>t.getAttribute("data-sheet-id")===e));t&&t.scrollIntoView({behavior:"smooth",block:"center"})})),{__sfc:!0,vResized:t,sheets:a,activeSheetId:r,switchSheet:d,zenMode:u,editorSharedStore:c,sheetBarTab:h,sheetBarTabItems:v,isSheetGroupOverflow:p,slideLeftDisable:f,slideRightDisable:m,isZenMode:b,isInMapShotMode:g,currentSheets:S,slideSheet:e=>{if(!h.value||!v.value)return;let t=0;if("left"===e){const e=h.value.scrollLeft;for(let a of v.value){if(t+a.offsetWidth+1>e)return void(h.value.scrollLeft=t-1);t+=a.offsetWidth+1}}else if("right"===e){const e=h.value.scrollLeft+h.value.offsetWidth;for(let a of v.value)if(t+=a.offsetWidth+1,t>e)return void(h.value.scrollLeft=t-h.value.offsetWidth+1)}},isSheetBarAbleSlide:k,checkSheetGroupOverflow:w,SheetSlideButton:o.Z}}});a(98032);var d=a(51900);const u=(0,d.Z)(r,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.currentSheets.length>0?t("div",{staticClass:"uk-visible-toggle uk-flex uk-flex-row uk-flex-middle uk-height-1-1 uk-position-relative",style:{visibility:a.isInMapShotMode?"hidden":"visible"}},[a.isInMapShotMode?t("div",{staticClass:"uk-height-1-1 uk-width-1-1 uk-position-absolute",staticStyle:{"z-index":"2"}}):e._e(),e._v(" "),t("div",{staticClass:"uk-workbench-sheet-bar uk-height-1-1 uk-overflow-hidden",class:[{"uk-invisible-hover":1===a.currentSheets.length&&!a.isZenMode}]},[t("ul",{directives:[{name:"resized",rawName:"v-resized"}],ref:"sheetBarTab",staticClass:"uk-tab vk-tab-capsule uk-overflow-auto uk-scrollbar-hidden",staticStyle:{"flex-wrap":"nowrap"},attrs:{"uk-tab":""},on:{scroll:a.isSheetBarAbleSlide}},e._l(a.currentSheets,(function({id:i,title:s},l){return t("li",{key:i,ref:"sheetBarTabItems",refInFor:!0,class:{"uk-active":a.activeSheetId===i},attrs:{"data-index":l,draggable:!1,"data-sheet-id":i}},[t("a",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-visible-toggle sheetbar-item uk-flex uk-flex-middle",attrs:{draggable:"false"},on:{click:function(e){return a.switchSheet(i)}}},[t("div",{staticClass:"sheetbar-item-inner uk-flex uk-flex-center uk-flex-middle"},[t("span",{staticClass:"uk-text-truncate",staticStyle:{margin:"0 20px"}},[e._v(e._s(s||""))])])])])})),0)]),e._v(" "),a.isSheetGroupOverflow?[t("div",{staticClass:"statusbar-divider-vertical"}),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-row uk-flex-middle uk-height-1-1"},[t(a.SheetSlideButton,{attrs:{"slide-left-disable":a.slideLeftDisable,"slide-right-disable":a.slideRightDisable,"slide-left-handler":()=>a.slideSheet("left"),"slide-right-handler":()=>a.slideSheet("right")}})],1)]:e._e()],2):e._e()}),[],!1,null,"9a4e5c7a",null).exports;var c=a(81631);const h=(0,i.aZ)({__name:"readonly-bottom-bar",setup:e=>({__sfc:!0,EditorTopicCount:(0,i.RC)((()=>a.e(7272).then(a.bind(a,7272)))),isInMapShotMode:(0,i.Fl)((()=>(0,s.A)().aggregatedContexts["editor.inMapShotMode"])),ReadonlySheetBar:u,ZoomControl:c.Z})});a(56660);const v=(0,d.Z)(h,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"uk-flex uk-flex-middle",staticStyle:{height:"28px"}},[t("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between uk-flex-1",staticStyle:{height:"var(--spacing-sheetbar-height)"}},[t("div",{staticClass:"uk-width-expand"},[t(a.ReadonlySheetBar)],1),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-middle"},[a.isInMapShotMode?e._e():t(a.EditorTopicCount),e._v(" "),a.isInMapShotMode?e._e():t("div",{staticClass:"statusbar-divider-vertical"}),e._v(" "),t(a.ZoomControl)],1)])])}),[],!1,null,"9cdfaa76",null).exports},81404:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const i=(0,a(2954).aZ)({__name:"sheet-slide-button",props:{slideLeftDisable:{type:Boolean},slideRightDisable:{type:Boolean},slideRightHandler:null,slideLeftHandler:null},setup:e=>({__sfc:!0})});const s=(0,a(51900).Z)(i,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"uk-flex uk-flex-row uk-flex-middle uk-height-1-1"},[t("div",{staticClass:"uk-padding-remove uk-margin-remove uk-height-1-1"},[t("button",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"vk-button-tile uk-padding-remove",staticStyle:{height:"var(--spacing-sheetbar-height)",width:"var(--spacing-sheetbar-height)"},attrs:{disabled:e.slideLeftDisable},on:{click:e.slideLeftHandler}},[t("span",{attrs:{"uk-icon":"icon: chevron-backward; ratio: 0.8"}})])]),e._v(" "),t("div",{staticClass:"uk-padding-remove uk-margin-remove uk-height-1-1"},[t("button",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"vk-button-tile uk-padding-remove",staticStyle:{height:"var(--spacing-sheetbar-height)",width:"var(--spacing-sheetbar-height)"},attrs:{disabled:e.slideRightDisable},on:{click:e.slideRightHandler}},[t("span",{attrs:{"uk-icon":"icon: chevron-forward; ratio: 0.8"}})])])])}),[],!1,null,null,null).exports},81631:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var i=a(2954),s=a(78198),l=a(86842),n=a(27049),o=a(46016),r=a(60746),d=a(67657),u=a(84374);const c=(0,i.aZ)({__name:"zoom-control",setup(e){const{isZoomGroupDisabled:t,handleZoomControlBtnClick:a,zoomControlLabel:c}=(()=>{const{T:e}=(0,l.C)(),{updateOutlinerSheetStatus:t,updateSheetStatus:a,getOutlinerZoomScaleForSheet:c}=(0,n.E)(),{executeEditorAction:h,activeSheetId:v,currentZoomScale:p}=(0,u.nZ)(),f=(0,i.Fl)((()=>(0,n.E)().sheetRendering||(0,o.$)().mapshotMode)),m=(0,i.Fl)((()=>"outliner"===(0,o.$)().editorMode)),b=(0,i.Fl)((()=>m.value?s.ZP.filter((e=>e>=80&&e<=300)):s.ZP)),g=(0,i.Fl)((()=>m.value?c(v.value):100*p.value)),S=(0,i.Fl)((()=>{let e=[...b.value,g.value];return e=Array.from(new Set(e)),e=e.sort(((e,t)=>Number(t)-Number(e))),e.map((e=>({text:(0,r.Ni)(e),value:e})))})),k=(0,i.Fl)((()=>(0,r.Ni)(g.value))),w=({value:e,isFitMap:i})=>{i?h({name:"mutateEditor:fitMap"}):isNaN(e)||(m.value?t({id:v.value,zoomScale:e}):(a({id:v.value,zoomScale:e}),h({name:"mutateEditor:zoomScale",inputValue:Number(e)/100})))};return{zoomValue:g,zoomOptions:S,zoomScaleLists:b,zoomControlLabel:k,isZoomGroupDisabled:f,handleZoomControlBtnClick:()=>{const t=new d.Menu;for(const e of S.value)t.append(new d.MenuItem({label:e.text,type:"checkbox",checked:g.value===e.value,click:async()=>{w({value:Number(e.value),isFitMap:!1})}}));m.value||(t.append(new d.MenuItem({type:"separator"})),t.append(new d.MenuItem({label:e("Fit Map"),type:"checkbox",click:()=>{w({isFitMap:!0})}}))),t.popup({window:(0,d.getCurrentWindow)()})}}})();return{__sfc:!0,isZoomGroupDisabled:t,handleZoomControlBtnClick:a,zoomControlLabel:c}}});const h=(0,a(51900).Z)(c,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("button",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"vk-button-tile keep-edit-session",staticStyle:{height:"var(--spacing-sheetbar-height)",padding:"0 4px",display:"flex"},attrs:{disabled:a.isZoomGroupDisabled},on:{click:a.handleZoomControlBtnClick}},[t("span",{staticClass:"typography-body-medium",attrs:{title:e.$T("Zoom in/out.")}},[e._v("\n    "+e._s(a.zoomControlLabel)+"\n  ")]),e._v(" "),t("span",{attrs:{"uk-icon":"icon: chevron-downward; ratio: 0.6"}})])}),[],!1,null,"ae6521b2",null).exports},56660:(e,t,a)=>{var i=a(93174);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,a(45346).Z)("12ca2162",i,!0,{})},98032:(e,t,a)=>{var i=a(44591);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,a(45346).Z)("68cac924",i,!0,{})}}]);