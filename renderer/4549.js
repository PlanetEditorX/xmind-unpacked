(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[4549],{43240:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(23645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,".spinner-grid-content {\n  background: var(--color-mask-overlay-s, rgba(28, 40, 52, 0.05));\n}\n",""]);const o=r},99858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(23645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,".preview-item[data-v-f3dfad82] {\n  border: 1px dashed var(--color-border-quaternary);\n  background: var(--color-fill-surface-dim);\n  background-size: contain;\n  background-position: 50% 50%;\n  border-radius: 4px;\n}\n.preview-item.loaded[data-v-f3dfad82] {\n  display: block;\n  box-shadow: 0px 2.129px 7.984px 0px rgba(0, 0, 0, 0.1), 0px 0.532px 2.129px 0px rgba(0, 0, 0, 0.05);\n  border: none;\n}\n.folder-container[data-v-f3dfad82] {\n  background: var(--color-fill-surface-dim);\n  padding: 6px;\n}\n.folder-container .preview-item-1[data-v-f3dfad82] {\n  width: 99px;\n  height: 62px;\n  top: 14px;\n  left: 24px;\n  z-index: 3;\n}\n.folder-container .preview-item-2[data-v-f3dfad82] {\n  width: 84px;\n  height: 52px;\n  transform: rotate(-8deg);\n  top: 20px;\n  left: 6px;\n  z-index: 2;\n}\n.folder-container .preview-item-3[data-v-f3dfad82] {\n  width: 84px;\n  height: 52px;\n  transform: rotate(8deg);\n  top: 20px;\n  right: 6px;\n  z-index: 1;\n}\n.middle-file-motion-enter[data-v-f3dfad82] {\n  scale: 1.1 !important;\n  transform: rotate(3deg) !important;\n  transition-property: scale transform !important;\n  transition-timing-function: var(--motion-easing-productive-standard) !important;\n  transition-duration: var(--motion-duration-medium-1) !important;\n}\n.middle-file-motion-leave[data-v-f3dfad82] {\n  scale: 1;\n  transform: rotate(0deg);\n  transition-property: scale transform;\n  transition-timing-function: var(--motion-easing-expressive-exit);\n  transition-duration: var(--motion-duration-medium-1);\n}\n.left-file-motion-move-left[data-v-f3dfad82] {\n  left: -4px !important;\n  transition-property: left !important;\n  transition-timing-function: var(--motion-easing-productive-standard) !important;\n  transition-duration: var(--motion-duration-medium-1) !important;\n}\n.left-file-motion-move-back[data-v-f3dfad82] {\n  left: 6px;\n  transition-property: left;\n  transition-timing-function: var(--motion-easing-expressive-exit);\n  transition-duration: var(--motion-duration-medium-1);\n}\n.right-file-motion-move-right[data-v-f3dfad82] {\n  right: -4px !important;\n  transition-property: right !important;\n  transition-timing-function: var(--motion-easing-productive-standard) !important;\n  transition-duration: var(--motion-duration-medium-1) !important;\n}\n.right-file-motion-move-back[data-v-f3dfad82] {\n  right: 6px;\n  transition-property: right;\n  transition-timing-function: var(--motion-easing-expressive-exit);\n  transition-duration: var(--motion-duration-medium-1);\n}\n",""]);const o=r},71683:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(23645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,".cloud-file-motion-zoom-in[data-v-3a9f531f] {\n  scale: 1.1 !important;\n  transition-property: scale;\n  transition-timing-function: var(--motion-easing-productive-standard) !important;\n  transition-duration: var(--motion-duration-medium-1) !important;\n}\n.cloud-file-motion-zoom-out[data-v-3a9f531f] {\n  scale: 1;\n  transition-property: scale;\n  transition-timing-function: var(--motion-easing-expressive-exit);\n  transition-duration: var(--motion-duration-medium-1);\n}\n",""]);const o=r},52212:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(23645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,".form-container .theme-category-name[data-v-3cd57d21] {\n  margin-top: 32px;\n  margin-bottom: 20px;\n  font-weight: bold;\n  font-size: 20px;\n  line-height: 25px;\n}\n.form-container .theme-category-name[data-v-3cd57d21]:first-of-type {\n  margin-top: 0;\n}\n.preview-map-list[data-v-3cd57d21] {\n  list-style: none;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-column-gap: 16px;\n  grid-row-gap: 16px;\n}\n.uk-border-rounded[data-v-3cd57d21] {\n  border-radius: 10px;\n}\n.uk-win32 .uk-border-rounded[data-v-3cd57d21] {\n  border-radius: 4px;\n}\n.title-bar[data-v-3cd57d21] {\n  height: 26px;\n  padding: 20px 26px 0;\n  top: 0;\n  z-index: 1030;\n  background: var(--color-fill-surface);\n}\n.title-bar-sticky[data-v-3cd57d21] {\n  height: 44px;\n  padding: 0 26px;\n  position: sticky;\n  border-bottom: var(--color-border-muted) 1px solid;\n  align-items: center;\n}\n.title-bar-sticky h1[data-v-3cd57d21] {\n  font-size: 15px !important;\n}\n.preview-item-desc[data-v-3cd57d21] {\n  color: var(--color-sidebar-text-subtitle);\n}\n",""]);const o=r},82863:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(23645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,".local-file-motion-zoom-in[data-v-59f236d3] {\n  scale: 1.1 !important;\n  transition-property: scale;\n  transition-timing-function: var(--motion-easing-productive-standard) !important;\n  transition-duration: var(--motion-duration-medium-1) !important;\n}\n.local-file-motion-zoom-out[data-v-59f236d3] {\n  scale: 1;\n  transition-property: scale;\n  transition-timing-function: var(--motion-easing-expressive-exit);\n  transition-duration: var(--motion-duration-medium-1);\n}\n",""]);const o=r},69960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(23645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,".trash-tip {\n  color: var(--color-text-quaternary);\n}\n",""]);const o=r},62705:(e,t,n)=>{var i=n(55639).Symbol;e.exports=i},44239:(e,t,n)=>{var i=n(62705),r=n(89607),o=n(2333),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},27561:(e,t,n)=>{var i=n(67990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},31957:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},89607:(e,t,n)=>{var i=n(62705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,l=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[l]=n:delete e[l]),r}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:(e,t,n)=>{var i=n(31957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var i=n(13218),r=n(7771),o=n(14841),a=Math.max,l=Math.min;e.exports=function(e,t,n){var s,d,u,c,p,m,f=0,v=!1,h=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=s,i=d;return s=d=void 0,f=t,c=e.apply(i,n)}function b(e){var n=e-m;return void 0===m||n>=t||n<0||h&&e-f>=u}function y(){var e=r();if(b(e))return _(e);p=setTimeout(y,function(e){var n=t-(e-m);return h?l(n,u-(e-f)):n}(e))}function _(e){return p=void 0,g&&s?x(e):(s=d=void 0,c)}function k(){var e=r(),n=b(e);if(s=arguments,d=this,m=e,n){if(void 0===p)return function(e){return f=e,p=setTimeout(y,t),v?x(e):c}(m);if(h)return clearTimeout(p),p=setTimeout(y,t),x(m)}return void 0===p&&(p=setTimeout(y,t)),c}return t=o(t)||0,i(n)&&(v=!!n.leading,u=(h="maxWait"in n)?a(o(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==p&&clearTimeout(p),f=0,s=m=d=p=void 0},k.flush=function(){return void 0===p?c:_(r())},k}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},33448:(e,t,n)=>{var i=n(44239),r=n(37005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},7771:(e,t,n)=>{var i=n(55639);e.exports=function(){return i.Date.now()}},14841:(e,t,n)=>{var i=n(27561),r=n(13218),o=n(33448),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=l.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):a.test(e)?NaN:+e}},41265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(4321);const i=(0,n(51900).Z)({},(function(){this._self._c;return this._m(0)}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"uk-flex uk-flex-column uk-flex-center uk-flex-middle uk-height-1-1 uk-width-1-1"},[t("div",{staticClass:"uk-margin-small-bottom uk-height-1-1 uk-width-1-1 spinner-grid-content",staticStyle:{"border-radius":"8px"}}),e._v(" "),t("div",{staticClass:"uk-margin-xsmall-bottom spinner-grid-content",staticStyle:{width:"108px",height:"14px","border-radius":"2px"}}),e._v(" "),t("div",{staticClass:"spinner-grid-content",staticStyle:{width:"56px",height:"14px","border-radius":"2px"}})])}],!1,null,null,null).exports},90029:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(2954);const r=(0,i.aZ)({__name:"visibility-sensor",props:{options:{default:()=>({})}},emits:["change"],setup(e,{emit:t}){const n=e,r=(0,i.iH)(null);let o=null;return(0,i.bv)((async()=>{if(await new Promise((e=>setTimeout(e,0))),!r.value)return;let e=0,i=0,a=null;o=new IntersectionObserver((([n])=>{const r=n.isIntersecting,o=n.boundingClientRect.top;r?(e=n.boundingClientRect.top,0!==i&&(a=o>i?"top":"bottom")):(i=n.boundingClientRect.top,0!==e&&(a=o>e?"top":"bottom")),t("change",{visible:r,direction:a})}),n.options),o.observe(r.value)})),(0,i.Jd)((()=>{o&&o.disconnect()})),{__sfc:!0,props:n,emit:t,entryContainer:r,io:o}}});const o=(0,n(51900).Z)(r,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"entryContainer"},[e._t("default")],2)}),[],!1,null,null,null).exports},28534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(2954),r=n(23279),o=n.n(r),a=n(96829),l=n(20993);const s=(0,i.aZ)({__name:"map-search",props:{disabled:{type:Boolean,default:!1}},emits:["change","active-change"],setup(e,{emit:t}){const n=(0,i.iH)(`search-input-${(0,a.hb)()}`),r=(0,i.iH)(!1),s=(0,i.iH)(""),d=(0,i.iH)(!1),u=o()((e=>{d.value||t("change",e)}),300);return{__sfc:!0,emit:t,searchInputId:n,isSearchInputVisible:r,searchContent:s,inputMethodInputting:d,debounceChangeSearchContent:u,changeSearchContent:e=>{s.value=e,u(e)},openSearchInput:()=>{(0,l.yo)(),s.value="",r.value=!0,t("active-change",!0),setTimeout((()=>{var e;null===(e=document.getElementById(n.value))||void 0===e||e.focus()}))},closeSearchInput:()=>{s.value||(r.value=!1,t("active-change",!1))}}}});const d=(0,n(51900).Z)(s,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.isSearchInputVisible?t("vk-input",{staticStyle:{width:"226px"},attrs:{id:n.searchInputId,prefix:"search",placeholder:e.$T("Search maps and folders"),disabled:e.disabled,value:n.searchContent},on:{compositionstart:function(e){n.inputMethodInputting=!0},compositionend:function(e){n.inputMethodInputting=!1},blur:n.closeSearchInput,input:n.changeSearchContent}}):t("button",{staticClass:"vk-button-tile",attrs:{disabled:e.disabled},on:{click:n.openSearchInput}},[t("span",{attrs:{"uk-icon":"search"}})])}),[],!1,null,"61a1855d",null).exports},27e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(51900).Z)({},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"uk-width-1-1 uk-height-1-1 uk-flex uk-flex-middle uk-flex-center"},[t("div",{staticClass:"uk-flex uk-flex-column uk-flex-middle"},[t("span",{staticStyle:{color:"var(--color-empty-text)"},attrs:{"uk-icon":"icon: note; ratio: 1.6"}}),e._v(" "),t("div",{staticClass:"typography-body-small",staticStyle:{"margin-top":"var(--spacing-margin-xxs)",color:"var(--color-empty-text)"}},[e._v("\n      "+e._s(e.$T("No xmind files found"))+"\n    ")])])])}),[],!1,null,null,null).exports},73679:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(2954),r=n(5893),o=n(90029),a=n(41265),l=n(69931),s=n(62004);const d=(0,i.aZ)({__name:"cloud-thumbnail-item",props:{fileId:null,version:{default:""}},setup(e){const t=e,n=(0,i.iH)(!1),r=(0,i.iH)(!1),o=(0,i.Fl)((()=>{const e=(0,l.ju)("static/assets/images/new/thumbnail.svg"),i=(0,s.Y)().getThumbnailURL({fileId:t.fileId,version:t.version});return n.value?e:i}));return{__sfc:!0,props:t,isError:n,isHovered:r,previewURL:o}}});n(66770);var u=n(51900);const c=(0,u.Z)(d,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("img",{staticClass:"uk-width-1-1 uk-height-1-1",class:{"cloud-file-motion-zoom-in":n.isHovered,"cloud-file-motion-zoom-out":!n.isHovered},staticStyle:{"object-fit":"cover"},attrs:{src:n.previewURL,draggable:"false"},on:{contextmenu:function(t){return e.$emit("contextmenu")},error:function(e){n.isError=!0},mouseenter:function(e){n.isHovered=!0},mouseleave:function(e){n.isHovered=!1}}})}),[],!1,null,"3a9f531f",null).exports;var p=n(67159);const m=(0,i.aZ)({__name:"cloud-folder-item",props:{folderId:null,isTrashFolder:{type:Boolean}},setup(e){const t=e,{folderMap:n}=(0,p.nu)(),{refreshTrash:r,trash:o}=(0,p.tc)(),a=(0,i.iH)(!1),l=(0,i.Fl)((()=>{var e,i;return t.isTrashFolder?(null===(e=o.value[t.folderId])||void 0===e?void 0:e.fileItems)||[]:(null===(i=n.value[t.folderId])||void 0===i?void 0:i.fileItems)||[]})),d=(0,i.Fl)((()=>l.value?l.value.slice(0,3):[])),u=(0,i.Fl)((()=>Array.from({length:3},((e,t)=>t)).map((e=>{var t,n,i;const r=d.value[e];return r?(0,s.Y)().getThumbnailURL({fileId:r.fileId,version:null!==(i=null!==(n=null===(t=r.meta)||void 0===t?void 0:t.forceUpdateKey)&&void 0!==n?n:r.modifiedTime)&&void 0!==i?i:""}):""}))));return(0,i.bv)((()=>{t.isTrashFolder&&r(t.folderId)})),{__sfc:!0,props:t,folderMap:n,refreshTrash:r,trash:o,MAX_PREVIEW_FILES:3,isHovered:a,fileItems:l,previewFiles:d,previewURLs:u,handleThumbnailLoad:e=>{e.target.classList.add("loaded")}}}});n(21462);const f=(0,u.Z)(m,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"folder-container uk-width-1-1 uk-height-1-1 uk-position-relative",on:{mouseenter:function(e){n.isHovered=!0},mouseleave:function(e){n.isHovered=!1}}},e._l(n.previewURLs,(function(e,i){return t("div",{staticClass:"uk-position-absolute preview-item",class:{[`preview-item-${i+1}`]:!0,"middle-file-motion-enter":n.isHovered&&0===i,"middle-file-motion-leave":!n.isHovered&&0===i,"left-file-motion-move-left":n.isHovered&&1===i,"left-file-motion-move-back":!n.isHovered&&1===i,"right-file-motion-move-right":n.isHovered&&2===i,"right-file-motion-move-back":!n.isHovered&&2===i},attrs:{"data-src":e,"uk-img":""},on:{load:n.handleThumbnailLoad}})})),0)}),[],!1,null,"f3dfad82",null).exports;const v=(0,i.aZ)({__name:"local-file-item",props:{src:null},setup:e=>({__sfc:!0,isHovered:(0,i.iH)(!1)})});n(22074);const h=(0,u.Z)(v,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("img",{staticClass:"uk-width-1-1 uk-height-1-1 preview-item",class:{"local-file-motion-zoom-in":n.isHovered,"local-file-motion-zoom-out":!n.isHovered},attrs:{src:e.src,tabindex:"-1",draggable:"false"},on:{mouseenter:function(e){n.isHovered=!0},mouseleave:function(e){n.isHovered=!1}}})}),[],!1,null,"59f236d3",null).exports,g=(0,i.aZ)({__name:"index",props:{itemIdPrefix:{default:""},selectItemId:{default:""},previews:null,isShowLabel:{type:Boolean,default:!1},selectFirst:{type:Boolean,default:!1},title:{default:""},isLoading:{type:Boolean,default:!1},previewContainerStyle:null},emits:["select","submit","contextmenu","contextmenu-blank","load-more","sticky"],setup(e,{emit:t}){const n=e,l=(0,i.iH)(null),s=(0,i.iH)(null),d=(0,i.iH)(!1),u=(0,i.iH)(!0),p=(0,i.Fl)((()=>!n.previews.length)),m=e=>{l.value=e,t("select",e)};return(0,i.bv)((()=>{n.selectFirst&&m(n.previews[0]&&n.previews[0].items[0])})),(0,i.YP)((()=>[n.selectItemId,n.previews]),(([e])=>{if(e){const t=n.previews.flatMap((e=>e.items)).find((t=>t.id===e));t&&m(t)}}),{immediate:!0}),{__sfc:!0,props:n,emit:t,selectedItem:l,container:s,titleBarSticky:d,atTop:u,isPreviewItemsEmpty:p,handleSelectItem:m,handleSubmit:()=>{t("submit",l.value)},handleScrollTop:({visible:e})=>{u.value=e},handleScrollBottom:({visible:e})=>{e&&t("load-more")},handleTitleBarVisible:({visible:e})=>{d.value=!e,t("sticky",!e)},getFileNameDisplay:r.Uy,VisibilitySensor:o.Z,SpinnerSkeletonGrid:a.Z,CloudThumbnailItem:c,CloudFolderItem:f,LocalFileItem:h}}});n(40868);const x=(0,u.Z)(g,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{ref:"container",staticClass:"uk-height-1-1 uk-flex uk-flex-column",on:{contextmenu:function(e){return n.emit("contextmenu-blank")}}},[t(n.VisibilitySensor,{staticClass:"uk-width-1-1",on:{change:n.handleScrollTop}}),e._v(" "),e._t("header"),e._v(" "),e.title?t("div",{staticClass:"uk-flex uk-flex-between uk-flex-bottom title-bar",class:{"title-bar-sticky":n.titleBarSticky}},[t("span",{staticClass:"uk-flex uk-width-expand uk-flex-middle"},[e._t("title-before"),e._v(" "),t("h1",{staticClass:"uk-margin-remove uk-text-truncate typography-headline-small"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),e._t("title-after")],2),e._v(" "),e._t("title-bar-right")],2):e._e(),e._v(" "),e._t("preview-before"),e._v(" "),t("div",{staticClass:"uk-height-expand uk-overflow-overlay",staticStyle:{padding:"20px 24px 24px"},style:e.previewContainerStyle},[e._t("preview-header"),e._v(" "),t("form",{staticClass:"uk-panel form-container",class:{"uk-height-1-1":e.isLoading||n.isPreviewItemsEmpty},on:{submit:function(e){return e.preventDefault(),n.handleSubmit.apply(null,arguments)}}},[t(n.VisibilitySensor,{attrs:{options:{root:n.container}},on:{change:n.handleTitleBarVisible}}),e._v(" "),t("div",{staticClass:"uk-height-1-1",attrs:{"uk-list-select":"","uk-traverse":"","data-traverse-mode":"nearest-item","data-item":".preview-item","data-form":"true"}},[e.isLoading?t("ul",{staticClass:"uk-margin-remove uk-padding-remove uk-height-1-1 preview-map-list"},e._l(16,(function(e){return t("li",{key:`skeleton-${e}`},[t(n.SpinnerSkeletonGrid)],1)})),0):n.isPreviewItemsEmpty?[e._t("placeholder")]:e._l(e.previews,(function(i){return[e.isShowLabel&&i.label?t("h3",{key:i.label,staticClass:"theme-category-name"},[e._v("\n            "+e._s(i.label)+"\n          ")]):e._e(),e._v(" "),t("ul",{staticClass:"uk-margin-remove uk-padding-remove preview-map-list"},[e._t("list-header",null,{tabindex:"-1"}),e._v(" "),e._l(i.items,(function(i){return t("li",{key:i.id},[t("div",{staticClass:"uk-flex uk-flex-column uk-flex-middle"},[t("div",{staticClass:"vk-card vk-size-large uk-padding-remove",class:{"is-active":i.id===(n.selectedItem&&n.selectedItem.id)},style:{"--card-width":"145px","--card-height":"93px"},attrs:{id:`${e.itemIdPrefix}${i.id}`,tabindex:"-1"},on:{click:function(e){return n.handleSelectItem(i)},dblclick:function(e){return e.preventDefault(),n.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"vk-card-inner",on:{contextmenu:function(t){return t.stopPropagation(),e.$emit("contextmenu",i)}}},[i.fromCloud&&"file"===i.type?t(n.CloudThumbnailItem,{attrs:{"file-id":i.id,version:i.forceUpdateKey??i.modifiedTime??""}}):i.fromCloud&&"folder"===i.type?t(n.CloudFolderItem,{attrs:{"folder-id":i.id,"is-trash-folder":i.isTrashFolder}}):t(n.LocalFileItem,{style:{"object-fit":"file"===i.type?"cover":"none"},attrs:{src:i.previewURL}})],1)]),e._v(" "),t("div",{staticClass:"uk-text-center uk-card-selectable-text uk-text-truncate uk-margin-small-top typography-body-medium",staticStyle:{width:"150px"},attrs:{title:n.getFileNameDisplay(i.name)}},[i.fileIcon?t("span",{attrs:{"uk-svg":"","data-src":i.fileIcon}}):e._e(),e._v("\n                  "+e._s(n.getFileNameDisplay(i.name))+"\n                ")]),e._v(" "),i.description?t("div",{staticClass:"preview-item-desc typography-caption-caption"},[e._v("\n                  "+e._s(i.description)+"\n                ")]):e._e()])])})),e._v(" "),e._t("list-footer")],2)]})),e._v(" "),t(n.VisibilitySensor,{attrs:{options:{root:n.container}},on:{change:n.handleScrollBottom}})],2)],1)],2),e._v(" "),e._t("footer")],2)}),[],!1,null,"3cd57d21",null).exports},44549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var i=n(2954),r=n(87141),o=n(54856),a=n(90435),l=n(67159),s=n(73679),d=n(27e3),u=n(57507),c=n(28534);const p=(0,i.aZ)({__name:"trash",props:{isActive:{type:Boolean}},setup(e){const t=e,n=(0,i.iH)(""),p=(0,i.Fl)((()=>(0,r.c7)().joinedTeams)),m=(0,i.iH)(!1),{isCurrentFolderInit:f,currentTrashFolder:v,currentTrashFolderId:h,currentTrashFolderName:g,trashFolderPathHistory:x,refreshTrash:b,intoTrashFolder:y,emptyTrash:_,restoreFromTrash:k,deleteFromTrash:w,backTrashFolder:I}=(0,l.tc)(),T=(0,r.JE)().T,C=(0,i.Fl)((()=>{var e,t;const i=null===(e=v.value)||void 0===e?void 0:e.folderItems,r=null===(t=v.value)||void 0===t?void 0:t.fileItems;if(!i&&!r)return[];const o=null==i?void 0:i.map((e=>({id:e.folderId,name:e.name,type:e.type,teamId:e.teamId,trashedDate:e.trashedDate,modifiedTime:e.modifiedTime,xmindId:e.xmindId,fromCloud:!0,isTrashFolder:!0}))),a=null==r?void 0:r.map((e=>{var t;return{id:e.fileId,name:e.name,type:e.type,teamId:e.teamId,trashedDate:e.trashedDate,modifiedTime:e.modifiedTime,forceUpdateKey:null===(t=e.meta)||void 0===t?void 0:t.forceUpdateKey,xmindId:e.xmindId,fromCloud:!0}}));if(!o.length&&!a.length)return[];const l=[...o,...a],s=n.value?l.filter((e=>e.name.includes(n.value))):l;return 0===s.length?[]:[{items:s}]})),S=(0,i.Fl)((()=>{var e;return(null===(e=x.value)||void 0===e?void 0:e.length)>1}));return(0,i.YP)((()=>[h.value,t.isActive]),(([e,t])=>{t&&b(e)}),{immediate:!0}),{__sfc:!0,props:t,searchContent:n,joinedTeams:p,isRefreshing:m,isCurrentFolderInit:f,currentTrashFolder:v,currentTrashFolderId:h,currentTrashFolderName:g,trashFolderPathHistory:x,refreshTrash:b,intoTrashFolder:y,emptyTrash:_,restoreFromTrash:k,deleteFromTrash:w,backTrashFolder:I,$T:T,previewItems:C,isShowGoBack:S,handleContextMenu:e=>{const t=p.value.some((t=>t.teamId===e.teamId&&"owner"===t.role)),n="file"===e.type;(0,u.k)([{label:T("Restore"),click:async()=>{let t="",i=!1;if(n){const{metadata:n}=await a.ZP.fetch(o.rM.GET_FILE_METADATA,{fileId:e.id});t=n.teamId;const{teammatePayload:r}=await a.ZP.fetch(o.rM.TEAMMATE_PAYLOAD,{teamId:t}).catch((e=>({teammatePayload:null})));i="owner"===(null==r?void 0:r.role)}k({fileIds:n?[e.id]:[],folderIds:n?[]:[e.id],teamId:t,isTeamOwner:i})}},{label:T("Delete"),click:()=>w({fileIds:n?[e.id]:[],folderIds:n?[]:[e.id]}),visible:t}].filter((e=>!1!==e.visible))).popup()},handleBlankContextMenu:()=>{var e,t;const n=!(null===(t=null===(e=C.value[0])||void 0===e?void 0:e.items)||void 0===t?void 0:t.length);(0,u.k)([{label:T("Refresh"),click:()=>{m.value=!0,b(h.value).finally((()=>{m.value=!1}))}},{label:T("Empty Trash"),click:_,visible:!n}].filter((e=>!1!==e.visible))).popup()},handlePreviewClick:e=>{"folder"===e.type&&y(e.id)},PreviewMaps:s.Z,PlaceholderNoFile:d.Z,MapSearch:c.Z}}});n(60991);const m=(0,n(51900).Z)(p,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.PreviewMaps,{attrs:{title:n.currentTrashFolderName,previews:n.previewItems,"from-cloud":!0,"is-loading":n.isCurrentFolderInit||n.isRefreshing},on:{submit:n.handlePreviewClick,contextmenu:n.handleContextMenu,"contextmenu-blank":n.handleBlankContextMenu},scopedSlots:e._u([{key:"title-bar-right",fn:function(){return[t(n.MapSearch,{attrs:{disabled:n.isCurrentFolderInit||n.isRefreshing},on:{change:function(e){n.searchContent=e}}})]},proxy:!0},{key:"preview-before",fn:function(){return[t("div",{staticClass:"trash-tip typography-caption-caption",staticStyle:{padding:"0 28px","margin-top":"8px"}},[e._v("\n      "+e._s(n.$T("Folders and maps are available for 30 days. After that time, they will be permanently deleted."))+"\n    ")])]},proxy:!0},{key:"title-before",fn:function(){return[t("button",{directives:[{name:"show",rawName:"v-show",value:n.isShowGoBack,expression:"isShowGoBack"}],staticClass:"vk-button-tile uk-margin-small-right",on:{click:n.backTrashFolder}},[t("span",{attrs:{"uk-icon":"icon: chevron-backward;"}})])]},proxy:!0},{key:"placeholder",fn:function(){return[t(n.PlaceholderNoFile,{staticStyle:{"margin-top":"-23px"}})]},proxy:!0}])})}),[],!1,null,null,null).exports},4321:(e,t,n)=>{var i=n(43240);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("19fa9b8f",i,!0,{})},21462:(e,t,n)=>{var i=n(99858);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("ac660d4c",i,!0,{})},66770:(e,t,n)=>{var i=n(71683);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("199cd804",i,!0,{})},40868:(e,t,n)=>{var i=n(52212);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("2c728eae",i,!0,{})},22074:(e,t,n)=>{var i=n(82863);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("8d840518",i,!0,{})},60991:(e,t,n)=>{var i=n(69960);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("31b67051",i,!0,{})}}]);