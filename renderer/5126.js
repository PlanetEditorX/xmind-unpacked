"use strict";(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[5126],{57390:(e,t,a)=>{a.d(t,{J3:()=>i,M7:()=>c,QC:()=>d});var s=a(51189),n=a(2954),l=a(87141);function i(){const e=(0,n.iH)((0,l.Fw)().userConfig.autoChecked);return(0,n.YP)(e,(e=>{e||(0,l.Fw)().setAction({type:s._Q.UPDATE_AUTO_CHECKED,payload:!1})}),{immediate:!1}),{checked:e,trySetAutoUpdateType:function(){e.value&&(0,l.S)().updatePreferences({autoUpdateType:"auto"})}}}function c(){let e=null;const t=new Promise((t=>{e=t})),a=(0,n.YP)((()=>(0,l.Fw)().status),(t=>{t===s.A8.INSTALLED&&(e(),a())}));return{whenInstalled:t}}const o={small:[540,371],big:[640,570]};function d(e){const[t,a]=o[e];(0,l.JX)().handleCommand("setWindowSize",{id:window.id,width:t,height:a})}},15126:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(2954),n=a(57390),l=a(51189),i=a(18742),c=a(18621),o=a(87141);const d=(0,s.aZ)({components:{UpdateDesc:i.Z},setup(){(0,n.QC)("big");const e=(0,o.Fw)().openedByUser;let t=(0,s.iH)(!1),a=(0,s.iH)(!1),i=(0,s.iH)(!1);const{checked:d,trySetAutoUpdateType:u}=(0,n.J3)(),{whenInstalled:r}=(0,n.M7)();function v(){e||u()}function k(e){setTimeout((async()=>{await e(),window.close()}))}return{skip:function(){const e=(0,o.Fw)().version.url||"";k((()=>{(0,o.Fw)().setAction({type:l._Q.SKIP_VERSION,payload:e}),(0,c.L9)({eventAction:"updateReminder",eventName:"skipUpdate"})}))},checked:d,openedByUser:e,installNext:function(){v(),k((()=>(a.value=!0,t.value=!0,(0,o.Fw)().setAction({type:l._Q.INSTALL_NEXT_TIME}),(0,c.L9)({eventAction:"updateReminder",eventName:"installNextLaunch"}),r)))},installNow:function(){v(),k((()=>(i.value=!0,t.value=!0,(0,o.Fw)().setAction({type:l._Q.INSTALL_NOW}),(0,c.L9)({eventAction:"updateReminder",eventName:"installNow"}),r)))},isWaitingForInstall:t,installRelaunchClicked:a,installNowClicked:i}}});const u=(0,a(51900).Z)(d,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"uk-height-1-1 uk-flex uk-flex-column uk-flex-between"},[t("div",[t("div",{staticClass:"title title-top"},[e._v("\n      "+e._s(e.$T("Your Update is Ready to Install"))+"\n    ")]),e._v(" "),t("update-desc")],1),e._v(" "),e.openedByUser?t("div",{staticClass:"action-area"},[t("div",{staticClass:"uk-flex uk-flex-right"},[t("button",{staticClass:"vk-button-secondary vk-size-small",attrs:{disabled:e.installNowClicked},on:{click:e.installNow}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.installNowClicked&&e.isWaitingForInstall,expression:"installNowClicked && isWaitingForInstall"}],attrs:{"uk-spinner":"ratio: 0.6"}}),e._v("\n        "+e._s(e.$T("Relaunch to Install"))+"\n      ")])])]):t("div",{staticClass:"action-area"},[t("div",{staticClass:"auto-install-checkbox"},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"vk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var a=e.checked,s=t.target,n=!!s.checked;if(Array.isArray(a)){var l=e._i(a,null);s.checked?l<0&&(e.checked=a.concat([null])):l>-1&&(e.checked=a.slice(0,l).concat(a.slice(l+1)))}else e.checked=n}}}),e._v("\n        "+e._s(e.$T("Automatically install future updates"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-between"},[t("div",[t("button",{staticClass:"vk-button-default vk-size-small",attrs:{disabled:e.installRelaunchClicked},on:{click:e.installNext}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.installRelaunchClicked&&e.isWaitingForInstall,expression:"installRelaunchClicked && isWaitingForInstall"}],attrs:{"uk-spinner":"ratio: 0.6"}}),e._v("\n          "+e._s(e.$T("Install on Next Launch"))+"\n        ")])]),e._v(" "),t("div",[t("button",{staticClass:"vk-button-secondary vk-size-small",attrs:{disabled:e.installNowClicked},on:{click:e.installNow}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.installNowClicked&&e.isWaitingForInstall,expression:"installNowClicked && isWaitingForInstall"}],attrs:{"uk-spinner":"ratio: 0.6"}}),e._v("\n          "+e._s(e.$T("Install Now"))+"\n        ")])])])])])}),[],!1,null,null,null).exports},18742:(e,t,a)=>{a.d(t,{Z:()=>c});var s=a(2954),n=a(87141),l=a(5893);const i=(0,s.aZ)({setup:()=>({updateDescPath:(0,l.u3)(`${(0,n.Fw)().version.updateDescPath}/index.html`)})});const c=(0,a(51900).Z)(i,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"update-desc"},[t("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.updateDescPath,frameborder:"0"}})])}),[],!1,null,null,null).exports}}]);