(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[7746,9891],{80102:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(23645),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,".spinner-container[data-v-14a8e261] {\n  margin-top: -16px;\n}\n.spinner-image[data-v-14a8e261] {\n  width: 48px;\n  height: 48px;\n}\n.spinner-text[data-v-14a8e261] {\n  margin-top: 8px;\n}\n",""]);const r=o},14594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(23645),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,"#app[data-v-fe0e3c9a] {\n  display: flex;\n  flex-direction: column;\n}\nmain[data-v-fe0e3c9a] {\n  padding: 16px;\n  flex-grow: 1;\n  overflow: overlay;\n}\n.image-viewer[data-v-fe0e3c9a] {\n  object-fit: contain;\n  transition: all 0.1s;\n}\n.loading-spinner[data-v-fe0e3c9a] {\n  z-index: 99;\n  position: absolute;\n  overflow: hidden;\n}\n.loading-spinner .spinner-container[data-v-fe0e3c9a] {\n  margin: auto;\n}\n.vk-window-control-button-group[data-v-fe0e3c9a] {\n  width: auto;\n  height: 100%;\n}\n",""]);const r=o},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);i&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},24323:(e,t,n)=>{"use strict";n.r(t);var i=n(59042),o=n(2954),r=n(67657),a=n(49891);var s=n(90435),c=n(54856),d=n(63111);const l=()=>({width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}),u=(e,t,n,i)=>{const o=t+n,r=(n-i)/2;if(n>i){if(t>0)return{[e]:r};if(t<0&&o<i)return{[e]:-r}}else if(t<0||o>i)return{[e]:t<0?r:-r};return{}},p=(0,o.aZ)({__name:"app",setup(e){let t=new URLSearchParams(window.location.search);const n=(0,o.iH)(t.get("imageUrl"));let i=!1,p={deltaX:0,deltaY:0,transformX:0,transformY:0};const v=(0,o.iH)(null),m=e=>{n.value=e},f=(0,o.iH)(!0),w=e=>{f.value=e},h=(0,o.iH)({scale:1,x:0,y:0}),g=e=>{h.value={...h.value,...e}},y=(0,o.Fl)((()=>({transform:`translate3d(${h.value.x}px,${h.value.y}px, 0px ) scale3d(${h.value.scale}, ${h.value.scale}, 1)`})));let b=s.ZP.route(c.RV,(async({imageUrl:e,imageSize:t,title:n})=>{w(!0);const i=function(){let e;const t=r.screen.getAllDisplays();if(1===t.length)e=t[0];else{if(!e){const t=r.BrowserWindow.getFocusedWindow();t&&(e=r.screen.getDisplayMatching(t.getBounds()))}e||(e=r.screen.getPrimaryDisplay(),!e&&t.length>1&&(e=t[0]))}return e}();let o=t;o.width=Math.min(o.width,i.size.width*d.Mb),o.width=Math.max(o.width,i.size.width*d.bc),o.height=Math.min(o.height,i.size.height*d.Mb),o.height=Math.max(o.height,i.size.height*d.bc);const a=(0,r.getCurrentWindow)();window.resizeTo(o.width,o.height),a.center(),a.show(),a.focus(),a.setTitle(n);const s=new URLSearchParams(window.location.search);s.set("imageUrl",e),s.set("imageWidth",t.width),s.set("imageHeight",t.height),s.set("title",n);const c=`${window.location.pathname}?${s.toString()}`;history.pushState(null,"",c),m(e),g({scale:1,x:0,y:0})}));const k=e=>{(0,r.getCurrentWindow)().isFocused()&&["Space","Escape"].includes(e.code)&&window.close()};(0,o.Jd)((()=>{b&&(b(),b=null),window.removeEventListener("keydown",k)})),(0,o.bv)((()=>{if(!v.value)return;const e=(0,r.getCurrentWindow)();e.setTitle(t.get("title")),e.focus(),window.addEventListener("keydown",k)}));const L=(e,t,n)=>{const{width:i,height:o,offsetWidth:r,offsetHeight:a,offsetLeft:s,offsetTop:c}=v.value;let d=e,u=h.value.scale*e;u>3?(d=3/h.value.scale,u=3):u<1&&(d=1/h.value.scale,u=1);const p=null!=t?t:innerWidth/2,m=null!=n?n:innerHeight/2,f=d-1,w=f*i*.5,y=f*o*.5,b=f*(p-h.value.x-s),k=f*(m-h.value.y-c);let L=h.value.x-(b-w),x=h.value.y-(k-y);if(e<1&&1===u){const e=r*u,t=a*u,{width:n,height:i}=l();e<=n&&t<=i&&(L=0,x=0)}g({x:L,y:x,scale:u})};return{__sfc:!0,BASE_SCALE_RATIO:1,MAX_SCALE_RATIO:3,MIN_SCALE_RATIO:1,WHEEL_MAX_SCALE_RATIO:1,SCALE_STEP:.2,searchParams:t,imageUrl:n,isMoving:i,downPosition:p,imageElement:v,updateImageUrl:m,isImageLoading:f,updateIsImageLoading:w,transform:h,updateTransform:g,imageElementStyle:y,unroute:b,onKeyDown:k,dispatchZoomChange:L,handleWheel:e=>{if(0==e.deltaY)return;const t=Math.abs(e.deltaY/100);let n=1+.2*Math.min(t,1);e.deltaY>0&&(n=1/n),L(n,e.clientX,e.clientY)},handleStartMove:e=>{0===e.button&&(p={deltaX:e.pageX-h.value.x,deltaY:e.pageY-h.value.y,transformX:h.value.x,transformY:h.value.y},i=!0)},handleOnMove:e=>{i&&g({x:e.pageX-p.deltaX,y:e.pageY-p.deltaY})},handleStopMove:()=>{if(!i)return;i=!1;const{x:e,y:t,scale:n}=h.value,{transformX:o,transformY:r}=p;if(!(e!==o&&t!==r))return;const a=v.value.offsetWidth*n,s=v.value.offsetHeight*n,{left:c,top:d}=v.value.getBoundingClientRect(),m=((e,t,n,i)=>{const{width:o,height:r}=l();let a=null;return e<=o&&t<=r?a={x:0,y:0}:(e>o||t>r)&&(a={...u("x",n,e,o),...u("y",i,t,r)}),a})(a,s,c,d);m&&g({...m})},onImageLoadFinished:()=>{setTimeout((()=>{w(!1)}),200)},Spinner:a.default}}});n(54023);const v=(0,n(51900).Z)(p,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"vk-window-default uk-flex uk-flex-column",staticStyle:{border:"none"},attrs:{id:"app"}},[n.isImageLoading?t(n.Spinner,{staticClass:"loading-spinner uk-width-1-1 uk-height-1-1",attrs:{text:e.$T("Loading...")}}):e._e(),e._v(" "),t("div",{staticClass:"vk-window-title-bar uk-width-1-1 uk-flex uk-flex-center uk-flex-middle uk-background-default"},[t("window-control-button-group")],1),e._v(" "),t("main",{ref:"container",staticClass:"uk-flex uk-flex-center uk-flex-middle uk-width-1-1",on:{wheel:function(e){return e.preventDefault(),e.stopPropagation(),n.handleWheel.apply(null,arguments)},mousedown:function(e){return e.preventDefault(),e.stopPropagation(),n.handleStartMove.apply(null,arguments)},mousemove:function(e){return e.preventDefault(),e.stopPropagation(),n.handleOnMove.apply(null,arguments)},mouseup:function(e){return e.preventDefault(),e.stopPropagation(),n.handleStopMove.apply(null,arguments)},mouseleave:function(e){return e.preventDefault(),e.stopPropagation(),n.handleStopMove.apply(null,arguments)}}},[t("img",{ref:"imageElement",staticClass:"uk-height-1-1 uk-width-1-1 image-viewer",style:n.imageElementStyle,attrs:{src:n.imageUrl,draggable:"false"},on:{load:n.onImageLoadFinished}})])],1)}),[],!1,null,"fe0e3c9a",null).exports;(0,i.Z)(v,{name:"image-viewer"})},59042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>we});var i=n(47311),o=n(23352),r=n(90435);const a=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",s=(0,o.ZP)(`error:${a}`),c=new i.q(s,{ipc:r.ZP});window.addEventListener("error",(function(e){const t=e.error;t&&c.handle(t)})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason;t&&c.handle(t)}));const d=c;var l=n(2954),u=n(63477),p=n.n(u),v=n(72298),m=n(67657),f=n(13780),w=n.n(f),h=n(30266),g=n(86396),y=n(31945),b=n(54856),k=n(73884),L=n(28914),x=n(56222),A=n(79409),P=n(65114),S=n(77412);const Z={install(e){const t="vana-ref";e.directive(t,{bind:function(e,t,n){t.value(n.componentInstance||e,n.key)},update:function(e,n,i,o){if(o.data&&o.data.directives){var r=o.data.directives.find((function(e){return e.name===t}));if(r&&r.value!==n.value)return r&&r.value(null,o.key),void n.value(i.componentInstance||e,i.key)}i.componentInstance===o.componentInstance&&i.elm===o.elm||n.value(i.componentInstance||e,i.key)},unbind:function(e,t,n){t.value(null,n.key)}})}};var E=n(87141);const C={install(e){e.prototype.$T=function(e,...t){return(0,E.JE)().T(e,...t)}}};var _=n(96829);const N=(0,o.ZP)("safe-runner");const T=class{constructor(e){this.errorHandler=e}_handleError(e){"function"==typeof this.errorHandler?this.errorHandler(e):N.error((0,_.SC)(e))}install(e){const t=this;e.prototype.$safeRun=function(e){try{let n=e();return n&&n.then&&n.catch?n.then((e=>e)).catch((e=>t._handleError(e))):n}catch(e){t._handleError(e)}}}};var I=n(69931);const F={install(e){e.prototype.$toResourceURL=(...e)=>(0,I.ju)(...e).replace("(","%28").replace(")","%29"),e.prototype.$loadResource=I.zD}};var z=n(53775),M=n(59474);var $=n(30247),R=n(2563),D=n(65428);const J=(0,o.ZP)("font");var O=n(22037),j=n.n(O),H=n(38629);const q=(0,o.ZP)("performance");function B(e){e?document.body.style.setProperty("--uk-system-accent-color",e):document.body.style.removeProperty("--uk-system-accent-color")}var W=n(63111),X=n(18621),Y=n(69297),U=n(20993);const V={start:()=>{const e=(0,M.i)();e.startJob();const t=(0,l.YP)((()=>e.pendingJobs),(n=>{n>0||(t(),e.markReady())}));setTimeout((()=>e.endJob()),0)}},G=(()=>{const e=[],t=new Map;return{start:()=>{const e=(0,M.i)();e.startJob(),r.ZP.fetch(b.de).then((t=>{Object.keys(t).forEach((e=>{var n;const i=(0,E.F_)(e);null===(n=null==i?void 0:i())||void 0===n||n.$patch(t[e])})),k.Z.on(P.Md,(e=>{e.forEach((({id:e,state:t})=>{var n;const i=(0,E.F_)(e);null===(n=null==i?void 0:i())||void 0===n||n.$patch((0,l.qj)(t))}))})),e.endJob()}))},plugin:n=>{(0,E.W$)(n.store.$id)&&n.store.$subscribe(((i,o)=>{if(n.store.$id!==i.storeId)return;const a=t.get(i.storeId);t.set(i.storeId,!0),(null===window||void 0===window?void 0:window.isEditorFrame)||a&&i.type!==S.x1.patchObject&&(0,E.W$)(i.storeId)&&(e.push({id:i.storeId,state:JSON.parse(JSON.stringify(o))}),Promise.resolve().then((()=>{r.ZP.fetch(b.w6,{states:e}),e.length=0})))}))}}})(),Q={start:()=>{(0,D.r)();const e=(0,I.ju)("/static/snowbird/resource/"),t=function(){const e={};return $.Fy(((t,n)=>{e[t]=n.map((e=>({...e,family:t})))})),e}(),n=Object.values(t).flat().map((t=>function({family:e,src:t,italic:n,weight:i,"unicode-range":o},r){const a=new URL(t,r).href;let s={family:e,source:`url("${a}")`,url:a};return void 0!==n&&(s={...s,style:n?"italic":"normal"}),void 0!==i&&(s={...s,weight:i.toString()}),void 0!==o&&(s={...s,unicodeRange:o}),s}(t,e)));!function(e){Promise.all(e.map((({family:e,source:t,...n})=>{const i=new FontFace(e,t,n);return i.load().then((()=>{document.fonts.add(i)})).catch((()=>{J.error("Failed to load css font from",t)}))})))}(n),function(){const e=document.createElement("style"),t=$.Hn();e.innerHTML=t,document.head.appendChild(e),document.body.style.setProperty("--info-button-font",$.o6)}(),(0,R.O)().updateBuiltinFontFamilies(Array.from(new Set(Object.keys(t))))}},K={start:()=>{const e=(0,M.i)(),{_apr:t,_acc:n}=p().parse(location.search.slice(1));t&&(e.startJob(),q.debug("About to load CSS using _apr query parameter:",t),(0,H.Z)(t,(()=>{q.debug("Loaded CSS using _apr query parameter:",t),setTimeout((()=>{e.endJob()}),10)}))),n&&B(n),"darwin"===j().platform()&&parseFloat(j().release())>=20&&document.body.classList.add("uk-darwin-bigsur"),(0,l.YP)((()=>(0,E.S)().language),((e,t)=>{t&&document.body.classList.remove(`uk-lang-${t}`),e&&document.body.classList.add(`uk-lang-${e}`)}));const i=(0,l.YP)((()=>(0,M.i)().ready),(e=>{e&&(i(),(0,l.YP)((()=>[(0,E.S)().appearance,(0,R.O)().ignoreAppearanceChanged]),(([e,t])=>{t||(0,H.Z)(e)})),(0,l.YP)((()=>(0,E.qr)().systemAccentColor),(e=>B(e))),(0,l.YP)((()=>(0,E.S)().systemScrollbarSetting),(e=>function(e){const t="vk-scrollbar";document.body.classList.forEach((e=>{e.startsWith(t)&&document.body.classList.remove(e)})),document.body.classList.add(`${t}-${(e||"always").toLowerCase()}`)}(e)),{immediate:!0}))}))}},ee={start:()=>{W.nd&&W.qu.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>(async()=>(await r.ZP.fetch(b.QN),"interruption"))()))})),Object.keys(W.JN).concat(Object.keys(W.oF)).forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{const t=(0,E.JX)().commandById(e);return(null==t?void 0:t.provider)?(async(e,t)=>{if(!await r.ZP.fetch(b.Gy,{name:e,channel:(0,b.gk)(t)}))return"interruption"})(e,t.provider):"interruption"}))})),W.ZK.forEach((e=>{(0,E.JX)().appendAfterHandler(e,(()=>{const t=e.split(".")[1];(0,X.L9)({eventCategory:"Edit",eventAction:t,eventValue:1})}))})),W.ff.forEach((e=>{(0,E.JX)().appendAfterHandler(e,(()=>{(0,X.L9)({eventCategory:"Share",eventAction:e,eventValue:1})}))})),W.y_.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{(0,Y.Kl)()}))})),W.xk.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{(0,Y.fv)()}))})),W.wp.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{(0,Y.nz)()}))})),(0,E.JX)().appendAfterHandler("editor.addTodo",U.l5),(0,E.JX)().appendAfterHandler("editor.cancelTask",U.DY),(0,E.JX)().appendAfterHandler("editor.checkTodo",(()=>{(0,U.fR)("checkTask")})),(0,E.JX)().appendAfterHandler("editor.uncheckTodo",(()=>{(0,U.fR)("uncheckTask")})),W.QL.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{if((0,E.si)().contexts["collaboration.isReadOnly"])return"interruption"}))})),W.gY.forEach((e=>{(0,E.JX)().appendBeforeHandler(e,(()=>{if((0,E.si)().contexts["collaboration.isFromCloud"])return"interruption"}))}))}},te={start:()=>{const e=(0,M.i)();e.startJob(),(0,E.JX)().injectDoHandleCommand((async(e,t)=>r.ZP.fetch(b.hR,{commandId:e,handlerArgs:t}))),e.endJob()}},ne=[G.plugin];var ie=n(7710);const oe=p().parse(window.location.search.slice(1)),re=!0,ae=!!oe.isBrowserView,se=!!oe.isEditorFrame;let ce=m.getCurrentWindow;ae&&(ce=function(){const e=L.Z.sendSync("get-current-window-id");return m.BrowserWindow.fromId(parseInt(e))});const de=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",le=(0,o.ZP)("performance"),ue=(0,o.ZP)("sentry");le.debug("Initializing page:",de),v.webFrame.setVisualZoomLevelLimits(1,1),document.body.classList.add("uk-win32"),Object.defineProperty(window,"id",{get:()=>ce().id}),window.getWindowIdAsync=async()=>await(0,x.A)("get-current-window-id");window.getCurrentWindowAsync=async()=>{const e=await window.getWindowIdAsync();return m.BrowserWindow.fromId(parseInt(e))},window.isEditorFrame=se;const pe=l.ZP.observable({isBeingDestroyed:!1,isDestroyed:!1,isShown:!1});["isBeingDestroyed","isDestroyed","isShown"].forEach((e=>{Object.defineProperty(window,e,{get:()=>pe[e],set(t){pe[e]=t}})})),window.show=()=>{ce().show()},window.hide=()=>{ce().hide()},window.close=()=>{ce().close()},window.minimize=()=>{ce().minimize()},window.maximize=()=>{ce().maximize()},window.restore=()=>{ce().unmaximize()},window.isMinimized=()=>ce().isMinimized(),window.isMaximized=()=>ce().isMaximized(),window.isFullScreen=()=>ce().isFullScreen(),window.resizeTo=(e,t)=>{ce().setContentSize(e,t)},window.resizeBy=(e,t)=>{let[n,i]=ce().getContentSize();ce().setContentSize(n+e,i+t)},window.moveTo=(e,t)=>{ce().setPosition(e,t)},window.moveBy=(e,t)=>{let[n,i]=ce().getPosition();ce().setPosition(n+e,i+t)},k.Z.on("window-maximize",(()=>{document.body.classList.add("uk-window-maximized"),window.dispatchEvent(new Event("maximize"))})),k.Z.on("window-unmaximize",(()=>{document.body.classList.remove("uk-window-maximized"),window.dispatchEvent(new Event("restore"))})),k.Z.on("window-minimize",(()=>{window.dispatchEvent(new Event("minimize"))})),k.Z.on("window-unminimize",(()=>{window.dispatchEvent(new Event("unminimize"))})),k.Z.on("window-focus",(()=>{document.body.classList.remove("uk-window-inactive")})),k.Z.on("window-blur",(()=>{document.body.classList.add("uk-window-inactive")})),k.Z.on("window-enter-full-screen",(()=>{document.body.classList.add("uk-window-full-screen"),window.dispatchEvent(new Event("enter-full-screen"))})),k.Z.on("window-leave-full-screen",(()=>{document.body.classList.remove("uk-window-full-screen"),window.dispatchEvent(new Event("leave-full-screen"))})),k.Z.on("window-sheet-begin",(()=>{document.body.classList.add("uk-disabled"),window.dispatchEvent(new Event("sheet-begin"))})),k.Z.on("window-sheet-end",(()=>{document.body.classList.remove("uk-disabled"),window.dispatchEvent(new Event("sheet-end"))})),k.Z.on("window-show",(()=>{window.dispatchEvent(new Event("window-show"))})),k.Z.on(P.$r,(e=>{(0,ie.l)().setQuery(e)}));const ve=ce&&ce();if(ve&&ve.isMaximized()&&document.body.classList.add("uk-window-maximized"),ve&&ve.isFullScreen()&&document.body.classList.add("uk-window-full-screen"),ve&&!ve.isFocused()&&document.body.classList.add("uk-window-inactive"),document.addEventListener("keydown",(e=>{27===e.keyCode&&document.body.querySelector(".uk-window-dialog")&&setTimeout((()=>{if(e.defaultPrevented)return;const t=new Event("close");window.dispatchEvent(t)&&window.close()}),0)})),ve&&ve.isMaximizable&&ve.isMaximizable()){const e=["a","button","select","input"];document.addEventListener("dblclick",(t=>{const{target:n,defaultPrevented:i}=t;if(i)return;let o=n;for(;o&&"function"==typeof o.matches;){if(e.some((e=>o.matches(e))))return;o=o.parentNode}let r=document.querySelector(".vk-window-title-bar-expanded")||document.querySelector(".vk-window-title-bar");r&&r.contains(n)&&(window.isMaximized()?window.restore():window.maximize())}))}l.ZP.use(S.og),l.ZP.use(new T((e=>d.handle(e)))),l.ZP.use(w()),l.ZP.use(C),l.ZP.use(F),l.ZP.use(Z),l.ZP.use(h.ZP.Plugin),le.debug("Initialized page:",de);const me=(0,S.WB)();(0,S.uX)(me),ne.forEach((e=>me.use(e))),Object.values(E.rx).forEach((e=>e())),V.start(),G.start(),Q.start(),K.start(),ee.start(),te.start();const fe=(0,A.Z)("version").includes("beta");if(process.env.SENTRY_DSN_OF_BROWSER&&fe){const e=(0,l.YP)((()=>(0,E.qr)().sentryConfig),(t=>{e();try{const e=t[process.env.SENTRY_PROJECT_OF_BROWSER]||{};g.S({Vue:l.ZP,dsn:process.env.SENTRY_DSN_OF_BROWSER,environment:"production",...e}),ue.info("init",e)}catch(e){ue.error("Failed to init sentry",e)}}),{immediate:!1})}async function we(e,{mountTarget:t="#app",name:n=null,plugins:i=[],runAfterPiniaPlugin:o,editorId:a=null,autoShow:s=!0}={}){le.debug("Bootstrapping:",de);for(let e of i)l.ZP.use(e);let c;return(0,E._t)((0,y.b3)(window.id)),"dialog-err"===n&&(0,E.VE)((0,y.zN)("dialog-err",window.id)),"dialog-problem"===n&&(0,E.ym)((0,y.zN)("dialog-problem",window.id)),a&&(0,E.OD)((0,y.aJ)(a)),await new Promise((n=>{let i=(0,l.YP)((()=>(0,M.i)().ready),(a=>{a&&(i(),document.body.classList.add(`uk-lang-${(0,E.S)().language}`),o?.(me),le.debug("About to create Vue instance:",de),c=new l.ZP({...e,pinia:me}),le.debug("Created Vue instance:",de),window.addEventListener("unload",(()=>{window.isBeingDestroyed=!0,c.$destroy(),window.isDestroyed=!0})),le.debug("About to mount Vue instance:",de),c.$mount(t||"#app"),le.debug("Mounted Vue instance:",de),(0,z.qJ)().then((async()=>{if(!s)return;const e=await window.getWindowIdAsync();!re&&await r.ZP.fetch((0,b.EV)(e),"show"),re&&await r.ZP.fetch((0,b.EV)(e),"moveToShow"),window.isShown=!0})),n(c))}))})),c}},94593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81296),o=n.n(i);const r=(0,n(23352).ZP)("ipc:proxy:"),a=new Proxy(o(),{get(e,t){let n=Reflect.get(e,t);return"function"==typeof n?(...i)=>{if(!window.isDestroyed)return n.apply(e,i);r.error(`window has been destroyed, we should not invoke fsp.${t})`)}:n}})},56222:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(72298);let o=0;function r(e,t){return new Promise((n=>{const r=o++;i.ipcRenderer.once(`internal-ipc-api-reply:${e}:${r}`,((e,{data:t=null})=>{n(t)})),i.ipcRenderer.send(`internal-ipc-api:${e}`,{payload:t,seq:r})}))}},28914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(72298);const o=(0,n(23352).ZP)("ipc:proxy:"),r=new Proxy(i.ipcRenderer,{get(e,t){let n=Reflect.get(e,t);return"function"==typeof n?(...i)=>{if(!window.isDestroyed)return n.apply(e,i);o.error(`window has been destroyed, we should not invoke ipcRenderer.${t} with args (${JSON.stringify(i)})`)}:n}})},90435:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c,he:()=>s});var i=n(96829),o=n(28914);const r=new Map;let a=0;function s(e,t){const n=r.get(e);return n?Promise.resolve().then((()=>n(t))):new Promise(((n,r)=>{const s=a++;o.Z.once(`ipc-api-reply:${e}:${s}`,((e,{error:t=null,data:o=null})=>{t?r((0,i.aq)(t)):n(o)})),o.Z.send(`ipc-api:${e}`,{payload:t,seq:s})}))}const c={fetch:s,route:function(e,t){if("function"!=typeof t)throw new Error(`IPC API "${e}" is routed to invalid handler: ${typeof t}`);if(r.has(e))throw new Error(`IPC API "${e}" is routed twice`);const n=`ipc-api:${e}`;if(o.Z.eventNames().includes(n))throw new Error(`IPC API "${e}" is routed twice`);const a=(n,{payload:r=null,seq:a=0}={})=>{const s=`ipc-api-reply:${e}:${a}`;Promise.resolve().then((()=>t(r))).then((e=>{o.Z.send(s,{data:e})})).catch((e=>{o.Z.send(s,{error:(0,i.SC)(e)})}))};return r.set(e,t),o.Z.on(n,a),o.Z.send("ipc-api-register",{apiName:e}),()=>{o.Z.send("ipc-api-unregister",{apiName:e}),o.Z.removeListener(n,a),r.delete(e)}}}},23352:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d});var i=n(82134),o=n(96829),r=n(79409),a=n(72298);const s=new i.Jq(global.console,{colorful:!1}),c=new i.Yd({isDebugging:(0,r.Z)("version").indexOf("-alpha")>=0||(0,r.Z)("version").indexOf("-dev")>=0||o.x,handle(e){s.handle(e),function(e){a.ipcRenderer.send("logger:handleLogEvent",e)}(e)}}),d=(e=null)=>c.logger(e)},79409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(71017),o=n.n(i),r=n(57147),a=n.n(r),s=n(7104);let c=null;function d(e=null){return c||(c=JSON.parse(a().readFileSync(o().join((0,s.bY)(),"package.json")))),e?c[e]:c}},69931:(e,t,n)=>{"use strict";n.d(t,{Al:()=>u,ju:()=>c,pP:()=>d,zD:()=>l});var i=n(71017),o=n.n(i),r=n(94593),a=n(7104),s=n(5893);function c(e){return(0,s.u3)(o().join((0,a.bY)(),e))}function d(e){return(0,s.u3)(o().join((0,a.D8)(),e))}function l(e){return r.Z.readFile(o().join((0,a.bY)(),e))}const u=(...e)=>c(...e).replace("(","%28").replace(")","%29")},73884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(82361),o=n.n(i),r=n(28914);const a=new(o()),s=a.emit;a.emit=function(e,...t){s.call(a,e,...t),d(e)&&r.Z.send("revents:broadcast",[e,...t])},a.on("newListener",(e=>{if(d(e)){0===a.eventNames().filter(d).length&&r.Z.send("revents:register")}})),a.on("removeListener",(e=>{if(d(e)){0===a.eventNames().filter(d).length&&r.Z.send("revents:unregister")}}));const c=a.removeAllListeners;function d(e){return"newListener"!==e&&"removeListener"!==e}a.removeAllListeners=function(e){if(!e)throw new Error("revents's removeAllListeners is forbidden!");if("newListener"===e||"removeListener"===e)throw new Error('revents\'s "newListener" and "removeListener" handler should not be removed');c.call(a,e)},r.Z.on("revents:broadcast",((e,t)=>{let n=JSON.parse(t);s.apply(a,n)})),window.addEventListener("unload",(()=>{r.Z.send("revents:unregister")}));const l=a},69297:(e,t,n)=>{"use strict";n.d(t,{Do:()=>r,Kl:()=>a,N1:()=>o,fv:()=>s,nz:()=>c});var i=n(28914);function o(){return i.Z.sendSync("usage-stats:data")}function r(){i.Z.send("usage-stats:increase",{type:"dwellTimeInZenMode",value:1e3})}function a(e=1){i.Z.send("usage-stats:increase",{type:"topicsAdded",value:e})}function s(e=1){i.Z.send("usage-stats:increase",{type:"sheetsAdded",value:e})}function c(e=1){i.Z.send("usage-stats:increase",{type:"eventsTriggered",value:e})}},18621:(e,t,n)=>{"use strict";n.d(t,{Fk:()=>r,L9:()=>o});var i=n(28914);function o(e){i.Z.send("usage-tracker:track-event",{event:e})}function r(e){i.Z.send("usage-tracker:track-view",{view:e})}},7104:(e,t,n)=>{"use strict";n.d(t,{D8:()=>l,Im:()=>m,L2:()=>p,N8:()=>u,O1:()=>f,Xl:()=>g,bY:()=>d,d6:()=>h,tM:()=>w,tY:()=>v});var i=n(71017),o=n.n(i),r=n(72298),a=n(56222);let s=null;let c=null;function d(){return c||(c=r.ipcRenderer.sendSync("workspace:appPath")),c}function l(){return o().join((s||(s=r.ipcRenderer.sendSync("workspace:userData")),s),"vana")}function u(){return o().join(l(),"workbooks")}function p(){return o().join(l(),"file-cache")}function v(){return o().join(l(),"theme")}function m(){return o().join(l(),"smart-color")}function f(){return o().join(l(),"illustrations")}function w(){return o().join(l(),"templates")}function h(){return o().join(d(),"static/snowbird/resource/")}async function g(){return s||(s=await(0,a.A)("workspace:userData")),o().join(s,"vana","workbooks")}},38629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(69931);function o(e,t=null){document.documentElement.setAttribute("color-scheme","default"===e?"light":"dark");if(document.querySelector("#appearance_link"))return void("function"==typeof t&&t());const n=(0,i.ju)("static/vanakit/themes/vana.css"),o=document.createElement("link");o.type="text/css",o.id="appearance_link",o.rel="stylesheet",o.href=n,o.setAttribute("data-appearance",e),"function"==typeof t&&(o.onload=()=>t()),document.head.appendChild(o)}},20993:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>D,Ao:()=>z,Bv:()=>h,C3:()=>A,CI:()=>J,CN:()=>S,DY:()=>s,I1:()=>f,JC:()=>o,NK:()=>l,Pr:()=>p,TJ:()=>y,Vs:()=>Z,Wr:()=>M,Xz:()=>T,Yj:()=>k,Zk:()=>u,_5:()=>N,_6:()=>P,cZ:()=>b,cx:()=>I,dx:()=>m,fR:()=>a,jB:()=>v,kI:()=>c,l5:()=>r,p3:()=>d,sF:()=>C,sG:()=>x,t0:()=>R,wH:()=>$,wp:()=>g,xG:()=>E,xg:()=>L,xy:()=>w,yo:()=>F,zH:()=>_});var i=n(18621);const o=e=>(0,i.L9)({eventName:"Gallery",eventAction:e}),r=()=>(0,i.L9)({eventAction:"insertTask",eventName:"insertTask"}),a=e=>(0,i.L9)({eventAction:"editTask",eventName:e}),s=()=>(0,i.L9)({eventAction:"cancelTask",eventName:"cancelTask"}),c=e=>(0,i.L9)({eventAction:"highlightTask",eventName:e}),d=e=>(0,i.L9)({eventAction:"insertIllustration",eventName:e}),l=e=>(0,i.L9)({eventAction:"searchIllustration",eventName:e}),u=e=>(0,i.L9)({eventAction:"insertIllustrationPro",eventName:e}),p=(e,t,n)=>(0,i.L9)({eventAction:"openTemplateType",eventName:`${e}_${t}_${n}`}),v=e=>(0,i.L9)({eventAction:"popPW",eventName:e}),m=e=>(0,i.L9)({eventAction:"clickPW",eventName:e}),f=()=>{(0,i.L9)({eventAction:"cancelOverlap"})},w=()=>(0,i.L9)({eventAction:"paymentPage"}),h=()=>(0,i.L9)({eventAction:"paymentPageCN"}),g=()=>(0,i.L9)({eventAction:"paymentSuccessful"}),y=()=>(0,i.L9)({eventAction:"paymentSuccessfulCN"}),b=e=>(0,i.L9)({eventName:"PWD-sp35-240515",eventAction:e}),k=()=>(0,i.L9)({eventAction:"sharetoCollaboration"}),L=()=>(0,i.L9)({eventAction:"sharetoEvernote"}),x=e=>(0,i.L9)({eventAction:"pweDisplay",eventName:e}),A=e=>(0,i.L9)({eventAction:"pweContinue",eventName:e}),P=e=>(0,i.L9)({eventAction:"closePwe",eventName:e}),S=e=>(0,i.L9)({eventAction:"pweOrder",eventName:e}),Z=e=>(0,i.L9)({eventAction:"purchaseSource",eventName:e}),E=e=>(0,i.L9)({eventAction:"purchaseWindow",eventName:e}),C=({region:e,productId:t})=>(0,i.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButton"+e.toLowerCase(),eventName:t}),_=({region:e,productId:t})=>(0,i.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButtonMAS"+e.toLowerCase(),eventName:t}),N=()=>(0,i.L9)({eventAction:"autoDisconnect"}),T=()=>(0,i.L9)({eventAction:"disableSmartGuideline",eventName:"disableSmartGuideline"}),I=()=>(0,i.L9)({eventAction:"enableSmartGuideline",eventName:"enableSmartGuideline"}),F=()=>(0,i.L9)({eventAction:"clickSearchMaps",eventName:"clickSearchMaps"}),z=()=>(0,i.L9)({eventAction:"insertTaskInfo",eventName:"insertTaskInfo"}),M=()=>(0,i.L9)({eventAction:"removeTaskInfo",eventName:"removeTaskInfo"}),$=()=>(0,i.L9)({eventAction:"enableAutoCalculate",eventName:"enableAutoCalculate"}),R=()=>(0,i.L9)({eventAction:"disableAutoCalculate",eventName:"disableAutoCalculate"}),D=()=>(0,i.L9)({eventAction:"disableDisplayinTopic",eventName:"disableDisplayinTopic"}),J=()=>(0,i.L9)({eventAction:"enableDisplayinTopic",eventName:"enableDisplayinTopic"})},59474:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(77412),o=n(2954);const r=(0,i.Q_)("bootstrap",(()=>{const e=(0,o.iH)(!1),t=(0,o.iH)(0);return{ready:e,markReady:()=>e.value=!0,pendingJobs:t,startJob:()=>t.value+=1,endJob:()=>t.value-=1}}))},65428:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var i=n(54856),o=n(77412),r=n(2954),a=n(90435);const s=(0,o.Q_)("fonts",(()=>{const e=(0,r.iH)(!1),t=(0,r.iH)({systemFonts:{},vanaFonts:{}});return{loaded:e,markLoaded:()=>e.value=!0,getLoadedFonts:async()=>{if(!t.value||Object.keys(t.value.systemFonts).length<=0&&Object.keys(t.value.vanaFonts).length<=0){const e=await(0,a.he)(i.qz);t.value=e}return t.value}}}))},7710:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var i=n(77412),o=n(2954);const r=(0,i.Q_)("query",(()=>{const e=(0,o.iH)({});return{query:e,setQuery:t=>{e.value=t}}}))},2563:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var i=n(77412),o=n(2954);const r=(0,i.Q_)("renderer-app",(()=>{const e=(0,o.iH)(!1),t=(0,o.XI)([]),n=(0,o.XI)({}),i=(0,o.XI)([]);return{ignoreAppearanceChanged:e,updateIgnoreAppearance:t=>{e.value=t},builtinFontFamilies:t,updateBuiltinFontFamilies:e=>t.value=e,allFonts:n,updateAllFonts:e=>n.value=e,fontsForMindMap:i,updateFontsForMindMap:e=>i.value=e}}))},53775:(e,t,n)=>{"use strict";async function i(){await new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)}))))}async function o(e){return Promise.race([new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)})))),new Promise((t=>setTimeout(t,null!=e?e:200)))])}function r(e,t=300,n=!1){let i;function o(...t){i=void 0,n||e.apply(this,t)}const r=function(...r){void 0!==i&&clearTimeout(i),n&&!i&&e.apply(this,r),i=setTimeout(o.bind(this,...r),t)};return r.cancel=function(){void 0!==i&&(clearTimeout(i),i=void 0)},r}function a(e,t=300,n=!1){let i,o,r,a=!1;function s(){o=Date.now(),e.apply(this,r),void 0!==i&&(clearTimeout(i),i=void 0)}const c=function(...e){if(a)return;if(r=e,n&&!o)return void s.apply(this);const c=Date.now(),d=c-(null!=o?o:c);d>=t?s.apply(this):void 0===i&&(i=setTimeout(s.bind(this),t-d))};return c.cancel=function(e=!0){void 0!==i&&(clearTimeout(i),i=void 0),o=void 0,a=e},c}n.d(t,{Ds:()=>r,P2:()=>a,SX:()=>i,gH:()=>s,qJ:()=>o});const s=(e,t)=>{let n=e,i="";if("object"==typeof t){const e=new URLSearchParams;for(const n in t)e.append(n,t[n]);i=e.toString()}return n=n.includes("?")?n+"&"+i:n+"?"+i,n}},49891:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(2954),o=n(69931);const r=(0,i.aZ)({__name:"spinner",props:{text:{type:String}},setup:e=>({__sfc:!0,imageURL:(0,i.Fl)((()=>(0,o.ju)("static/assets/images/spinner.gif")))})});n(25863);const a=(0,n(51900).Z)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"uk-panel uk-background-default uk-flex uk-flex-column uk-flex-center uk-flex-middle"},[t("div",{staticClass:"uk-text-center uk-text-muted spinner-container"},[t("img",{staticClass:"spinner-image",attrs:{draggable:"false",src:e._self._setupProxy.imageURL}}),e._v(" "),e.text?t("div",{staticClass:"spinner-text"},[e._v("\n      "+e._s(e.text)+"\n    ")]):e._e()])])}),[],!1,null,"14a8e261",null).exports},25863:(e,t,n)=>{var i=n(80102);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("1107ca9a",i,!0,{})},54023:(e,t,n)=>{var i=n(14594);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("2bd072e8",i,!0,{})},45346:(e,t,n)=>{"use strict";function i(e,t){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],a=r[0],s={id:e+":"+o,css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}n.d(t,{Z:()=>m});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,d=!1,l=function(){},u=null,p="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,o){d=n,u=o||{};var a=i(e,t);return f(a),function(t){for(var n=[],o=0;o<a.length;o++){var s=a[o];(c=r[s.id]).refs--,n.push(c)}t?f(a=i(e,t)):a=[];for(o=0;o<n.length;o++){var c;if(0===(c=n[o]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete r[c.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],i=r[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(h(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(h(n.parts[o]));r[n.id]={id:n.id,refs:1,parts:a}}}}function w(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function h(e){var t,n,i=document.querySelector("style["+p+'~="'+e.id+'"]');if(i){if(d)return l;i.parentNode.removeChild(i)}if(v){var o=c++;i=s||(s=w()),t=b.bind(null,i,o,!1),n=b.bind(null,i,o,!0)}else i=w(),t=k.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var g,y=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function b(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function k(e,t){var n=t.css,i=t.media,o=t.sourceMap;if(i&&e.setAttribute("media",i),u.ssrId&&e.setAttribute(p,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},6113:e=>{"use strict";e.exports=require("crypto")},72298:e=>{"use strict";e.exports=require("electron")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")}},e=>{e.O(0,[8592,8970],(()=>{return t=24323,e(e.s=t);var t}));var t=e.O();module.exports=t}]);