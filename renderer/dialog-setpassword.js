(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[7726],{921:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(23645),s=n.n(o)()((function(e){return e[1]}));s.push([e.id,".uk-lang-pt-PT .uk-margin[data-v-5eee05d4] {\n  margin: 10px 0;\n}\n.password-label[data-v-5eee05d4] {\n  width: 120px;\n  text-align: left;\n}\n",""]);const i=s},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(o)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(s[r]=!0)}for(var a=0;a<e.length;a++){var d=[].concat(e[a]);o&&s[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},40334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(63111),s=n(54856),i=n(96829),r=n(87141),a=n(90435);const d={computed:{},watch:{touchBarItems(e){this.updateTouchBarItems(e)}},methods:{updateTouchBarItems(e){const t=e=>{const t=e.click;let n=this._touchBarRoutes[t];return n||(n={method:t,endpoint:(0,s.A6)(window.id,(0,i.rs)(t))},this._touchBarRoutes[t]=n),n.unroute||(n.unroute=a.ZP.route(n.endpoint,this[t])),Object.assign({},e,{click:n.endpoint})};e=(e||this.touchBarItems||[]).map((e=>("button"!==e.type||"string"!=typeof e.click||o.sq.includes(e.click)||e.click.startsWith("command:")?"buttons"===e.type&&(e={...e,buttons:e.buttons.map((e=>"string"!=typeof e.click||o.sq.includes(e.click)||e.click.startsWith("command:")?e:t(e)))}):e=t(e),e))),(0,r.JS)("window")?.().updateTouchBarItems(e)}},beforeCreate(){this._touchBarRoutes={}},mounted(){this.updateTouchBarItems()},beforeDestroy(){Object.values(this._touchBarRoutes).forEach((({unroute:e})=>e&&e())),this._touchBarRoutes={}}}},27012:(e,t,n)=>{"use strict";n.r(t);var o=n(59042),s=n(63477),i=n.n(s),r=n(63111),a=n(54856),d=n(90435),c=n(40334);const l=r.Us["dialog-setpassword"],u=i().parse(window.location.search.slice(1)),p=/^[a-zA-Z0-9_!\-()?[\]#$^&*+=`~ ]{1,128}$/,w={mixins:[c.Z],data:()=>({oldPassword:u.oldPassword,confirmOldPassword:"",newPassword:"",confirmNewPassword:"",passwordHint:u.passwordHint,newPasswordHint:"",isInput:!1}),computed:{newPasswordConfirmed(){return this.newPassword&&this.confirmNewPassword&&this.newPassword===this.confirmNewPassword},canSetPassword(){return""!==this.newPassword&&this.newPasswordConfirmed&&(!this.oldPassword||this.oldPasswordConfirmed)&&this.validPassword},canRemovePassword(){return""!==this.oldPassword&&this.oldPasswordConfirmed},oldPasswordConfirmed(){return this.oldPassword===this.confirmOldPassword},contentDefaultHeight(){let e=l.height;return this.oldPassword&&(e+=61),e},touchBarItems(){return[this.oldPassword?{type:"button",label:this.$T("Remove"),click:"removePassword"}:null,{type:"space",size:"flexible"},{type:"button",label:this.$T("Cancel"),click:"close"},this.canSetPassword?{type:"button",label:this.$T("Set"),click:"submitForm"}:null,{type:"space",size:"flexible"}].filter(Boolean)},validPassword(){return this.newPassword&&p.test(this.newPassword)},errorHint(){return this.validPassword||!this.newPassword?"":this.$T("Your password contains invalid characters.")}},created(){this.newPasswordHint=this.passwordHint},mounted(){this.oldPassword&&this.expandDialog()},methods:{expandDialog(){window.resizeTo(l.width,l.height+61)},handleInputState(e){"Enter"===e.key?this.isInput=!1:this.isInput=!0},cancel:function(){window.close()},submitForm(e){e&&e.preventDefault(),this.newPassword&&this.newPasswordConfirmed&&(!this.oldPassword||this.oldPasswordConfirmed)&&this.validPassword&&this.$safeRun((async()=>{await d.ZP.fetch((0,a.iM)(window.id),{action:"set",newPassword:this.newPassword,newPasswordHint:this.newPasswordHint.slice(0,45)}),setTimeout((()=>{window.close()}),0)}))},removePassword:function(){this.$safeRun((async()=>{await d.ZP.fetch((0,a.iM)(window.id),{action:"remove"}),setTimeout((()=>{window.close()}),0)}))}}};n(40094);const v=(0,n(51900).Z)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"vk-window-dialog vk-window-secondary"},[t("div",{staticClass:"vk-window-title-bar vk-window-title-bar-floating"},[t("window-control-button-group")],1),e._v(" "),t("div",{staticClass:"vk-window-body uk-overflow-hidden",staticStyle:{overflow:"hidden",padding:"var(--spacing-padding-xxl)"}},[t("div",{staticClass:"typography-headline-small",staticStyle:{"margin-bottom":"var(--spacing-margin-m)"}},[e._v("\n      "+e._s(e.$T("Set a password to protect this file."))+"\n    ")]),e._v(" "),t("div",{staticClass:"typography-body-large",staticStyle:{"margin-bottom":"var(--spacing-margin-xl)"}},[e._v("\n      "+e._s(e.$T("If you forgot the password, the file can't be opened in any way."))+"\n    ")]),e._v(" "),t("form",{staticClass:"uk-form-stacked",staticStyle:{padding:"0 2px"},attrs:{id:"password_form"},on:{submit:e.submitForm}},[t("div",[e.oldPassword?t("div",{staticClass:"uk-margin uk-flex uk-flex-middle"},[t("label",{staticClass:"typography-body-large password-label"},[e._v(e._s(e.$T("Old Password:")))]),e._v(" "),t("div",{staticClass:"uk-flex-1",staticStyle:{"margin-left":"var(--spacing-margin-s)"}},[t("vk-input",{attrs:{type:"password",placeholder:e.$T("Current Password"),cls:"vk-input-default is-dim",autofocus:!!e.oldPassword,"is-error":!e.oldPasswordConfirmed,value:e.confirmOldPassword},on:{input:function(t){e.confirmOldPassword=t}}})],1)]):e._e()]),e._v(" "),t("div",[t("div",{staticClass:"uk-margin uk-flex uk-flex-middle"},[t("label",{staticClass:"typography-body-large password-label"},[e._v(e._s(e.$T("New Password:")))]),e._v(" "),t("div",{staticClass:"uk-flex-1",staticStyle:{"margin-left":"var(--spacing-margin-s)"}},[t("vk-input",{attrs:{type:"password",cls:"vk-input-default is-dim",autofocus:!e.oldPassword,placeholder:e.$T("Enter Password"),value:e.newPassword},on:{input:function(t){e.newPassword=t},blur:function(t){e.isInput=!1},focus:function(t){e.isInput=!0},keypress:e.handleInputState}})],1)])]),e._v(" "),t("div",[t("div",{staticClass:"uk-margin uk-flex uk-flex-middle"},[t("label",{staticClass:"typography-body-large password-label"},[e._v(e._s(e.$T("Confirm Password:")))]),e._v(" "),t("div",{staticClass:"uk-flex-1",staticStyle:{"margin-left":"var(--spacing-margin-s)"}},[t("vk-input",{attrs:{type:"password",placeholder:e.$T("Re-enter Password"),"is-error":!e.newPasswordConfirmed&&!!e.newPassword&&!e.isInput,cls:"vk-input-default is-dim",value:e.confirmNewPassword},on:{input:function(t){e.confirmNewPassword=t}}})],1)])]),e._v(" "),t("div",[t("div",{staticClass:"uk-margin uk-flex uk-flex-top"},[t("label",{staticClass:"typography-body-large password-label"},[e._v(e._s(e.$T("Password Hint (Optional):")))]),e._v(" "),t("div",{staticClass:"uk-flex-1",staticStyle:{"margin-left":"var(--spacing-margin-s)"}},[t("div",{staticClass:"vk-input-container"},[t("textarea",{staticClass:"vk-textarea is-dim",staticStyle:{height:"72px"},attrs:{placeholder:e.$T("Reminder for Password")},domProps:{value:e.newPasswordHint},on:{input:function(t){e.newPasswordHint=t.target.value}}})])])])]),e._v(" "),e.errorHint?t("p",{staticClass:"uk-text-danger"},[e._v("\n        "+e._s(e.errorHint)+"\n      ")]):e._e()])]),e._v(" "),t("div",{staticClass:"vk-window-button-bar"},[t("div",{staticClass:"vk-button-group"},[t("button",{staticClass:"vk-button-secondary vk-size-small",attrs:{type:"submit",form:"password_form",disabled:!e.canSetPassword}},[e._v("\n        "+e._s(e.$T("Set"))+"\n      ")]),e._v(" "),e.oldPassword?t("button",{staticClass:"vk-button-default vk-size-small",attrs:{type:"button",disabled:!e.canRemovePassword},on:{click:e.removePassword}},[e._v("\n        "+e._s(e.$T("Remove"))+"\n      ")]):e._e(),e._v(" "),t("button",{staticClass:"vk-button-default vk-size-small",attrs:{type:"button"},on:{click:e.cancel}},[e._v("\n        "+e._s(e.$T("Cancel"))+"\n      ")])])])])}),[],!1,null,"5eee05d4",null).exports;(0,o.Z)(v,{name:"dialog-setpassword"})},59042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>fe});var o=n(47311),s=n(23352),i=n(90435);const r=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",a=(0,s.ZP)(`error:${r}`),d=new o.q(a,{ipc:i.ZP});window.addEventListener("error",(function(e){const t=e.error;t&&d.handle(t)})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason;t&&d.handle(t)}));const c=d;var l=n(2954),u=n(63477),p=n.n(u),w=n(72298),v=n(67657),m=n(13780),f=n.n(m),h=n(30266),y=n(86396),g=n(31945),b=n(54856),P=n(73884),k=n(28914),C=n(56222),L=n(79409),Z=n(65114),A=n(77412);const S={install(e){const t="vana-ref";e.directive(t,{bind:function(e,t,n){t.value(n.componentInstance||e,n.key)},update:function(e,n,o,s){if(s.data&&s.data.directives){var i=s.data.directives.find((function(e){return e.name===t}));if(i&&i.value!==n.value)return i&&i.value(null,s.key),void n.value(o.componentInstance||e,o.key)}o.componentInstance===s.componentInstance&&o.elm===s.elm||n.value(o.componentInstance||e,o.key)},unbind:function(e,t,n){t.value(null,n.key)}})}};var x=n(87141);const _={install(e){e.prototype.$T=function(e,...t){return(0,x.JE)().T(e,...t)}}};var E=n(96829);const T=(0,s.ZP)("safe-runner");const N=class{constructor(e){this.errorHandler=e}_handleError(e){"function"==typeof this.errorHandler?this.errorHandler(e):T.error((0,E.SC)(e))}install(e){const t=this;e.prototype.$safeRun=function(e){try{let n=e();return n&&n.then&&n.catch?n.then((e=>e)).catch((e=>t._handleError(e))):n}catch(e){t._handleError(e)}}}};var I=n(69931);const $={install(e){e.prototype.$toResourceURL=(...e)=>(0,I.ju)(...e).replace("(","%28").replace(")","%29"),e.prototype.$loadResource=I.zD}};var z=n(53775),R=n(59474);var F=n(30247),B=n(2563),O=n(65428);const J=(0,s.ZP)("font");var H=n(22037),j=n.n(H),D=n(38629);const q=(0,s.ZP)("performance");function M(e){e?document.body.style.setProperty("--uk-system-accent-color",e):document.body.style.removeProperty("--uk-system-accent-color")}var W=n(63111),X=n(18621),Y=n(69297),V=n(20993);const G={start:()=>{const e=(0,R.i)();e.startJob();const t=(0,l.YP)((()=>e.pendingJobs),(n=>{n>0||(t(),e.markReady())}));setTimeout((()=>e.endJob()),0)}},U=(()=>{const e=[],t=new Map;return{start:()=>{const e=(0,R.i)();e.startJob(),i.ZP.fetch(b.de).then((t=>{Object.keys(t).forEach((e=>{var n;const o=(0,x.F_)(e);null===(n=null==o?void 0:o())||void 0===n||n.$patch(t[e])})),P.Z.on(Z.Md,(e=>{e.forEach((({id:e,state:t})=>{var n;const o=(0,x.F_)(e);null===(n=null==o?void 0:o())||void 0===n||n.$patch((0,l.qj)(t))}))})),e.endJob()}))},plugin:n=>{(0,x.W$)(n.store.$id)&&n.store.$subscribe(((o,s)=>{if(n.store.$id!==o.storeId)return;const r=t.get(o.storeId);t.set(o.storeId,!0),(null===window||void 0===window?void 0:window.isEditorFrame)||r&&o.type!==A.x1.patchObject&&(0,x.W$)(o.storeId)&&(e.push({id:o.storeId,state:JSON.parse(JSON.stringify(s))}),Promise.resolve().then((()=>{i.ZP.fetch(b.w6,{states:e}),e.length=0})))}))}}})(),Q={start:()=>{(0,O.r)();const e=(0,I.ju)("/static/snowbird/resource/"),t=function(){const e={};return F.Fy(((t,n)=>{e[t]=n.map((e=>({...e,family:t})))})),e}(),n=Object.values(t).flat().map((t=>function({family:e,src:t,italic:n,weight:o,"unicode-range":s},i){const r=new URL(t,i).href;let a={family:e,source:`url("${r}")`,url:r};return void 0!==n&&(a={...a,style:n?"italic":"normal"}),void 0!==o&&(a={...a,weight:o.toString()}),void 0!==s&&(a={...a,unicodeRange:s}),a}(t,e)));!function(e){Promise.all(e.map((({family:e,source:t,...n})=>{const o=new FontFace(e,t,n);return o.load().then((()=>{document.fonts.add(o)})).catch((()=>{J.error("Failed to load css font from",t)}))})))}(n),function(){const e=document.createElement("style"),t=F.Hn();e.innerHTML=t,document.head.appendChild(e),document.body.style.setProperty("--info-button-font",F.o6)}(),(0,B.O)().updateBuiltinFontFamilies(Array.from(new Set(Object.keys(t))))}},K={start:()=>{const e=(0,R.i)(),{_apr:t,_acc:n}=p().parse(location.search.slice(1));t&&(e.startJob(),q.debug("About to load CSS using _apr query parameter:",t),(0,D.Z)(t,(()=>{q.debug("Loaded CSS using _apr query parameter:",t),setTimeout((()=>{e.endJob()}),10)}))),n&&M(n),"darwin"===j().platform()&&parseFloat(j().release())>=20&&document.body.classList.add("uk-darwin-bigsur"),(0,l.YP)((()=>(0,x.S)().language),((e,t)=>{t&&document.body.classList.remove(`uk-lang-${t}`),e&&document.body.classList.add(`uk-lang-${e}`)}));const o=(0,l.YP)((()=>(0,R.i)().ready),(e=>{e&&(o(),(0,l.YP)((()=>[(0,x.S)().appearance,(0,B.O)().ignoreAppearanceChanged]),(([e,t])=>{t||(0,D.Z)(e)})),(0,l.YP)((()=>(0,x.qr)().systemAccentColor),(e=>M(e))),(0,l.YP)((()=>(0,x.S)().systemScrollbarSetting),(e=>function(e){const t="vk-scrollbar";document.body.classList.forEach((e=>{e.startsWith(t)&&document.body.classList.remove(e)})),document.body.classList.add(`${t}-${(e||"always").toLowerCase()}`)}(e)),{immediate:!0}))}))}},ee={start:()=>{W.nd&&W.qu.forEach((e=>{(0,x.JX)().appendBeforeHandler(e,(()=>(async()=>(await i.ZP.fetch(b.QN),"interruption"))()))})),Object.keys(W.JN).concat(Object.keys(W.oF)).forEach((e=>{(0,x.JX)().appendBeforeHandler(e,(()=>{const t=(0,x.JX)().commandById(e);return(null==t?void 0:t.provider)?(async(e,t)=>{if(!await i.ZP.fetch(b.Gy,{name:e,channel:(0,b.gk)(t)}))return"interruption"})(e,t.provider):"interruption"}))})),W.ZK.forEach((e=>{(0,x.JX)().appendAfterHandler(e,(()=>{const t=e.split(".")[1];(0,X.L9)({eventCategory:"Edit",eventAction:t,eventValue:1})}))})),W.ff.forEach((e=>{(0,x.JX)().appendAfterHandler(e,(()=>{(0,X.L9)({eventCategory:"Share",eventAction:e,eventValue:1})}))})),W.y_.forEach((e=>{(0,x.JX)().appendBeforeHandler(e,(()=>{(0,Y.Kl)()}))})),W.xk.forEach((e=>{(0,x.JX)().appendBeforeHandler(e,(()=>{(0,Y.fv)()}))})),W.wp.forEach((e=>{(0,x.JX)().appendBeforeHandler(e,(()=>{(0,Y.nz)()}))})),(0,x.JX)().appendAfterHandler("editor.addTodo",V.l5),(0,x.JX)().appendAfterHandler("editor.cancelTask",V.DY),(0,x.JX)().appendAfterHandler("editor.checkTodo",(()=>{(0,V.fR)("checkTask")})),(0,x.JX)().appendAfterHandler("editor.uncheckTodo",(()=>{(0,V.fR)("uncheckTask")})),W.QL.forEach((e=>{(0,x.JX)().appendBeforeHandler(e,(()=>{if((0,x.si)().contexts["collaboration.isReadOnly"])return"interruption"}))})),W.gY.forEach((e=>{(0,x.JX)().appendBeforeHandler(e,(()=>{if((0,x.si)().contexts["collaboration.isFromCloud"])return"interruption"}))}))}},te={start:()=>{const e=(0,R.i)();e.startJob(),(0,x.JX)().injectDoHandleCommand((async(e,t)=>i.ZP.fetch(b.hR,{commandId:e,handlerArgs:t}))),e.endJob()}},ne=[U.plugin];var oe=n(7710);const se=p().parse(window.location.search.slice(1)),ie=!0,re=!!se.isBrowserView,ae=!!se.isEditorFrame;let de=v.getCurrentWindow;re&&(de=function(){const e=k.Z.sendSync("get-current-window-id");return v.BrowserWindow.fromId(parseInt(e))});const ce=window.location.pathname.match(/\/([a-zA-Z0-9-]+)\.html$/)[1]||"default",le=(0,s.ZP)("performance"),ue=(0,s.ZP)("sentry");le.debug("Initializing page:",ce),w.webFrame.setVisualZoomLevelLimits(1,1),document.body.classList.add("uk-win32"),Object.defineProperty(window,"id",{get:()=>de().id}),window.getWindowIdAsync=async()=>await(0,C.A)("get-current-window-id");window.getCurrentWindowAsync=async()=>{const e=await window.getWindowIdAsync();return v.BrowserWindow.fromId(parseInt(e))},window.isEditorFrame=ae;const pe=l.ZP.observable({isBeingDestroyed:!1,isDestroyed:!1,isShown:!1});["isBeingDestroyed","isDestroyed","isShown"].forEach((e=>{Object.defineProperty(window,e,{get:()=>pe[e],set(t){pe[e]=t}})})),window.show=()=>{de().show()},window.hide=()=>{de().hide()},window.close=()=>{de().close()},window.minimize=()=>{de().minimize()},window.maximize=()=>{de().maximize()},window.restore=()=>{de().unmaximize()},window.isMinimized=()=>de().isMinimized(),window.isMaximized=()=>de().isMaximized(),window.isFullScreen=()=>de().isFullScreen(),window.resizeTo=(e,t)=>{de().setContentSize(e,t)},window.resizeBy=(e,t)=>{let[n,o]=de().getContentSize();de().setContentSize(n+e,o+t)},window.moveTo=(e,t)=>{de().setPosition(e,t)},window.moveBy=(e,t)=>{let[n,o]=de().getPosition();de().setPosition(n+e,o+t)},P.Z.on("window-maximize",(()=>{document.body.classList.add("uk-window-maximized"),window.dispatchEvent(new Event("maximize"))})),P.Z.on("window-unmaximize",(()=>{document.body.classList.remove("uk-window-maximized"),window.dispatchEvent(new Event("restore"))})),P.Z.on("window-minimize",(()=>{window.dispatchEvent(new Event("minimize"))})),P.Z.on("window-unminimize",(()=>{window.dispatchEvent(new Event("unminimize"))})),P.Z.on("window-focus",(()=>{document.body.classList.remove("uk-window-inactive")})),P.Z.on("window-blur",(()=>{document.body.classList.add("uk-window-inactive")})),P.Z.on("window-enter-full-screen",(()=>{document.body.classList.add("uk-window-full-screen"),window.dispatchEvent(new Event("enter-full-screen"))})),P.Z.on("window-leave-full-screen",(()=>{document.body.classList.remove("uk-window-full-screen"),window.dispatchEvent(new Event("leave-full-screen"))})),P.Z.on("window-sheet-begin",(()=>{document.body.classList.add("uk-disabled"),window.dispatchEvent(new Event("sheet-begin"))})),P.Z.on("window-sheet-end",(()=>{document.body.classList.remove("uk-disabled"),window.dispatchEvent(new Event("sheet-end"))})),P.Z.on("window-show",(()=>{window.dispatchEvent(new Event("window-show"))})),P.Z.on(Z.$r,(e=>{(0,oe.l)().setQuery(e)}));const we=de&&de();if(we&&we.isMaximized()&&document.body.classList.add("uk-window-maximized"),we&&we.isFullScreen()&&document.body.classList.add("uk-window-full-screen"),we&&!we.isFocused()&&document.body.classList.add("uk-window-inactive"),document.addEventListener("keydown",(e=>{27===e.keyCode&&document.body.querySelector(".uk-window-dialog")&&setTimeout((()=>{if(e.defaultPrevented)return;const t=new Event("close");window.dispatchEvent(t)&&window.close()}),0)})),we&&we.isMaximizable&&we.isMaximizable()){const e=["a","button","select","input"];document.addEventListener("dblclick",(t=>{const{target:n,defaultPrevented:o}=t;if(o)return;let s=n;for(;s&&"function"==typeof s.matches;){if(e.some((e=>s.matches(e))))return;s=s.parentNode}let i=document.querySelector(".vk-window-title-bar-expanded")||document.querySelector(".vk-window-title-bar");i&&i.contains(n)&&(window.isMaximized()?window.restore():window.maximize())}))}l.ZP.use(A.og),l.ZP.use(new N((e=>c.handle(e)))),l.ZP.use(f()),l.ZP.use(_),l.ZP.use($),l.ZP.use(S),l.ZP.use(h.ZP.Plugin),le.debug("Initialized page:",ce);const ve=(0,A.WB)();(0,A.uX)(ve),ne.forEach((e=>ve.use(e))),Object.values(x.rx).forEach((e=>e())),G.start(),U.start(),Q.start(),K.start(),ee.start(),te.start();const me=(0,L.Z)("version").includes("beta");if(process.env.SENTRY_DSN_OF_BROWSER&&me){const e=(0,l.YP)((()=>(0,x.qr)().sentryConfig),(t=>{e();try{const e=t[process.env.SENTRY_PROJECT_OF_BROWSER]||{};y.S({Vue:l.ZP,dsn:process.env.SENTRY_DSN_OF_BROWSER,environment:"production",...e}),ue.info("init",e)}catch(e){ue.error("Failed to init sentry",e)}}),{immediate:!1})}async function fe(e,{mountTarget:t="#app",name:n=null,plugins:o=[],runAfterPiniaPlugin:s,editorId:r=null,autoShow:a=!0}={}){le.debug("Bootstrapping:",ce);for(let e of o)l.ZP.use(e);let d;return(0,x._t)((0,g.b3)(window.id)),"dialog-err"===n&&(0,x.VE)((0,g.zN)("dialog-err",window.id)),"dialog-problem"===n&&(0,x.ym)((0,g.zN)("dialog-problem",window.id)),r&&(0,x.OD)((0,g.aJ)(r)),await new Promise((n=>{let o=(0,l.YP)((()=>(0,R.i)().ready),(r=>{r&&(o(),document.body.classList.add(`uk-lang-${(0,x.S)().language}`),s?.(ve),le.debug("About to create Vue instance:",ce),d=new l.ZP({...e,pinia:ve}),le.debug("Created Vue instance:",ce),window.addEventListener("unload",(()=>{window.isBeingDestroyed=!0,d.$destroy(),window.isDestroyed=!0})),le.debug("About to mount Vue instance:",ce),d.$mount(t||"#app"),le.debug("Mounted Vue instance:",ce),(0,z.qJ)().then((async()=>{if(!a)return;const e=await window.getWindowIdAsync();!ie&&await i.ZP.fetch((0,b.EV)(e),"show"),ie&&await i.ZP.fetch((0,b.EV)(e),"moveToShow"),window.isShown=!0})),n(d))}))})),d}},94593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(81296),s=n.n(o);const i=(0,n(23352).ZP)("ipc:proxy:"),r=new Proxy(s(),{get(e,t){let n=Reflect.get(e,t);return"function"==typeof n?(...o)=>{if(!window.isDestroyed)return n.apply(e,o);i.error(`window has been destroyed, we should not invoke fsp.${t})`)}:n}})},56222:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(72298);let s=0;function i(e,t){return new Promise((n=>{const i=s++;o.ipcRenderer.once(`internal-ipc-api-reply:${e}:${i}`,((e,{data:t=null})=>{n(t)})),o.ipcRenderer.send(`internal-ipc-api:${e}`,{payload:t,seq:i})}))}},28914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(72298);const s=(0,n(23352).ZP)("ipc:proxy:"),i=new Proxy(o.ipcRenderer,{get(e,t){let n=Reflect.get(e,t);return"function"==typeof n?(...o)=>{if(!window.isDestroyed)return n.apply(e,o);s.error(`window has been destroyed, we should not invoke ipcRenderer.${t} with args (${JSON.stringify(o)})`)}:n}})},90435:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,he:()=>a});var o=n(96829),s=n(28914);const i=new Map;let r=0;function a(e,t){const n=i.get(e);return n?Promise.resolve().then((()=>n(t))):new Promise(((n,i)=>{const a=r++;s.Z.once(`ipc-api-reply:${e}:${a}`,((e,{error:t=null,data:s=null})=>{t?i((0,o.aq)(t)):n(s)})),s.Z.send(`ipc-api:${e}`,{payload:t,seq:a})}))}const d={fetch:a,route:function(e,t){if("function"!=typeof t)throw new Error(`IPC API "${e}" is routed to invalid handler: ${typeof t}`);if(i.has(e))throw new Error(`IPC API "${e}" is routed twice`);const n=`ipc-api:${e}`;if(s.Z.eventNames().includes(n))throw new Error(`IPC API "${e}" is routed twice`);const r=(n,{payload:i=null,seq:r=0}={})=>{const a=`ipc-api-reply:${e}:${r}`;Promise.resolve().then((()=>t(i))).then((e=>{s.Z.send(a,{data:e})})).catch((e=>{s.Z.send(a,{error:(0,o.SC)(e)})}))};return i.set(e,t),s.Z.on(n,r),s.Z.send("ipc-api-register",{apiName:e}),()=>{s.Z.send("ipc-api-unregister",{apiName:e}),s.Z.removeListener(n,r),i.delete(e)}}}},23352:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c});var o=n(82134),s=n(96829),i=n(79409),r=n(72298);const a=new o.Jq(global.console,{colorful:!1}),d=new o.Yd({isDebugging:(0,i.Z)("version").indexOf("-alpha")>=0||(0,i.Z)("version").indexOf("-dev")>=0||s.x,handle(e){a.handle(e),function(e){r.ipcRenderer.send("logger:handleLogEvent",e)}(e)}}),c=(e=null)=>d.logger(e)},79409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(71017),s=n.n(o),i=n(57147),r=n.n(i),a=n(7104);let d=null;function c(e=null){return d||(d=JSON.parse(r().readFileSync(s().join((0,a.bY)(),"package.json")))),e?d[e]:d}},69931:(e,t,n)=>{"use strict";n.d(t,{Al:()=>u,ju:()=>d,pP:()=>c,zD:()=>l});var o=n(71017),s=n.n(o),i=n(94593),r=n(7104),a=n(5893);function d(e){return(0,a.u3)(s().join((0,r.bY)(),e))}function c(e){return(0,a.u3)(s().join((0,r.D8)(),e))}function l(e){return i.Z.readFile(s().join((0,r.bY)(),e))}const u=(...e)=>d(...e).replace("(","%28").replace(")","%29")},73884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(82361),s=n.n(o),i=n(28914);const r=new(s()),a=r.emit;r.emit=function(e,...t){a.call(r,e,...t),c(e)&&i.Z.send("revents:broadcast",[e,...t])},r.on("newListener",(e=>{if(c(e)){0===r.eventNames().filter(c).length&&i.Z.send("revents:register")}})),r.on("removeListener",(e=>{if(c(e)){0===r.eventNames().filter(c).length&&i.Z.send("revents:unregister")}}));const d=r.removeAllListeners;function c(e){return"newListener"!==e&&"removeListener"!==e}r.removeAllListeners=function(e){if(!e)throw new Error("revents's removeAllListeners is forbidden!");if("newListener"===e||"removeListener"===e)throw new Error('revents\'s "newListener" and "removeListener" handler should not be removed');d.call(r,e)},i.Z.on("revents:broadcast",((e,t)=>{let n=JSON.parse(t);a.apply(r,n)})),window.addEventListener("unload",(()=>{i.Z.send("revents:unregister")}));const l=r},69297:(e,t,n)=>{"use strict";n.d(t,{Do:()=>i,Kl:()=>r,N1:()=>s,fv:()=>a,nz:()=>d});var o=n(28914);function s(){return o.Z.sendSync("usage-stats:data")}function i(){o.Z.send("usage-stats:increase",{type:"dwellTimeInZenMode",value:1e3})}function r(e=1){o.Z.send("usage-stats:increase",{type:"topicsAdded",value:e})}function a(e=1){o.Z.send("usage-stats:increase",{type:"sheetsAdded",value:e})}function d(e=1){o.Z.send("usage-stats:increase",{type:"eventsTriggered",value:e})}},18621:(e,t,n)=>{"use strict";n.d(t,{Fk:()=>i,L9:()=>s});var o=n(28914);function s(e){o.Z.send("usage-tracker:track-event",{event:e})}function i(e){o.Z.send("usage-tracker:track-view",{view:e})}},7104:(e,t,n)=>{"use strict";n.d(t,{D8:()=>l,Im:()=>v,L2:()=>p,N8:()=>u,O1:()=>m,Xl:()=>y,bY:()=>c,d6:()=>h,tM:()=>f,tY:()=>w});var o=n(71017),s=n.n(o),i=n(72298),r=n(56222);let a=null;let d=null;function c(){return d||(d=i.ipcRenderer.sendSync("workspace:appPath")),d}function l(){return s().join((a||(a=i.ipcRenderer.sendSync("workspace:userData")),a),"vana")}function u(){return s().join(l(),"workbooks")}function p(){return s().join(l(),"file-cache")}function w(){return s().join(l(),"theme")}function v(){return s().join(l(),"smart-color")}function m(){return s().join(l(),"illustrations")}function f(){return s().join(l(),"templates")}function h(){return s().join(c(),"static/snowbird/resource/")}async function y(){return a||(a=await(0,r.A)("workspace:userData")),s().join(a,"vana","workbooks")}},38629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(69931);function s(e,t=null){document.documentElement.setAttribute("color-scheme","default"===e?"light":"dark");if(document.querySelector("#appearance_link"))return void("function"==typeof t&&t());const n=(0,o.ju)("static/vanakit/themes/vana.css"),s=document.createElement("link");s.type="text/css",s.id="appearance_link",s.rel="stylesheet",s.href=n,s.setAttribute("data-appearance",e),"function"==typeof t&&(s.onload=()=>t()),document.head.appendChild(s)}},20993:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>O,Ao:()=>z,Bv:()=>h,C3:()=>L,CI:()=>J,CN:()=>A,DY:()=>a,I1:()=>m,JC:()=>s,NK:()=>l,Pr:()=>p,TJ:()=>g,Vs:()=>S,Wr:()=>R,Xz:()=>N,Yj:()=>P,Zk:()=>u,_5:()=>T,_6:()=>Z,cZ:()=>b,cx:()=>I,dx:()=>v,fR:()=>r,jB:()=>w,kI:()=>d,l5:()=>i,p3:()=>c,sF:()=>_,sG:()=>C,t0:()=>B,wH:()=>F,wp:()=>y,xG:()=>x,xg:()=>k,xy:()=>f,yo:()=>$,zH:()=>E});var o=n(18621);const s=e=>(0,o.L9)({eventName:"Gallery",eventAction:e}),i=()=>(0,o.L9)({eventAction:"insertTask",eventName:"insertTask"}),r=e=>(0,o.L9)({eventAction:"editTask",eventName:e}),a=()=>(0,o.L9)({eventAction:"cancelTask",eventName:"cancelTask"}),d=e=>(0,o.L9)({eventAction:"highlightTask",eventName:e}),c=e=>(0,o.L9)({eventAction:"insertIllustration",eventName:e}),l=e=>(0,o.L9)({eventAction:"searchIllustration",eventName:e}),u=e=>(0,o.L9)({eventAction:"insertIllustrationPro",eventName:e}),p=(e,t,n)=>(0,o.L9)({eventAction:"openTemplateType",eventName:`${e}_${t}_${n}`}),w=e=>(0,o.L9)({eventAction:"popPW",eventName:e}),v=e=>(0,o.L9)({eventAction:"clickPW",eventName:e}),m=()=>{(0,o.L9)({eventAction:"cancelOverlap"})},f=()=>(0,o.L9)({eventAction:"paymentPage"}),h=()=>(0,o.L9)({eventAction:"paymentPageCN"}),y=()=>(0,o.L9)({eventAction:"paymentSuccessful"}),g=()=>(0,o.L9)({eventAction:"paymentSuccessfulCN"}),b=e=>(0,o.L9)({eventName:"PWD-sp35-240515",eventAction:e}),P=()=>(0,o.L9)({eventAction:"sharetoCollaboration"}),k=()=>(0,o.L9)({eventAction:"sharetoEvernote"}),C=e=>(0,o.L9)({eventAction:"pweDisplay",eventName:e}),L=e=>(0,o.L9)({eventAction:"pweContinue",eventName:e}),Z=e=>(0,o.L9)({eventAction:"closePwe",eventName:e}),A=e=>(0,o.L9)({eventAction:"pweOrder",eventName:e}),S=e=>(0,o.L9)({eventAction:"purchaseSource",eventName:e}),x=e=>(0,o.L9)({eventAction:"purchaseWindow",eventName:e}),_=({region:e,productId:t})=>(0,o.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButton"+e.toLowerCase(),eventName:t}),E=({region:e,productId:t})=>(0,o.L9)({eventCategory:"Activate",eventAction:"clickSubscriptButtonMAS"+e.toLowerCase(),eventName:t}),T=()=>(0,o.L9)({eventAction:"autoDisconnect"}),N=()=>(0,o.L9)({eventAction:"disableSmartGuideline",eventName:"disableSmartGuideline"}),I=()=>(0,o.L9)({eventAction:"enableSmartGuideline",eventName:"enableSmartGuideline"}),$=()=>(0,o.L9)({eventAction:"clickSearchMaps",eventName:"clickSearchMaps"}),z=()=>(0,o.L9)({eventAction:"insertTaskInfo",eventName:"insertTaskInfo"}),R=()=>(0,o.L9)({eventAction:"removeTaskInfo",eventName:"removeTaskInfo"}),F=()=>(0,o.L9)({eventAction:"enableAutoCalculate",eventName:"enableAutoCalculate"}),B=()=>(0,o.L9)({eventAction:"disableAutoCalculate",eventName:"disableAutoCalculate"}),O=()=>(0,o.L9)({eventAction:"disableDisplayinTopic",eventName:"disableDisplayinTopic"}),J=()=>(0,o.L9)({eventAction:"enableDisplayinTopic",eventName:"enableDisplayinTopic"})},59474:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var o=n(77412),s=n(2954);const i=(0,o.Q_)("bootstrap",(()=>{const e=(0,s.iH)(!1),t=(0,s.iH)(0);return{ready:e,markReady:()=>e.value=!0,pendingJobs:t,startJob:()=>t.value+=1,endJob:()=>t.value-=1}}))},65428:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var o=n(54856),s=n(77412),i=n(2954),r=n(90435);const a=(0,s.Q_)("fonts",(()=>{const e=(0,i.iH)(!1),t=(0,i.iH)({systemFonts:{},vanaFonts:{}});return{loaded:e,markLoaded:()=>e.value=!0,getLoadedFonts:async()=>{if(!t.value||Object.keys(t.value.systemFonts).length<=0&&Object.keys(t.value.vanaFonts).length<=0){const e=await(0,r.he)(o.qz);t.value=e}return t.value}}}))},7710:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var o=n(77412),s=n(2954);const i=(0,o.Q_)("query",(()=>{const e=(0,s.iH)({});return{query:e,setQuery:t=>{e.value=t}}}))},2563:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var o=n(77412),s=n(2954);const i=(0,o.Q_)("renderer-app",(()=>{const e=(0,s.iH)(!1),t=(0,s.XI)([]),n=(0,s.XI)({}),o=(0,s.XI)([]);return{ignoreAppearanceChanged:e,updateIgnoreAppearance:t=>{e.value=t},builtinFontFamilies:t,updateBuiltinFontFamilies:e=>t.value=e,allFonts:n,updateAllFonts:e=>n.value=e,fontsForMindMap:o,updateFontsForMindMap:e=>o.value=e}}))},53775:(e,t,n)=>{"use strict";async function o(){await new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)}))))}async function s(e){return Promise.race([new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)})))),new Promise((t=>setTimeout(t,null!=e?e:200)))])}function i(e,t=300,n=!1){let o;function s(...t){o=void 0,n||e.apply(this,t)}const i=function(...i){void 0!==o&&clearTimeout(o),n&&!o&&e.apply(this,i),o=setTimeout(s.bind(this,...i),t)};return i.cancel=function(){void 0!==o&&(clearTimeout(o),o=void 0)},i}function r(e,t=300,n=!1){let o,s,i,r=!1;function a(){s=Date.now(),e.apply(this,i),void 0!==o&&(clearTimeout(o),o=void 0)}const d=function(...e){if(r)return;if(i=e,n&&!s)return void a.apply(this);const d=Date.now(),c=d-(null!=s?s:d);c>=t?a.apply(this):void 0===o&&(o=setTimeout(a.bind(this),t-c))};return d.cancel=function(e=!0){void 0!==o&&(clearTimeout(o),o=void 0),s=void 0,r=e},d}n.d(t,{Ds:()=>i,P2:()=>r,SX:()=>o,gH:()=>a,qJ:()=>s});const a=(e,t)=>{let n=e,o="";if("object"==typeof t){const e=new URLSearchParams;for(const n in t)e.append(n,t[n]);o=e.toString()}return n=n.includes("?")?n+"&"+o:n+"?"+o,n}},40094:(e,t,n)=>{var o=n(921);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,n(45346).Z)("e95131c2",o,!0,{})},45346:(e,t,n)=>{"use strict";function o(e,t){for(var n=[],o={},s=0;s<t.length;s++){var i=t[s],r=i[0],a={id:e+":"+s,css:i[1],media:i[2],sourceMap:i[3]};o[r]?o[r].parts.push(a):n.push(o[r]={id:r,parts:[a]})}return n}n.d(t,{Z:()=>v});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=s&&(document.head||document.getElementsByTagName("head")[0]),a=null,d=0,c=!1,l=function(){},u=null,p="data-vue-ssr-id",w="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(e,t,n,s){c=n,u=s||{};var r=o(e,t);return m(r),function(t){for(var n=[],s=0;s<r.length;s++){var a=r[s];(d=i[a.id]).refs--,n.push(d)}t?m(r=o(e,t)):r=[];for(s=0;s<n.length;s++){var d;if(0===(d=n[s]).refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete i[d.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],o=i[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(h(n.parts[s]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var r=[];for(s=0;s<n.parts.length;s++)r.push(h(n.parts[s]));i[n.id]={id:n.id,refs:1,parts:r}}}}function f(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function h(e){var t,n,o=document.querySelector("style["+p+'~="'+e.id+'"]');if(o){if(c)return l;o.parentNode.removeChild(o)}if(w){var s=d++;o=a||(a=f()),t=b.bind(null,o,s,!1),n=b.bind(null,o,s,!0)}else o=f(),t=P.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}var y,g=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function b(e,t,n,o){var s=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(t,s);else{var i=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function P(e,t){var n=t.css,o=t.media,s=t.sourceMap;if(o&&e.setAttribute("media",o),u.ssrId&&e.setAttribute(p,t.id),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},6113:e=>{"use strict";e.exports=require("crypto")},72298:e=>{"use strict";e.exports=require("electron")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")}},e=>{e.O(0,[8592,8970],(()=>{return t=27012,e(e.s=t);var t}));var t=e.O();module.exports=t}]);